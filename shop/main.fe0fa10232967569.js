"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[179],{2011:(Qe,Ce,x)=>{x.d(Ce,{Dh:()=>ue,GT:()=>ce,cc:()=>Se,hO:()=>Pe,on:()=>H,pX:()=>re,xv:()=>he});var u=x(4650),X=x(127),P=x(5813);Qe=x.hmd(Qe);const se=["ngOnDestroy"],re=(de,je,qe,Ie={})=>new Proxy(de,{get:(ge,De)=>qe.runOutsideAngular(()=>{var xe;if(de[De])return!(null===(xe=Ie?.spy)||void 0===xe)&&xe.get&&Ie.spy.get(De,de[De]),de[De];if(se.indexOf(De)>-1)return()=>{};const Ve=je.toPromise().then(U=>{const fe=U&&U[De];return"function"==typeof fe?fe.bind(U):fe&&fe.then?fe.then(Y=>qe.run(()=>Y)):qe.run(()=>fe)});return new Proxy(()=>{},{get:(U,fe)=>Ve[fe],apply:(U,fe,Y)=>Ve.then(ee=>{var oe;const ne=ee&&ee(...Y);return!(null===(oe=Ie?.spy)||void 0===oe)&&oe.apply&&Ie.spy.apply(De,Y,ne),ne})})})}),ce=(de,je)=>{je.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Ie=>{Object.defineProperty(de.prototype,Ie,Object.getOwnPropertyDescriptor(qe.prototype||qe,Ie))})})};class ae{constructor(je){return je}}const ue=new u.OlP("angularfire2.app.options"),he=new u.OlP("angularfire2.app.name");function H(de,je,qe){const ge="object"==typeof qe&&qe||{};ge.name=ge.name||"string"==typeof qe&&qe||"[DEFAULT]";const xe=X.Z.apps.filter(Ve=>Ve&&Ve.name===ge.name)[0]||je.runOutsideAngular(()=>X.Z.initializeApp(de,ge));try{JSON.stringify(de)!==JSON.stringify(xe.options)&&$("error",`${xe.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(xe)}const $=(de,...je)=>{(0,u.X6Q)()&&typeof console<"u"&&console[de](...je)},q={provide:ae,useFactory:H,deps:[ue,u.R0b,[new u.FiY,he]]};let Pe=(()=>{class de{constructor(qe){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,qe.toString())}static initializeApp(qe,Ie){return{ngModule:de,providers:[{provide:ue,useValue:qe},{provide:he,useValue:Ie}]}}}return de.\u0275fac=function(qe){return new(qe||de)(u.LFG(u.Lbi))},de.\u0275mod=u.oAB({type:de}),de.\u0275inj=u.cJS({providers:[q]}),de})();function Se(de,je,qe,Ie,ge){const[,De,xe]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===de)||[];if(De)return function _e(de,je){try{return de.toString()===je.toString()}catch{return de===je}}(ge,xe)||(pe("error",`${je} was already initialized on the ${qe} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ge,was:xe})),De;{const Ve=Ie();return globalThis.\u0275AngularfireInstanceCache.push([de,Ve,ge]),Ve}}const Ge=!!Qe.hot,pe=(de,...je)=>{(0,u.X6Q)()&&typeof console<"u"&&console[de](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Qe,Ce,x)=>{x.d(Ce,{q4:()=>We,iC:()=>Or,HU:()=>Ci,vb:()=>cr,JM:()=>oa});var u=x(4650),X=x(5867),P=x(5861),se=x(9681),re=x(2090),ce=x(4859),ae=x(1877),ue=x(8766);const he="@firebase/installations",H="0.5.12",q=`w:${H}`,Pe="FIS_v2",je=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(w){return w instanceof re.ZR&&w.code.includes("request-failed")}function Ie({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ge(w){return{token:w.token,requestStatus:2,expiresIn:ee(w.expiresIn),creationTime:Date.now()}}function De(w,E){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(w,E){const L=(yield E.json()).error;return je.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ve({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function U(w,{refreshToken:E}){const N=Ve(w);return N.append("Authorization",function oe(w){return`${Pe} ${w}`}(E)),N}function fe(w){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(w){const E=yield w();return E.status>=500&&E.status<600?w():E})).apply(this,arguments)}function ee(w){return Number(w.replace("s","000"))}function ne(w,E){return Re.apply(this,arguments)}function Re(){return(Re=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:E},{fid:N}){const L=Ie(w),J=Ve(w),ie=E.getImmediate({optional:!0});if(ie){const lt=yield ie.getHeartbeatsHeader();lt&&J.append("x-firebase-client",lt)}const Ae={method:"POST",headers:J,body:JSON.stringify({fid:N,authVersion:Pe,appId:w.appId,sdkVersion:q})},Ke=yield fe(()=>fetch(L,Ae));if(Ke.ok){const lt=yield Ke.json();return{fid:lt.fid||N,registrationStatus:2,refreshToken:lt.refreshToken,authToken:ge(lt.authToken)}}throw yield De("Create Installation",Ke)})).apply(this,arguments)}function Me(w){return new Promise(E=>{setTimeout(E,w)})}const At=/^[cdef][\w-]{21}$/;function Ue(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const N=function $t(w){return function rt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return At.test(N)?N:""}catch{return""}}function gn(w){return`${w.appName}!${w.appId}`}const xt=new Map;function kt(w,E){const N=gn(w);jt(N,E),function es(w,E){const N=function Xn(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=w=>{jt(w.data.key,w.data.fid)}),fi}();N&&N.postMessage({key:w,fid:E}),function pi(){0===xt.size&&fi&&(fi.close(),fi=null)}()}(N,E)}function jt(w,E){const N=xt.get(w);if(N)for(const L of N)L(E)}let fi=null;const gi="firebase-installations-store";let Ni=null;function ts(){return Ni||(Ni=(0,ue.X3)("firebase-installations-database",1,{upgrade:(w,E)=>{0===E&&w.createObjectStore(gi)}})),Ni}function He(w,E){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*(w,E){const N=gn(w),J=(yield ts()).transaction(gi,"readwrite"),ie=J.objectStore(gi),be=yield ie.get(N);return yield ie.put(E,N),yield J.done,(!be||be.fid!==E.fid)&&kt(w,E.fid),E})).apply(this,arguments)}function br(w){return mn.apply(this,arguments)}function mn(){return(mn=(0,P.Z)(function*(w){const E=gn(w),L=(yield ts()).transaction(gi,"readwrite");yield L.objectStore(gi).delete(E),yield L.done})).apply(this,arguments)}function Ai(w,E){return _i.apply(this,arguments)}function _i(){return(_i=(0,P.Z)(function*(w,E){const N=gn(w),J=(yield ts()).transaction(gi,"readwrite"),ie=J.objectStore(gi),be=yield ie.get(N),Ae=E(be);return void 0===Ae?yield ie.delete(N):yield ie.put(Ae,N),yield J.done,Ae&&(!be||be.fid!==Ae.fid)&&kt(w,Ae.fid),Ae})).apply(this,arguments)}function _n(w){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(w){let E;const N=yield Ai(w.appConfig,L=>{const J=Kt(L),ie=ot(w,J);return E=ie.registrationPromise,ie.installationEntry});return""===N.fid?{installationEntry:yield E}:{installationEntry:N,registrationPromise:E}})).apply(this,arguments)}function Kt(w){return dt(w||{fid:Ue(),registrationStatus:0})}function ot(w,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(je.create("app-offline"))};const N={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},L=function Xe(w,E){return Gt.apply(this,arguments)}(w,N);return{installationEntry:N,registrationPromise:L}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Bn(w)}:{installationEntry:E}}function Gt(){return(Gt=(0,P.Z)(function*(w,E){try{const N=yield ne(w,E);return He(w.appConfig,N)}catch(N){throw qe(N)&&409===N.customData.serverCode?yield br(w.appConfig):yield He(w.appConfig,{fid:E.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Bn(w){return Un.apply(this,arguments)}function Un(){return(Un=(0,P.Z)(function*(w){let E=yield oi(w.appConfig);for(;1===E.registrationStatus;)yield Me(100),E=yield oi(w.appConfig);if(0===E.registrationStatus){const{installationEntry:N,registrationPromise:L}=yield _n(w);return L||N}return E})).apply(this,arguments)}function oi(w){return Ai(w,E=>{if(!E)throw je.create("installation-not-found");return dt(E)})}function dt(w){return function Dr(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Lt(w,E){return $i.apply(this,arguments)}function $i(){return($i=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:E},N){const L=Ft(w,N),J=U(w,N),ie=E.getImmediate({optional:!0});if(ie){const lt=yield ie.getHeartbeatsHeader();lt&&J.append("x-firebase-client",lt)}const Ae={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:q,appId:w.appId}})},Ke=yield fe(()=>fetch(L,Ae));if(Ke.ok)return ge(yield Ke.json());throw yield De("Generate Auth Token",Ke)})).apply(this,arguments)}function Ft(w,{fid:E}){return`${Ie(w)}/${E}/authTokens:generate`}function K(w){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(w,E=!1){let N;const L=yield Ai(w.appConfig,ie=>{if(!et(ie))throw je.create("not-registered");const be=ie.authToken;if(!E&&Zt(be))return ie;if(1===be.requestStatus)return N=B(w,E),ie;{if(!navigator.onLine)throw je.create("app-offline");const Ae=Rn(ie);return N=we(w,Ae),Ae}});return N?yield N:L.authToken})).apply(this,arguments)}function B(w,E){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(w,E){let N=yield z(w.appConfig);for(;1===N.authToken.requestStatus;)yield Me(100),N=yield z(w.appConfig);const L=N.authToken;return 0===L.requestStatus?K(w,E):L})).apply(this,arguments)}function z(w){return Ai(w,E=>{if(!et(E))throw je.create("not-registered");return function Et(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function we(w,E){return ke.apply(this,arguments)}function ke(){return(ke=(0,P.Z)(function*(w,E){try{const N=yield Lt(w,E),L=Object.assign(Object.assign({},E),{authToken:N});return yield He(w.appConfig,L),N}catch(N){if(!qe(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const L=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield He(w.appConfig,L)}else yield br(w.appConfig);throw N}})).apply(this,arguments)}function et(w){return void 0!==w&&2===w.registrationStatus}function Zt(w){return 2===w.requestStatus&&!function Vt(w){const E=Date.now();return E<w.creationTime||w.creationTime+w.expiresIn<E+36e5}(w)}function Rn(w){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:E})}function tn(){return(tn=(0,P.Z)(function*(w){const E=w,{installationEntry:N,registrationPromise:L}=yield _n(E);return L?L.catch(console.error):K(E).catch(console.error),N.fid})).apply(this,arguments)}function ir(){return(ir=(0,P.Z)(function*(w,E=!1){const N=w;return yield si(N),(yield K(N,E)).token})).apply(this,arguments)}function si(w){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(w){const{registrationPromise:E}=yield _n(w);E&&(yield E)})).apply(this,arguments)}function Wr(w){return je.create("missing-app-config-values",{valueName:w})}const ns="installations",nn=w=>{const E=w.getProvider("app").getImmediate(),N=function Jt(w){if(!w||!w.options)throw Wr("App Configuration");if(!w.name)throw Wr("App Name");const E=["projectId","apiKey","appId"];for(const N of E)if(!w.options[N])throw Wr(N);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(E);return{app:E,appConfig:N,heartbeatServiceProvider:(0,se._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},wo=w=>{const E=w.getProvider("app").getImmediate(),N=(0,se._getProvider)(E,ns).getImmediate();return{getId:()=>function vt(w){return tn.apply(this,arguments)}(N),getToken:J=>function Sn(w){return ir.apply(this,arguments)}(N,J)}};(function Tl(){(0,se._registerComponent)(new ce.wA(ns,nn,"PUBLIC")),(0,se._registerComponent)(new ce.wA("installations-internal",wo,"PRIVATE"))})(),(0,se.registerVersion)(he,H),(0,se.registerVersion)(he,H,"esm2017");const rr="@firebase/remote-config",Mn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class md{constructor(E,N,L,J){this.client=E,this.storage=N,this.storageCache=L,this.logger=J}isCachedDataFresh(E,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-N,J=L<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${J}.`),J}fetch(E){var N=this;return(0,P.Z)(function*(){const[L,J]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(J&&N.isCachedDataFresh(E.cacheMaxAgeMillis,L))return J;E.eTag=J&&J.eTag;const ie=yield N.client.fetch(E),be=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&be.push(N.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(be),ie})()}}function To(w=navigator){return w.languages&&w.languages[0]||w.language}class Ml{constructor(E,N,L,J,ie,be){this.firebaseInstallations=E,this.sdkVersion=N,this.namespace=L,this.projectId=J,this.apiKey=ie,this.appId=be}fetch(E){var N=this;return(0,P.Z)(function*(){var L,J,ie;const[be,Ae]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},nt={sdk_version:N.sdkVersion,app_instance_id:be,app_instance_id_token:Ae,app_id:N.appId,language_code:To()},on={method:"POST",headers:gt,body:JSON.stringify(nt)},Zn=fetch(lt,on),Lo=new Promise((bs,Vo)=>{E.signal.addEventListener(()=>{const Ji=new Error("The operation was aborted.");Ji.name="AbortError",Vo(Ji)})});let so;try{yield Promise.race([Zn,Lo]),so=yield Zn}catch(bs){let Vo="fetch-client-network";throw"AbortError"===(null===(L=bs)||void 0===L?void 0:L.name)&&(Vo="fetch-timeout"),Mn.create(Vo,{originalErrorMessage:null===(J=bs)||void 0===J?void 0:J.message})}let pt=so.status;const dr=so.headers.get("ETag")||void 0;let ao,xi;if(200===so.status){let bs;try{bs=yield so.json()}catch(Vo){throw Mn.create("fetch-client-parse",{originalErrorMessage:null===(ie=Vo)||void 0===ie?void 0:ie.message})}ao=bs.entries,xi=bs.state}if("INSTANCE_STATE_UNSPECIFIED"===xi?pt=500:"NO_CHANGE"===xi?pt=304:("NO_TEMPLATE"===xi||"EMPTY_CONFIG"===xi)&&(ao={}),304!==pt&&200!==pt)throw Mn.create("fetch-status",{httpStatus:pt});return{status:pt,eTag:dr,config:ao}})()}}class Gh{constructor(E,N){this.client=E,this.storage=N}fetch(E){var N=this;return(0,P.Z)(function*(){const L=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(E,L)})()}attemptFetch(E,{throttleEndTimeMillis:N,backoffCount:L}){var J=this;return(0,P.Z)(function*(){yield function Pn(w,E){return new Promise((N,L)=>{const J=Math.max(E-Date.now(),0),ie=setTimeout(N,J);w.addEventListener(()=>{clearTimeout(ie),L(Mn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,N);try{const ie=yield J.client.fetch(E);return yield J.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Bc(w){if(!(w instanceof re.ZR&&w.customData))return!1;const E=Number(w.customData.httpStatus);return 429===E||500===E||503===E||504===E}(ie))throw ie;const be={throttleEndTimeMillis:Date.now()+(0,re.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(be),J.attemptFetch(E,be)}})()}}class Uc{constructor(E,N,L,J,ie){this.app=E,this._client=N,this._storageCache=L,this._storage=J,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rl(w,E){var N;const L=w.target.error||void 0;return Mn.create(E,{originalErrorMessage:L&&(null===(N=L)||void 0===N?void 0:N.message)})}const Yr="app_namespace_store";class Zh{constructor(E,N,L,J=function Kh(){return new Promise((w,E)=>{var N;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=J=>{E(Rl(J,"storage-open"))},L.onsuccess=J=>{w(J.target.result)},L.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(L){E(Mn.create("storage-open",{originalErrorMessage:null===(N=L)||void 0===N?void 0:N.message}))}})}()){this.appId=E,this.appName=N,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var N=this;return(0,P.Z)(function*(){const L=yield N.openDbPromise;return new Promise((J,ie)=>{var be;const Ke=L.transaction([Yr],"readonly").objectStore(Yr),lt=N.createCompositeKey(E);try{const gt=Ke.get(lt);gt.onerror=nt=>{ie(Rl(nt,"storage-get"))},gt.onsuccess=nt=>{const on=nt.target.result;J(on?on.value:void 0)}}catch(gt){ie(Mn.create("storage-get",{originalErrorMessage:null===(be=gt)||void 0===be?void 0:be.message}))}})})()}set(E,N){var L=this;return(0,P.Z)(function*(){const J=yield L.openDbPromise;return new Promise((ie,be)=>{var Ae;const lt=J.transaction([Yr],"readwrite").objectStore(Yr),gt=L.createCompositeKey(E);try{const nt=lt.put({compositeKey:gt,value:N});nt.onerror=on=>{be(Rl(on,"storage-set"))},nt.onsuccess=()=>{ie()}}catch(nt){be(Mn.create("storage-set",{originalErrorMessage:null===(Ae=nt)||void 0===Ae?void 0:Ae.message}))}})})()}delete(E){var N=this;return(0,P.Z)(function*(){const L=yield N.openDbPromise;return new Promise((J,ie)=>{var be;const Ke=L.transaction([Yr],"readwrite").objectStore(Yr),lt=N.createCompositeKey(E);try{const gt=Ke.delete(lt);gt.onerror=nt=>{ie(Rl(nt,"storage-delete"))},gt.onsuccess=()=>{J()}}catch(gt){ie(Mn.create("storage-delete",{originalErrorMessage:null===(be=gt)||void 0===be?void 0:be.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class jc{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,P.Z)(function*(){const N=E.storage.getLastFetchStatus(),L=E.storage.getLastSuccessfulFetchTimestampMillis(),J=E.storage.getActiveConfig(),ie=yield N;ie&&(E.lastFetchStatus=ie);const be=yield L;be&&(E.lastSuccessfulFetchTimestampMillis=be);const Ae=yield J;Ae&&(E.activeConfig=Ae)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Ra(){return _d.apply(this,arguments)}function _d(){return(_d=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function qr(){(0,se._registerComponent)(new ce.wA("remote-config",function w(E,{instanceIdentifier:N}){const L=E.getProvider("app").getImmediate(),J=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mn.create("registration-window");if(!(0,re.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:ie,apiKey:be,appId:Ae}=L.options;if(!ie)throw Mn.create("registration-project-id");if(!be)throw Mn.create("registration-api-key");if(!Ae)throw Mn.create("registration-app-id");const Ke=new Zh(Ae,L.name,N=N||"firebase"),lt=new jc(Ke),gt=new ae.Yd(rr);gt.logLevel=ae.in.ERROR;const nt=new Ml(J,se.SDK_VERSION,N,ie,be,Ae),on=new Gh(nt,Ke),Zn=new md(on,Ke,lt,gt),Lo=new Uc(L,Zn,lt,Ke,gt);return function vn(w){const E=(0,re.m9)(w);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Lo),Lo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(rr,"0.3.11"),(0,se.registerVersion)(rr,"0.3.11","esm2017")}();const sr="/firebase-messaging-sw.js",wr="/firebase-cloud-messaging-push-scope",Er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bs="google.c.a.c_id",Oa="google.c.a.c_l",Ol="google.c.a.ts",vd="google.c.a.e";var Tr=(()=>{return(w=Tr||(Tr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Tr;var w})();function Ri(w){const E=new Uint8Array(w);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vi(w){const N=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(N),J=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)J[ie]=L.charCodeAt(ie);return J}const is="fcm_token_details_db",ti="fcm_token_object_Store";function yd(w){return bd.apply(this,arguments)}function bd(){return bd=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(is))return null;let E=null;return(yield(0,ue.X3)(is,5,{upgrade:(L=(0,P.Z)(function*(J,ie,be,Ae){var Ke;if(ie<2||!J.objectStoreNames.contains(ti))return;const lt=Ae.objectStore(ti),gt=yield lt.index("fcmSenderId").get(w);if(yield lt.clear(),gt)if(2===ie){const nt=gt;if(!nt.auth||!nt.p256dh||!nt.endpoint)return;E={token:nt.fcmToken,createTime:null!==(Ke=nt.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:nt.auth,p256dh:nt.p256dh,endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:"string"==typeof nt.vapidKey?nt.vapidKey:Ri(nt.vapidKey)}}}else if(3===ie){const nt=gt;E={token:nt.fcmToken,createTime:nt.createTime,subscriptionOptions:{auth:Ri(nt.auth),p256dh:Ri(nt.p256dh),endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:Ri(nt.vapidKey)}}}else if(4===ie){const nt=gt;E={token:nt.fcmToken,createTime:nt.createTime,subscriptionOptions:{auth:Ri(nt.auth),p256dh:Ri(nt.p256dh),endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:Ri(nt.vapidKey)}}}}),function(ie,be,Ae,Ke){return L.apply(this,arguments)})})).close(),yield(0,ue.Lj)(is),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),cn(E)?E:null;var L}),bd.apply(this,arguments)}function cn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:E}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Oi="firebase-messaging-store";let li=null;function xa(){return li||(li=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(w,E)=>{0===E&&w.createObjectStore(Oi)}})),li}function rs(w){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,P.Z)(function*(w){const E=zi(w),L=yield(yield xa()).transaction(Oi).objectStore(Oi).get(E);if(L)return L;{const J=yield yd(w.appConfig.senderId);if(J)return yield Mt(w,J),J}})).apply(this,arguments)}function Mt(w,E){return ka.apply(this,arguments)}function ka(){return(ka=(0,P.Z)(function*(w,E){const N=zi(w),J=(yield xa()).transaction(Oi,"readwrite");return yield J.objectStore(Oi).put(E,N),yield J.done,E})).apply(this,arguments)}function So(w){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,P.Z)(function*(w){const E=zi(w),L=(yield xa()).transaction(Oi,"readwrite");yield L.objectStore(Oi).delete(E),yield L.done})).apply(this,arguments)}function zi({appConfig:w}){return w.appId}const sn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ht(w,E){return Va.apply(this,arguments)}function Va(){return(Va=(0,P.Z)(function*(w,E){var N;const L=yield kl(w),J=Ee(E),ie={method:"POST",headers:L,body:JSON.stringify(J)};let be;try{be=yield(yield fetch(Sr(w.appConfig),ie)).json()}catch(Ae){throw sn.create("token-subscribe-failed",{errorInfo:null===(N=Ae)||void 0===N?void 0:N.toString()})}if(be.error)throw sn.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw sn.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function Cd(w,E){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(w,E){var N;const L=yield kl(w),J=Ee(E.subscriptionOptions),ie={method:"PATCH",headers:L,body:JSON.stringify(J)};let be;try{be=yield(yield fetch(`${Sr(w.appConfig)}/${E.token}`,ie)).json()}catch(Ae){throw sn.create("token-update-failed",{errorInfo:null===(N=Ae)||void 0===N?void 0:N.toString()})}if(be.error)throw sn.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw sn.create("token-update-no-token");return be.token})).apply(this,arguments)}function Ua(w,E){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(w,E){var N;const J={method:"DELETE",headers:yield kl(w)};try{const be=yield(yield fetch(`${Sr(w.appConfig)}/${E}`,J)).json();if(be.error)throw sn.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(ie){throw sn.create("token-unsubscribe-failed",{errorInfo:null===(N=ie)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function Sr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function kl(w){return Us.apply(this,arguments)}function Us(){return(Us=(0,P.Z)(function*({appConfig:w,installations:E}){const N=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ee({p256dh:w,auth:E,endpoint:N,vapidKey:L}){const J={web:{endpoint:N,auth:E,p256dh:w}};return L!==Er&&(J.web.applicationPubKey=L),J}const Tt=6048e5;function Ha(w){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(w){const E=yield Fl(w.swRegistration,w.vapidKey),N={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:E.endpoint,auth:Ri(E.getKey("auth")),p256dh:Ri(E.getKey("p256dh"))},L=yield rs(w.firebaseDependencies);if(L){if(Wc(L.subscriptionOptions,N))return Date.now()>=L.createTime+Tt?os(w,{token:L.token,createTime:Date.now(),subscriptionOptions:N}):L.token;try{yield Ua(w.firebaseDependencies,L.token)}catch(J){console.warn(J)}return Hs(w.firebaseDependencies,N)}return Hs(w.firebaseDependencies,N)})).apply(this,arguments)}function un(w){return $a.apply(this,arguments)}function $a(){return($a=(0,P.Z)(function*(w){const E=yield rs(w.firebaseDependencies);E&&(yield Ua(w.firebaseDependencies,E.token),yield So(w.firebaseDependencies));const N=yield w.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function os(w,E){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,P.Z)(function*(w,E){try{const N=yield Cd(w.firebaseDependencies,E),L=Object.assign(Object.assign({},E),{token:N,createTime:Date.now()});return yield Mt(w.firebaseDependencies,L),N}catch(N){throw yield un(w),N}})).apply(this,arguments)}function Hs(w,E){return js.apply(this,arguments)}function js(){return(js=(0,P.Z)(function*(w,E){const L={token:yield ht(w,E),createTime:Date.now(),subscriptionOptions:E};return yield Mt(w,L),L.token})).apply(this,arguments)}function Fl(w,E){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,P.Z)(function*(w,E){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vi(E)})})).apply(this,arguments)}function Wc(w,E){return E.vapidKey===w.vapidKey&&E.endpoint===w.endpoint&&E.auth===w.auth&&E.p256dh===w.p256dh}function $s(w){const E={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function dn(w,E){if(!E.notification)return;w.notification={};const N=E.notification.title;N&&(w.notification.title=N);const L=E.notification.body;L&&(w.notification.body=L);const J=E.notification.image;J&&(w.notification.image=J)}(E,w),function ar(w,E){!E.data||(w.data=E.data)}(E,w),function Vl(w,E){var N,L,J,ie,be;if(!(E.fcmOptions||null!==(N=E.notification)&&void 0!==N&&N.click_action))return;w.fcmOptions={};const Ae=null!==(J=null===(L=E.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==J?J:null===(ie=E.notification)||void 0===ie?void 0:ie.click_action;Ae&&(w.fcmOptions.link=Ae);const Ke=null===(be=E.fcmOptions)||void 0===be?void 0:be.analytics_label;Ke&&(w.fcmOptions.analyticsLabel=Ke)}(E,w),E}function No(w){return"object"==typeof w&&!!w&&Bs in w}function Nr(w,E){const N=[];for(let L=0;L<w.length;L++)N.push(w.charAt(L)),L<E.length&&N.push(E.charAt(L));return N.join("")}function Gs(w){return sn.create("missing-app-config-values",{valueName:w})}Nr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qh{constructor(E,N,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Yh(w){if(!w||!w.options)throw Gs("App Configuration Object");if(!w.name)throw Gs("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:N}=w;for(const L of E)if(!N[L])throw Gs(L);return{appName:w.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:J,installations:N,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Bl(w){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,P.Z)(function*(w){var E;try{w.swRegistration=yield navigator.serviceWorker.register(sr,{scope:wr}),w.swRegistration.update().catch(()=>{})}catch(N){throw sn.create("failed-service-worker-registration",{browserErrorMessage:null===(E=N)||void 0===E?void 0:E.message})}})).apply(this,arguments)}function Ws(w,E){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,P.Z)(function*(w,E){if(!E&&!w.swRegistration&&(yield Bl(w)),E||!w.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");w.swRegistration=E}})).apply(this,arguments)}function zs(w,E){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,P.Z)(function*(w,E){E?w.vapidKey=E:w.vapidKey||(w.vapidKey=Er)})).apply(this,arguments)}function za(){return(za=(0,P.Z)(function*(w,E){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield zs(w,E?.vapidKey),yield Ws(w,E?.serviceWorkerRegistration),Ha(w)})).apply(this,arguments)}function jl(w,E,N){return $l.apply(this,arguments)}function $l(){return($l=(0,P.Z)(function*(w,E,N){const L=Gl(E);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:N[Bs],message_name:N[Oa],message_time:N[Ol],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gl(w){switch(w){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ao(){return(Ao=(0,P.Z)(function*(w,E){const N=E.data;if(!N.isFirebaseMessaging)return;w.onMessageHandler&&N.messageType===Tr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler($s(N)):w.onMessageHandler.next($s(N)));const L=N.data;No(L)&&"1"===L[vd]&&(yield jl(w,N.messageType,L))})).apply(this,arguments)}const Mo="@firebase/messaging",xn=w=>{const E=new qh(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function zc(w,E){return Ao.apply(this,arguments)}(E,N)),E},yi=w=>{const E=w.getProvider("messaging").getImmediate();return{getToken:L=>function Wa(w,E){return za.apply(this,arguments)}(E,L)}};function Kc(){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qt(){(0,se._registerComponent)(new ce.wA("messaging",xn,"PUBLIC")),(0,se._registerComponent)(new ce.wA("messaging-internal",yi,"PRIVATE")),(0,se.registerVersion)(Mo,"0.9.16"),(0,se.registerVersion)(Mo,"0.9.16","esm2017")}();const ls="analytics",qc="firebase_id",Ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ya="https://www.googletagmanager.com/gtag/js",hn=new ae.Yd("@firebase/analytics");function qa(w){return Promise.all(w.map(E=>E.catch(N=>N)))}function Ja(w,E){const N=document.createElement("script");N.src=`${Ya}?l=${w}&id=${E}`,N.async=!0,document.head.appendChild(N)}function Ed(w,E,N,L,J,ie){return cs.apply(this,arguments)}function cs(){return(cs=(0,P.Z)(function*(w,E,N,L,J,ie){const be=L[J];try{if(be)yield E[be];else{const Ke=(yield qa(N)).find(lt=>lt.measurementId===J);Ke&&(yield E[Ke.appId])}}catch(Ae){hn.error(Ae)}w("config",J,ie)})).apply(this,arguments)}function us(w,E,N,L,J){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,P.Z)(function*(w,E,N,L,J){try{let ie=[];if(J&&J.send_to){let be=J.send_to;Array.isArray(be)||(be=[be]);const Ae=yield qa(N);for(const Ke of be){const lt=Ae.find(nt=>nt.measurementId===Ke),gt=lt&&E[lt.appId];if(!gt){ie=[];break}ie.push(gt)}}0===ie.length&&(ie=Object.values(E)),yield Promise.all(ie),w("event",L,J||{})}catch(ie){hn.error(ie)}})).apply(this,arguments)}function Qc(){const w=window.document.getElementsByTagName("script");for(const E of Object.values(w))if(E.src&&E.src.includes(Ya))return E;return null}const $n=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qs=new class lr{constructor(E={},N=1e3){this.throttleMetadata=E,this.intervalMillis=N}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,N){this.throttleMetadata[E]=N}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function eu(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Js(w){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,P.Z)(function*(w){var E;const{appId:N,apiKey:L}=w,J={method:"GET",headers:eu(L)},ie=Ro.replace("{app-id}",N),be=yield fetch(ie,J);if(200!==be.status&&304!==be.status){let Ae="";try{const Ke=yield be.json();null!==(E=Ke.error)&&void 0!==E&&E.message&&(Ae=Ke.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Ae})}return be.json()})).apply(this,arguments)}function yn(w){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(w,E=qs,N){const{appId:L,apiKey:J,measurementId:ie}=w.options;if(!L)throw $n.create("no-app-id");if(!J){if(ie)return{measurementId:ie,appId:L};throw $n.create("no-api-key")}const be=E.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ae=new tl;return setTimeout((0,P.Z)(function*(){Ae.abort()}),void 0!==N?N:6e4),Xa({appId:L,apiKey:J,measurementId:ie},be,Ae,E)})).apply(this,arguments)}function Xa(w,E,N){return Po.apply(this,arguments)}function Po(){return(Po=(0,P.Z)(function*(w,{throttleEndTimeMillis:E,backoffCount:N},L,J=qs){var ie,be;const{appId:Ae,measurementId:Ke}=w;try{yield Qs(L,E)}catch(lt){if(Ke)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${null===(ie=lt)||void 0===ie?void 0:ie.message}]`),{appId:Ae,measurementId:Ke};throw lt}try{const lt=yield Js(w);return J.deleteThrottleMetadata(Ae),lt}catch(lt){const gt=lt;if(!el(gt)){if(J.deleteThrottleMetadata(Ae),Ke)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:Ae,measurementId:Ke};throw lt}const nt=503===Number(null===(be=gt?.customData)||void 0===be?void 0:be.httpStatus)?(0,re.$s)(N,J.intervalMillis,30):(0,re.$s)(N,J.intervalMillis),on={throttleEndTimeMillis:Date.now()+nt,backoffCount:N+1};return J.setThrottleMetadata(Ae,on),hn.debug(`Calling attemptFetch again in ${nt} millis`),Xa(w,on,L,J)}})).apply(this,arguments)}function Qs(w,E){return new Promise((N,L)=>{const J=Math.max(E-Date.now(),0),ie=setTimeout(N,J);w.addEventListener(()=>{clearTimeout(ie),L($n.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function el(w){if(!(w instanceof re.ZR&&w.customData))return!1;const E=Number(w.customData.httpStatus);return 429===E||500===E||503===E||504===E}class tl{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let Xr,ea;function eo(){return(eo=(0,P.Z)(function*(w,E,N,L,J){if(J&&J.global)w("event",N,L);else{const ie=yield E;w("event",N,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function ko(w){ea=w}function Jl(w){Xr=w}function Mr(){return il.apply(this,arguments)}function il(){return(il=(0,P.Z)(function*(){var w;if(!(0,re.hl)())return hn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(E){return hn.warn($n.create("indexeddb-unavailable",{errorInfo:null===(w=E)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function fs(){return(fs=(0,P.Z)(function*(w,E,N,L,J,ie,be){var Ae;const Ke=yn(w);Ke.then(Zn=>{N[Zn.measurementId]=Zn.appId,w.options.measurementId&&Zn.measurementId!==w.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>hn.error(Zn)),E.push(Ke);const lt=Mr().then(Zn=>{if(Zn)return L.getId()}),[gt,nt]=yield Promise.all([Ke,lt]);Qc()||Ja(ie,gt.measurementId),ea&&(J("consent","default",ea),ko(void 0)),J("js",new Date);const on=null!==(Ae=be?.config)&&void 0!==Ae?Ae:{};return on.origin="firebase",on.update=!0,null!=nt&&(on[qc]=nt),J("config",gt.measurementId,on),Xr&&(J("set",Xr),Jl(void 0)),gt.measurementId})).apply(this,arguments)}class rl{constructor(E){this.app=E}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},to=[];const ps={};let ms,Fo,gs="dataLayer",ta=!1;function tg(w,E,N){!function Jh(){const w=[];if((0,re.ru)()&&w.push("This is a browser extension environment."),(0,re.zI)()||w.push("Cookies are not available."),w.length>0){const E=w.map((L,J)=>`(${J+1}) ${L}`).join(" "),N=$n.create("invalid-analytics-context",{errorInfo:E});hn.warn(N.message)}}();const L=w.options.appId;if(!L)throw $n.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw $n.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bi[L])throw $n.create("already-exists",{id:L});if(!ta){!function Jc(w){let E=[];Array.isArray(window[w])?E=window[w]:window[w]=E}(gs);const{wrappedGtag:ie,gtagCore:be}=function Ks(w,E,N,L,J){let ie=function(...be){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ie=window[J]),window[J]=function Qa(w,E,N,L){function ie(){return(ie=(0,P.Z)(function*(be,Ae,Ke){try{"event"===be?yield us(w,E,N,Ae,Ke):"config"===be?yield Ed(w,E,N,L,Ae,Ke):"consent"===be?w("consent","update",Ke):w("set",Ae)}catch(lt){hn.error(lt)}})).apply(this,arguments)}return function J(be,Ae,Ke){return ie.apply(this,arguments)}}(ie,w,E,N),{gtagCore:ie,wrappedGtag:window[J]}}(bi,to,ps,gs,"gtag");Fo=ie,ms=be,ta=!0}return bi[L]=function hs(w,E,N,L,J,ie,be){return fs.apply(this,arguments)}(w,to,ps,E,ms,gs,N),new rl(w)}function ig(){return Td.apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Ze="@firebase/analytics";!function Bt(){(0,se._registerComponent)(new ce.wA(ls,(E,{options:N})=>tg(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,se._registerComponent)(new ce.wA("analytics-internal",function w(E){try{const N=E.getProvider(ls).getImmediate();return{logEvent:(L,J,ie)=>function rn(w,E,N,L){w=(0,re.m9)(w),function tu(w,E,N,L,J){return eo.apply(this,arguments)}(Fo,bi[w.app.options.appId],E,N,L).catch(J=>hn.error(J))}(N,L,J,ie)}}catch(N){throw $n.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,se.registerVersion)(Ze,"0.8.0"),(0,se.registerVersion)(Ze,"0.8.0","esm2017")}();var Zi=x(4408),bn=x(7565);const sl=new class no extends bn.v{}(class na extends Zi.o{constructor(E,N){super(E,N),this.scheduler=E,this.work=N}schedule(E,N=0){return N>0?super.schedule(E,N):(this.delay=N,this.state=E,this.scheduler.flush(this),this)}execute(E,N){return N>0||this.closed?super.execute(E,N):this._execute(E,N)}requestAsyncId(E,N,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(E,N,L):E.flush(this)}});var Xl=x(4986),ia=x(8505),_s=x(9468),Rr=x(5363);const We=new u.GfV("7.4.1"),ra="__angularfire_symbol__analyticsIsSupportedValue",io="__angularfire_symbol__analyticsIsSupported",vs="__angularfire_symbol__remoteConfigIsSupportedValue",ys="__angularfire_symbol__remoteConfigIsSupported",Xt="__angularfire_symbol__messagingIsSupportedValue",ec="__angularfire_symbol__messagingIsSupported";function oa(w,E,N){if(E){if(1===E.length)return E[0];const ie=E.filter(be=>be.app===N);if(1===ie.length)return ie[0]}return N.container.getProvider(w).getImmediate({optional:!0})}globalThis[io]||(globalThis[io]=ig().then(w=>globalThis[ra]=w).catch(()=>globalThis[ra]=!1)),globalThis[ec]||(globalThis[ec]=Kc().then(w=>globalThis[Xt]=w).catch(()=>globalThis[Xt]=!1)),globalThis[ys]||(globalThis[ys]=Ra().then(w=>globalThis[vs]=w).catch(()=>globalThis[vs]=!1));const cr=(w,E)=>{const N=E?[E]:(0,X.C6)(),L=[];return N.forEach(J=>{J.container.getProvider(w).instances.forEach(be=>{L.includes(be)||L.push(be)})}),L};function ci(){}class Yi{constructor(E,N=sl){this.zone=E,this.delegate=N}now(){return this.delegate.now()}schedule(E,N,L){const J=this.zone;return this.delegate.schedule(function(be){J.runGuarded(()=>{E.apply(this,[be])})},N,L)}}class nc{constructor(E){this.zone=E,this.task=null}call(E,N){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ci,{},ci,ci)),N.pipe((0,ia.b)({next:L,complete:L,error:L})).subscribe(E).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ci=(()=>{class w{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Yi(Zone.current)),this.insideAngular=N.run(()=>new Yi(Zone.current,Xl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(N){return new(N||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function wi(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Or(w){return wi(),function an(w){return function(N){return(N=N.lift(new nc(w.ngZone))).pipe((0,_s.R)(w.outsideAngular),(0,Rr.Q)(w.insideAngular))}}(wi())(w)}},2090:(Qe,Ce,x)=>{x.d(Ce,{$s:()=>Dr,BH:()=>Pe,DV:()=>_t,Dv:()=>Ai,GJ:()=>kt,L:()=>ue,LL:()=>Re,Pz:()=>wt,Sg:()=>Se,UG:()=>pe,UI:()=>es,US:()=>ce,Wj:()=>In,Yr:()=>xe,ZB:()=>$,ZR:()=>ne,b$:()=>qe,cI:()=>At,dS:()=>ot,eu:()=>fe,g5:()=>P,gK:()=>_i,gQ:()=>Ni,h$:()=>ae,hl:()=>U,hu:()=>X,jU:()=>de,lb:()=>Kt,m9:()=>Ft,ne:()=>ts,p$:()=>H,pd:()=>gi,r3:()=>ri,ru:()=>je,tV:()=>he,uI:()=>Ge,ug:()=>Xe,vZ:()=>fi,w1:()=>ge,w9:()=>xt,xO:()=>Gr,xb:()=>jt,z$:()=>_e,zI:()=>Y,zd:()=>nr});const X=function(K,j){if(!K)throw P(j)},P=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},se=function(K){const j=[];let B=0;for(let W=0;W<K.length;W++){let z=K.charCodeAt(W);z<128?j[B++]=z:z<2048?(j[B++]=z>>6|192,j[B++]=63&z|128):55296==(64512&z)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?(z=65536+((1023&z)<<10)+(1023&K.charCodeAt(++W)),j[B++]=z>>18|240,j[B++]=z>>12&63|128,j[B++]=z>>6&63|128,j[B++]=63&z|128):(j[B++]=z>>12|224,j[B++]=z>>6&63|128,j[B++]=63&z|128)}return j},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,j){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let z=0;z<K.length;z+=3){const we=K[z],ke=z+1<K.length,et=ke?K[z+1]:0,Zt=z+2<K.length,Vt=Zt?K[z+2]:0;let vt=(15&et)<<2|Vt>>6,tn=63&Vt;Zt||(tn=64,ke||(vt=64)),W.push(B[we>>2],B[(3&we)<<4|et>>4],B[vt],B[tn])}return W.join("")},encodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(K):this.encodeByteArray(se(K),j)},decodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(K):function(K){const j=[];let B=0,W=0;for(;B<K.length;){const z=K[B++];if(z<128)j[W++]=String.fromCharCode(z);else if(z>191&&z<224){const we=K[B++];j[W++]=String.fromCharCode((31&z)<<6|63&we)}else if(z>239&&z<365){const Zt=((7&z)<<18|(63&K[B++])<<12|(63&K[B++])<<6|63&K[B++])-65536;j[W++]=String.fromCharCode(55296+(Zt>>10)),j[W++]=String.fromCharCode(56320+(1023&Zt))}else{const we=K[B++],ke=K[B++];j[W++]=String.fromCharCode((15&z)<<12|(63&we)<<6|63&ke)}}return j.join("")}(this.decodeStringToByteArray(K,j))},decodeStringToByteArray(K,j){this.init_();const B=j?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let z=0;z<K.length;){const we=B[K.charAt(z++)],et=z<K.length?B[K.charAt(z)]:0;++z;const Vt=z<K.length?B[K.charAt(z)]:64;++z;const Et=z<K.length?B[K.charAt(z)]:64;if(++z,null==we||null==et||null==Vt||null==Et)throw Error();W.push(we<<2|et>>4),64!==Vt&&(W.push(et<<4&240|Vt>>2),64!==Et&&W.push(Vt<<6&192|Et))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ae=function(K){const j=se(K);return ce.encodeByteArray(j,!0)},ue=function(K){return ae(K).replace(/\./g,"")},he=function(K){try{return ce.decodeString(K,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(K){return $(void 0,K)}function $(K,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return j}for(const B in j)!j.hasOwnProperty(B)||!q(B)||(K[B]=$(K[B],j[B]));return K}function q(K){return"__proto__"!==K}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,B)=>{this.resolve=j,this.reject=B})}wrapCallback(j){return(B,W)=>{B?this.reject(B):this.resolve(W),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(B):j(B,W))}}}function Se(K,j){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=j||"demo-project",z=K.iat||0,we=K.sub||K.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:z,exp:z+3600,auth_time:z,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},K);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ke)),""].join(".")}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function de(){return"object"==typeof self&&self.self===self}function je(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const K=_e();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function xe(){return!1}function U(){return"object"==typeof indexedDB}function fe(){return new Promise((K,j)=>{try{let B=!0;const W="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(W);z.onsuccess=()=>{z.result.close(),B||self.indexedDB.deleteDatabase(W),K(!0)},z.onupgradeneeded=()=>{B=!1},z.onerror=()=>{var we;j((null===(we=z.error)||void 0===we?void 0:we.message)||"")}}catch(B){j(B)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(j,B,W){super(B),this.code=j,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(j,B,W){this.service=j,this.serviceName=B,this.errors=W}create(j,...B){const W=B[0]||{},z=`${this.service}/${j}`,we=this.errors[j],ke=we?function Me(K,j){return K.replace(rt,(B,W)=>{const z=j[W];return null!=z?String(z):`<${W}?>`})}(we,W):"Error";return new ne(z,`${this.serviceName}: ${ke} (${z}).`,W)}}const rt=/\{\$([^}]+)}/g;function At(K){return JSON.parse(K)}function wt(K){return JSON.stringify(K)}const Ue=function(K){let j={},B={},W={},z="";try{const we=K.split(".");j=At(he(we[0])||""),B=At(he(we[1])||""),z=we[2],W=B.d||{},delete B.d}catch{}return{header:j,claims:B,data:W,signature:z}},xt=function(K){const B=Ue(K).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},kt=function(K){const j=Ue(K).claims;return"object"==typeof j&&!0===j.admin};function ri(K,j){return Object.prototype.hasOwnProperty.call(K,j)}function _t(K,j){if(Object.prototype.hasOwnProperty.call(K,j))return K[j]}function jt(K){for(const j in K)if(Object.prototype.hasOwnProperty.call(K,j))return!1;return!0}function es(K,j,B){const W={};for(const z in K)Object.prototype.hasOwnProperty.call(K,z)&&(W[z]=j.call(B,K[z],z,K));return W}function fi(K,j){if(K===j)return!0;const B=Object.keys(K),W=Object.keys(j);for(const z of B){if(!W.includes(z))return!1;const we=K[z],ke=j[z];if(Xn(we)&&Xn(ke)){if(!fi(we,ke))return!1}else if(we!==ke)return!1}for(const z of W)if(!B.includes(z))return!1;return!0}function Xn(K){return null!==K&&"object"==typeof K}function Gr(K){const j=[];for(const[B,W]of Object.entries(K))Array.isArray(W)?W.forEach(z=>{j.push(encodeURIComponent(B)+"="+encodeURIComponent(z))}):j.push(encodeURIComponent(B)+"="+encodeURIComponent(W));return j.length?"&"+j.join("&"):""}function nr(K){const j={};return K.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[z,we]=W.split("=");j[decodeURIComponent(z)]=decodeURIComponent(we)}}),j}function gi(K){const j=K.indexOf("?");if(!j)return"";const B=K.indexOf("#",j);return K.substring(j,B>0?B:void 0)}class Ni{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,B){B||(B=0);const W=this.W_;if("string"==typeof j)for(let Et=0;Et<16;Et++)W[Et]=j.charCodeAt(B)<<24|j.charCodeAt(B+1)<<16|j.charCodeAt(B+2)<<8|j.charCodeAt(B+3),B+=4;else for(let Et=0;Et<16;Et++)W[Et]=j[B]<<24|j[B+1]<<16|j[B+2]<<8|j[B+3],B+=4;for(let Et=16;Et<80;Et++){const vt=W[Et-3]^W[Et-8]^W[Et-14]^W[Et-16];W[Et]=4294967295&(vt<<1|vt>>>31)}let Vt,Rn,z=this.chain_[0],we=this.chain_[1],ke=this.chain_[2],et=this.chain_[3],Zt=this.chain_[4];for(let Et=0;Et<80;Et++){Et<40?Et<20?(Vt=et^we&(ke^et),Rn=1518500249):(Vt=we^ke^et,Rn=1859775393):Et<60?(Vt=we&ke|et&(we|ke),Rn=2400959708):(Vt=we^ke^et,Rn=3395469782);const vt=(z<<5|z>>>27)+Vt+Zt+Rn+W[Et]&4294967295;Zt=et,et=ke,ke=4294967295&(we<<30|we>>>2),we=z,z=vt}this.chain_[0]=this.chain_[0]+z&4294967295,this.chain_[1]=this.chain_[1]+we&4294967295,this.chain_[2]=this.chain_[2]+ke&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+Zt&4294967295}update(j,B){if(null==j)return;void 0===B&&(B=j.length);const W=B-this.blockSize;let z=0;const we=this.buf_;let ke=this.inbuf_;for(;z<B;){if(0===ke)for(;z<=W;)this.compress_(j,z),z+=this.blockSize;if("string"==typeof j){for(;z<B;)if(we[ke]=j.charCodeAt(z),++ke,++z,ke===this.blockSize){this.compress_(we),ke=0;break}}else for(;z<B;)if(we[ke]=j[z],++ke,++z,ke===this.blockSize){this.compress_(we),ke=0;break}}this.inbuf_=ke,this.total_+=B}digest(){const j=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let z=this.blockSize-1;z>=56;z--)this.buf_[z]=255&B,B/=256;this.compress_(this.buf_);let W=0;for(let z=0;z<5;z++)for(let we=24;we>=0;we-=8)j[W]=this.chain_[z]>>we&255,++W;return j}}function ts(K,j){const B=new He(K,j);return B.subscribe.bind(B)}class He{constructor(j,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{j(this)}).catch(W=>{this.error(W)})}next(j){this.forEachObserver(B=>{B.next(j)})}error(j){this.forEachObserver(B=>{B.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,B,W){let z;if(void 0===j&&void 0===B&&void 0===W)throw new Error("Missing Observer.");z=function br(K,j){if("object"!=typeof K||null===K)return!1;for(const B of j)if(B in K&&"function"==typeof K[B])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:B,complete:W},void 0===z.next&&(z.next=mn),void 0===z.error&&(z.error=mn),void 0===z.complete&&(z.complete=mn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),we}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,j)}sendOne(j,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{B(this.observers[j])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const Ai=function(K,j,B,W){let z;if(W<j?z="at least "+j:W>B&&(z=0===B?"none":"no more than "+B),z)throw new Error(K+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+z+".")};function _i(K,j){return`${K} failed: ${j} argument `}function In(K,j,B,W){if((!W||B)&&"function"!=typeof B)throw new Error(_i(K,j)+"must be a valid function.")}function Kt(K,j,B,W){if((!W||B)&&("object"!=typeof B||null===B))throw new Error(_i(K,j)+"must be a valid context object.")}const ot=function(K){const j=[];let B=0;for(let W=0;W<K.length;W++){let z=K.charCodeAt(W);if(z>=55296&&z<=56319){const we=z-55296;W++,X(W<K.length,"Surrogate pair missing trail surrogate."),z=65536+(we<<10)+(K.charCodeAt(W)-56320)}z<128?j[B++]=z:z<2048?(j[B++]=z>>6|192,j[B++]=63&z|128):z<65536?(j[B++]=z>>12|224,j[B++]=z>>6&63|128,j[B++]=63&z|128):(j[B++]=z>>18|240,j[B++]=z>>12&63|128,j[B++]=z>>6&63|128,j[B++]=63&z|128)}return j},Xe=function(K){let j=0;for(let B=0;B<K.length;B++){const W=K.charCodeAt(B);W<128?j++:W<2048?j+=2:W>=55296&&W<=56319?(j+=4,B++):j+=3}return j};function Dr(K,j=1e3,B=2){const W=j*Math.pow(B,K),z=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+z)}function Ft(K){return K&&K._delegate?K._delegate:K}},876:(Qe,Ce,x)=>{var u=x(4650);let X=null;function P(){return X}const ae=new u.OlP("DocumentToken");let ue=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return function he(){return(0,u.LFG)($)}()},providedIn:"platform"}),t})();const H=new u.OlP("Location Initialized");let $=(()=>{class t extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){q()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){q()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:function(){return function Pe(){return new $((0,u.LFG)(ae))}()},providedIn:"platform"}),t})();function q(){return!!window.history.pushState}function Se(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function _e(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ge(t){return t&&"?"!==t[0]?"?"+t:t}let pe=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(je)},providedIn:"root"}),t})();const de=new u.OlP("appBaseHref");let je=(()=>{class t extends pe{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,c){const f=this.prepareExternalUrl(s+Ge(c));this._platformLocation.pushState(e,i,f)}replaceState(e,i,s,c){const f=this.prepareExternalUrl(s+Ge(c));this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue),u.LFG(de,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qe=(()=>{class t extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,c){let f=this.prepareExternalUrl(s+Ge(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,i,f)}replaceState(e,i,s,c){let f=this.prepareExternalUrl(s+Ge(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue),u.LFG(de,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),Ie=(()=>{class t{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=_e(xe(i)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ge(i))}normalize(e){return t.stripTrailingSlash(function De(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return t.normalizeQueryParams=Ge,t.joinWithSlash=Se,t.stripTrailingSlash=_e,t.\u0275fac=function(e){return new(e||t)(u.LFG(pe))},t.\u0275prov=u.Yz7({token:t,factory:function(){return function ge(){return new Ie((0,u.LFG)(pe))}()},providedIn:"root"}),t})();function xe(t){return t.replace(/\/index.html$/,"")}let jn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();let Pa=(()=>{class t{}return t.\u0275prov=(0,u.Yz7)({token:t,providedIn:"root",factory:()=>new Dd((0,u.LFG)(ae),window)}),t})();class Dd{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function li(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const f=c.getElementById(n)||c.querySelector(`[name="${n}"]`);if(f)return f}s=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Oi(this.window.history)||Oi(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Oi(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ao extends class zc extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(t){X||(X=t)}(new Ao)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Ka(){return Mo=Mo||document.querySelector("base"),Mo?Mo.getAttribute("href"):null}();return null==e?null:function yi(t){xn=xn||document.createElement("a"),xn.setAttribute("href",t);const n=xn.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Aa(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[s,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===n)return decodeURIComponent(c)}return null}(document.cookie,n)}}let xn,Mo=null;const Qt=new u.OlP("TRANSITION_ID"),Wl=[{provide:u.ip1,useFactory:function Kc(t,n,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=P(),s=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<s.length;c++)i.remove(s[c])})}},deps:[Qt,ae,u.zs3],multi:!0}];let zl=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const Za=new u.OlP("EventManagerPlugins");let Zc=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let c=0;c<s.length;c++){const f=s[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(Za),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();class Kl{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const s=P().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let ss=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),as=(()=>{class t extends ss{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,s.push(i.appendChild(f))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Yc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Yc))}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();function Yc(t){P().remove(t)}const ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qc=/%COMP%/g;function Ja(t,n,e){for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?Ja(t,s,e):(s=s.replace(qc,t),e.push(s))}return e}function Jc(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let cs=(()=>{class t{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new us(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Qc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case u.ifc.ShadowDom:return new Xc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Ja(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(Zc),u.LFG(as),u.LFG(u.AFp))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();class us{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(ls[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(Ks(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Ks(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,s){if(s){e=s+":"+e;const c=ls[s];c?n.setAttributeNS(c,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const s=ls[i];s?n.removeAttributeNS(s,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,s){s&(u.JOm.DashCase|u.JOm.Important)?n.style.setProperty(e,i,s&u.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&u.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Jc(i)):this.eventManager.addEventListener(n,e,Jc(i))}}function Ks(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Qc extends us{constructor(n,e,i,s){super(n),this.component=i;const c=Ja(s+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr=function hn(t){return"_ngcontent-%COMP%".replace(qc,t)}(s+"-"+i.id),this.hostAttr=function qa(t){return"_nghost-%COMP%".replace(qc,t)}(s+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class Xc extends us{constructor(n,e,i,s){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ja(s.id,s.styles,[]);for(let f=0;f<c.length;f++){const m=document.createElement("style");m.textContent=c[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let $n=(()=>{class t extends Kl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const Zs=["alt","control","meta","shift"],Ys={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lr={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qs=(()=>{class t extends Kl{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,s){const c=t.parseEventName(i),f=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=t._normalizeKey(i.pop());let f="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),f="code."),Zs.forEach(T=>{const M=i.indexOf(T);M>-1&&(i.splice(M,1),f+=T+".")}),f+=c,0!=i.length||0===c.length)return null;const D={};return D.domEventName=s,D.fullKey=f,D}static matchEventFullKeyCode(e,i){let s=Ys[e.key]||e.key,c="";return i.indexOf("code.")>-1&&(s=e.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Zs.forEach(f=>{f!==s&&(0,lr[f])(e)&&(c+=f+".")}),c+=s,c===i)}static eventCallback(e,i,s){return c=>{t.matchEventFullKeyCode(c,e)&&s.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const tl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Xa(){Ao.makeCurrent()},multi:!0},{provide:ae,useFactory:function Qs(){return(0,u.RDi)(document),document},deps:[]}]),Xr=new u.OlP(""),tu=[{provide:u.rWj,useClass:class wd{addToWindow(n){u.dqk.getAngularTestability=(i,s=!0)=>{const c=n.findTestabilityInTree(i,s);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const s=u.dqk.getAllAngularTestabilities();let c=s.length,f=!1;const m=function(D){f=f||D,c--,0==c&&i(f)};s.forEach(function(D){D.whenStable(m)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],eo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Po(){return new u.qLn},deps:[]},{provide:Za,useClass:$n,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:Za,useClass:qs,multi:!0,deps:[ae]},{provide:cs,useClass:cs,deps:[Zc,as,u.AFp]},{provide:u.FYo,useExisting:cs},{provide:ss,useExisting:as},{provide:as,useClass:as,deps:[ae]},{provide:Zc,useClass:Zc,deps:[Za,u.R0b]},{provide:class rs{},useClass:zl,deps:[]},[]];let Yl=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:u.AFp,useValue:e.appId},{provide:Qt,useExisting:u.AFp},Wl]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(Xr,12))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[...eo,...tu],imports:[jn,u.hGG]}),t})(),Ar=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function ds(){return new Ar((0,u.LFG)(ae))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;var rn=x(8996),Di=x(3269);function Ze(...t){const n=(0,Di.yG)(t);return(0,rn.D)(t,n)}var qt=x(7579);class Bt extends qt.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const na=(0,x(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var bn=x(9751);const{isArray:no}=Array,{getPrototypeOf:sl,prototype:Xh,keys:Xl}=Object;var Rr=x(4671),We=x(4004);const{isArray:ra}=Array;function vs(t){return(0,We.U)(n=>function io(t,n){return ra(n)?t(...n):t(n)}(t,n))}var Xt=x(5403),ec=x(9672);function ro(...t){const n=(0,Di.yG)(t),e=(0,Di.jO)(t),{args:i,keys:s}=function ia(t){if(1===t.length){const n=t[0];if(no(n))return{args:n,keys:null};if(function _s(t){return t&&"object"==typeof t&&sl(t)===Xh}(n)){const e=Xl(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}(t);if(0===i.length)return(0,rn.D)([],n);const c=new bn.y(function ef(t,n,e=Rr.y){return i=>{tc(n,()=>{const{length:s}=t,c=new Array(s);let f=s,m=s;for(let D=0;D<s;D++)tc(n,()=>{const T=(0,rn.D)(t[D],n);let M=!1;T.subscribe((0,Xt.x)(i,O=>{c[D]=O,M||(M=!0,m--),m||i.next(e(c.slice()))},()=>{--f||i.complete()}))},i)},i)}}(i,n,s?f=>function ys(t,n){return t.reduce((e,i,s)=>(e[i]=n[s],e),{})}(s,f):Rr.y));return e?c.pipe(vs(e)):c}function tc(t,n,e){t?(0,ec.f)(e,t,n):n()}var al=x(8189);function cr(...t){return function oa(){return(0,al.J)(1)}()((0,rn.D)(t,(0,Di.yG)(t)))}var ci=x(8421);function Yi(t){return new bn.y(n=>{(0,ci.Xf)(t()).subscribe(n)})}var nc=x(9635),Ci=x(576);function wi(t,n){const e=(0,Ci.m)(t)?t:()=>t,i=s=>s.error(e());return new bn.y(n?s=>n.schedule(i,0,s):i)}var qi=x(515),ur=x(727),kn=x(4482);function oo(){return(0,kn.e)((t,n)=>{let e=null;t._refCount++;const i=(0,Xt.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const s=t._connection,c=e;e=null,s&&(!c||s===c)&&s.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Or extends bn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,kn.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ur.w0;const e=this.getSubject();n.add(this.source.subscribe((0,Xt.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ur.w0.EMPTY)}return n}refCount(){return oo()(this)}}function an(t,n){return(0,kn.e)((e,i)=>{let s=null,c=0,f=!1;const m=()=>f&&!s&&i.complete();e.subscribe((0,Xt.x)(i,D=>{s?.unsubscribe();let T=0;const M=c++;(0,ci.Xf)(t(D,M)).subscribe(s=(0,Xt.x)(i,O=>i.next(n?n(D,O,M,T++):O),()=>{s=null,m()}))},()=>{f=!0,m()}))})}function It(t){return t<=0?()=>qi.E:(0,kn.e)((n,e)=>{let i=0;n.subscribe((0,Xt.x)(e,s=>{++i<=t&&(e.next(s),t<=i&&e.complete())}))})}function w(t,n){return(0,kn.e)((e,i)=>{let s=0;e.subscribe((0,Xt.x)(i,c=>t.call(n,c,s++)&&i.next(c)))})}var E=x(5577);function N(t){return(0,kn.e)((n,e)=>{let i=!1;n.subscribe((0,Xt.x)(e,s=>{i=!0,e.next(s)},()=>{i||e.next(t),e.complete()}))})}function L(t=J){return(0,kn.e)((n,e)=>{let i=!1;n.subscribe((0,Xt.x)(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(t())))})}function J(){return new na}function ie(t,n){const e=arguments.length>=2;return i=>i.pipe(t?w((s,c)=>t(s,c,i)):Rr.y,It(1),e?N(n):L(()=>new na))}function be(t,n){return(0,Ci.m)(n)?(0,E.z)(t,n,1):(0,E.z)(t,1)}var Ae=x(8505);function Ke(t){return(0,kn.e)((n,e)=>{let c,i=null,s=!1;i=n.subscribe((0,Xt.x)(e,void 0,void 0,f=>{c=(0,ci.Xf)(t(f,Ke(t)(n))),i?(i.unsubscribe(),i=null,c.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,c.subscribe(e))})}function lt(t,n,e,i,s){return(c,f)=>{let m=e,D=n,T=0;c.subscribe((0,Xt.x)(f,M=>{const O=T++;D=m?t(D,M,O):(m=!0,M),i&&f.next(D)},s&&(()=>{m&&f.next(D),f.complete()})))}}function gt(t,n){return(0,kn.e)(lt(t,n,arguments.length>=2,!0))}function nt(t){return t<=0?()=>qi.E:(0,kn.e)((n,e)=>{let i=[];n.subscribe((0,Xt.x)(e,s=>{i.push(s),t<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function on(t,n){const e=arguments.length>=2;return i=>i.pipe(t?w((s,c)=>t(s,c,i)):Rr.y,nt(1),e?N(n):L(()=>new na))}function Lo(t){return(0,We.U)(()=>t)}function so(t){return(0,kn.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const pt="primary",dr=Symbol("RouteTitle");class ao{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xi(t){return new ao(t)}function bs(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const s={};for(let c=0;c<i.length;c++){const f=i[c],m=t[c];if(f.startsWith(":"))s[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}function Ji(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!Id(t[s],n[s]))return!1;return!0}function Id(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((s,c)=>i[c]===s)}return t===n}function tf(t){return Array.prototype.concat.apply([],t)}function nf(t){return t.length>0?t[t.length-1]:null}function Fn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function hr(t){return(0,u.CqO)(t)?t:(0,u.QGY)(t)?(0,rn.D)(Promise.resolve(t)):Ze(t)}const nv={exact:function sf(t,n,e){if(!Uo(t.segments,n.segments)||!Bo(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!sf(t.children[i],n.children[i],e))return!1;return!0},subset:sa},Nd={exact:function Ad(t,n){return Ji(t,n)},subset:function af(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Id(t[e],n[e]))},ignored:()=>!0};function ag(t,n,e){return nv[e.paths](t.root,n.root,e.matrixParams)&&Nd[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function sa(t,n,e){return iu(t,n,n.segments,e)}function iu(t,n,e,i){if(t.segments.length>e.length){const s=t.segments.slice(0,e.length);return!(!Uo(s,e)||n.hasChildren()||!Bo(s,e,i))}if(t.segments.length===e.length){if(!Uo(t.segments,e)||!Bo(t.segments,e,i))return!1;for(const s in n.children)if(!t.children[s]||!sa(t.children[s],n.children[s],i))return!1;return!0}{const s=e.slice(0,t.segments.length),c=e.slice(t.segments.length);return!!(Uo(t.segments,s)&&Bo(t.segments,s,i)&&t.children[pt])&&iu(t.children[pt],n,c,i)}}function Bo(t,n,e){return n.every((i,s)=>Nd[e](t[s].parameters,i.parameters))}class aa{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xi(this.queryParams)),this._queryParamMap}toString(){return su.serialize(this)}}class St{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Fn(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return au(this)}}class ru{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=xi(this.parameters)),this._parameterMap}toString(){return uf(this)}}function Uo(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Md=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return new ou},providedIn:"root"}),t})();class ou{parse(n){const e=new dg(n);return new aa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${la(n.root,!0)}`,i=function rv(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(s=>`${rc(e)}=${rc(s)}`).join("&"):`${rc(e)}=${rc(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function lg(t){return encodeURI(t)}(n.fragment)}`:""}`}}const su=new ou;function au(t){return t.segments.map(n=>uf(n)).join("/")}function la(t,n){if(!t.hasChildren())return au(t);if(n){const e=t.children[pt]?la(t.children[pt],!1):"",i=[];return Fn(t.children,(s,c)=>{c!==pt&&i.push(`${c}:${la(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function lf(t,n){let e=[];return Fn(t.children,(i,s)=>{s===pt&&(e=e.concat(n(i,s)))}),Fn(t.children,(i,s)=>{s!==pt&&(e=e.concat(n(i,s)))}),e}(t,(i,s)=>s===pt?[la(t.children[pt],!1)]:[`${s}:${la(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[pt]?`${au(t)}/${e[0]}`:`${au(t)}/(${e.join("//")})`}}function cf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rc(t){return cf(t).replace(/%3B/gi,";")}function fr(t){return cf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ds(t){return decodeURIComponent(t)}function Rd(t){return Ds(t.replace(/\+/g,"%20"))}function uf(t){return`${fr(t.path)}${function iv(t){return Object.keys(t).map(n=>`;${fr(n)}=${fr(t[n])}`).join("")}(t.parameters)}`}const ov=/^[^\/()?;=#]+/;function df(t){const n=t.match(ov);return n?n[0]:""}const Cs=/^[^=?&#]+/,ug=/^[^&#]+/;class dg{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[pt]=new St(n,e)),i}parseSegment(){const n=df(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(n),new ru(Ds(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=df(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=df(this.remaining);s&&(i=s,this.capture(i))}n[Ds(e)]=Ds(i)}parseQueryParam(n){const e=function cg(t){const n=t.match(Cs);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const f=function Od(t){const n=t.match(ug);return n?n[0]:""}(this.remaining);f&&(i=f,this.capture(i))}const s=Rd(e),c=Rd(i);if(n.hasOwnProperty(s)){let f=n[s];Array.isArray(f)||(f=[f],n[s]=f),f.push(c)}else n[s]=c}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=df(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new u.vHH(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):n&&(c=pt);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[pt]:new St([],f),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new u.vHH(4011,!1)}}function ca(t){return t.segments.length>0?new St([],{[pt]:t}):t}function pr(t){const n={};for(const i of Object.keys(t.children)){const c=pr(t.children[i]);(c.segments.length>0||c.hasChildren())&&(n[i]=c)}return function oc(t){if(1===t.numberOfChildren&&t.children[pt]){const n=t.children[pt];return new St(t.segments.concat(n.segments),n.children)}return t}(new St(t.segments,n))}function lo(t){return t instanceof aa}function av(t,n,e,i,s){if(0===e.length)return sc(n.root,n.root,n.root,i,s);const c=function pf(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ac(!0,0,t);let n=0,e=!1;const i=t.reduce((s,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Fn(c.outlets,(D,T)=>{m[T]="string"==typeof D?D.split("/"):D}),[...s,{outlets:m}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===f?(c.split("/").forEach((m,D)=>{0==D&&"."===m||(0==D&&""===m?e=!0:".."===m?n++:""!=m&&s.push(m))}),s):[...s,c]},[]);return new ac(e,n,i)}(e);return c.toRoot()?sc(n.root,n.root,new St([],{}),i,s):function f(D){const T=function xd(t,n,e,i){if(t.isAbsolute)return new cl(n.root,!0,0);if(-1===i)return new cl(e,e===n.root,0);return function kd(t,n,e){let i=t,s=n,c=e;for(;c>s;){if(c-=s,i=i.parent,!i)throw new u.vHH(4005,!1);s=i.segments.length}return new cl(i,!1,s-c)}(e,i+(ua(t.commands[0])?0:1),t.numberOfDoubleDots)}(c,n,t.snapshot?._urlSegment,D),M=T.processChildren?ha(T.segmentGroup,T.index,c.commands):ul(T.segmentGroup,T.index,c.commands);return sc(n.root,T.segmentGroup,M,i,s)}(t.snapshot?._lastPathIndex)}function ua(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function da(t){return"object"==typeof t&&null!=t&&t.outlets}function sc(t,n,e,i,s){let f,c={};i&&Fn(i,(D,T)=>{c[T]=Array.isArray(D)?D.map(M=>`${M}`):`${D}`}),f=t===n?e:ff(t,n,e);const m=ca(pr(f));return new aa(m,c,s)}function ff(t,n,e){const i={};return Fn(t.children,(s,c)=>{i[c]=s===n?e:ff(s,n,e)}),new St(t.segments,i)}class ac{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&ua(i[0]))throw new u.vHH(4003,!1);const s=i.find(da);if(s&&s!==nf(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cl{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function ul(t,n,e){if(t||(t=new St([],{})),0===t.segments.length&&t.hasChildren())return ha(t,n,e);const i=function fg(t,n,e){let i=0,s=n;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=e.length)return c;const f=t.segments[s],m=e[i];if(da(m))break;const D=`${m}`,T=i<e.length-1?e[i+1]:null;if(s>0&&void 0===D)break;if(D&&T&&"object"==typeof T&&void 0===T.outlets){if(!uu(D,T,f))return c;i+=2}else{if(!uu(D,{},f))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,n,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new St(t.segments.slice(0,i.pathIndex),{});return c.children[pt]=new St(t.segments.slice(i.pathIndex),t.children),ha(c,0,s)}return i.match&&0===s.length?new St(t.segments,{}):i.match&&!t.hasChildren()?Dn(t,n,e):i.match?ha(t,0,s):Dn(t,n,e)}function ha(t,n,e){if(0===e.length)return new St(t.segments,{});{const i=function cu(t){return da(t[0])?t[0].outlets:{[pt]:t}}(e),s={};return Fn(i,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[f]=ul(t.children[f],n,c))}),Fn(t.children,(c,f)=>{void 0===i[f]&&(s[f]=c)}),new St(t.segments,s)}}function Dn(t,n,e){const i=t.segments.slice(0,n);let s=0;for(;s<e.length;){const c=e[s];if(da(c)){const D=gf(c.outlets);return new St(i,D)}if(0===s&&ua(e[0])){i.push(new ru(t.segments[n].path,mf(e[0]))),s++;continue}const f=da(c)?c.outlets[pt]:`${c}`,m=s<e.length-1?e[s+1]:null;f&&m&&ua(m)?(i.push(new ru(f,mf(m))),s+=2):(i.push(new ru(f,{})),s++)}return new St(i,{})}function gf(t){const n={};return Fn(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=Dn(new St([],{}),0,e))}),n}function mf(t){const n={};return Fn(t,(e,i)=>n[i]=`${e}`),n}function uu(t,n,e){return t==e.path&&Ji(n,e.parameters)}class co{constructor(n,e){this.id=n,this.url=e}}class Fd extends co{constructor(n,e,i="imperative",s=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pr extends co{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class du extends co{constructor(n,e,i,s){super(n,e),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ld extends co{constructor(n,e,i,s){super(n,e),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pg extends co{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lv extends co{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cv extends co{constructor(n,e,i,s,c){super(n,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lc extends co{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu extends co{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pu{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vd{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gg{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gu{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _f{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bd{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=cc(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=cc(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=dl(n,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return dl(n,this._root).map(e=>e.value)}}function cc(t,n){if(t===n.value)return n;for(const e of n.children){const i=cc(t,e);if(i)return i}return null}function dl(t,n){if(t===n.value)return[n];for(const e of n.children){const i=dl(t,e);if(i.length)return i.unshift(n),i}return[]}class gr{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function mr(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Ud extends Bd{constructor(n,e){super(n),this.snapshot=e,Yn(this,n)}toString(){return this.snapshot.toString()}}function _u(t,n){const e=function xr(t,n){const f=new uo([],{},{},"",{},pt,n,null,t.root,-1,{});return new bu("",new gr(f,[]))}(t,n),i=new Bt([new ru("",{})]),s=new Bt({}),c=new Bt({}),f=new Bt({}),m=new Bt(""),D=new ws(i,s,f,m,c,pt,n,e.root);return D.snapshot=e.root,new Ud(new gr(D,[]),e)}class ws{constructor(n,e,i,s,c,f,m,D){this.url=n,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=f,this.component=m,this.title=this.data?.pipe((0,We.U)(T=>T[dr]))??Ze(void 0),this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(n=>xi(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(n=>xi(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vu(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const s=e[i],c=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(c.component)break;i--}}return function yu(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class uo{constructor(n,e,i,s,c,f,m,D,T,M,O,V){this.url=n,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=f,this.component=m,this.title=this.data?.[dr],this.routeConfig=D,this._urlSegment=T,this._lastPathIndex=M,this._correctedLastPathIndex=V??M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bu extends Bd{constructor(n,e){super(e),this.url=n,Yn(this,e)}toString(){return Du(this._root)}}function Yn(t,n){n.value._routerState=t,n.children.forEach(e=>Yn(t,e))}function Du(t){const n=t.children.length>0?` { ${t.children.map(Du).join(", ")} } `:"";return`${t.value}${n}`}function uc(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ji(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Ji(n.params,e.params)||t.params.next(e.params),function Vo(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ji(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Ji(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Cu(t,n){const e=Ji(t.params,n.params)&&function ic(t,n){return Uo(t,n)&&t.every((e,i)=>Ji(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Cu(t.parent,n.parent))}function Ho(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const s=function vf(t,n,e){return n.children.map(i=>{for(const s of e.children)if(t.shouldReuseRoute(i.value,s.value.snapshot))return Ho(t,i,s);return Ho(t,i)})}(t,n,e);return new gr(i,s)}{if(t.shouldAttach(n.value)){const c=t.retrieve(n.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=n.value,f.children=n.children.map(m=>Ho(t,m)),f}}const i=function yf(t){return new ws(new Bt(t.url),new Bt(t.params),new Bt(t.queryParams),new Bt(t.fragment),new Bt(t.data),t.outlet,t.component,t)}(n.value),s=n.children.map(c=>Ho(t,c));return new gr(i,s)}}const Hd="ngNavigationCancelingError";function hl(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=lo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=bf(!1,0,n);return s.url=e,s.navigationBehaviorOptions=i,s}function bf(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Hd]=!0,i.cancellationCode=n,e&&(i.url=e),i}function jd(t){return Df(t)&&lo(t.url)}function Df(t){return t&&t[Hd]}class Cf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _,this.attachRef=null}}let _=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Cf,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const h=!1;let g=(()=>{class t{constructor(e,i,s,c,f){this.parentContexts=e,this.location=i,this.changeDetector=c,this.environmentInjector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=s||pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,h);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,h);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,h);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new u.vHH(4013,h);this._activatedRoute=e;const s=this.location,f=e._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,D=new y(e,m,s.injector);if(i&&function S(t){return!!t.resolveComponentFactory}(i)){const T=i.resolveComponentFactory(f);this.activated=s.createComponent(T,s.length,D)}else this.activated=s.createComponent(f,{index:s.length,injector:D,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(_),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},t.\u0275dir=u.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class y{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===ws?this.route:n===_?this.childContexts:this.parent.get(n,e)}}let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},dependencies:[g],encapsulation:2}),t})();function Z(t,n){return t.providers&&!t._injector&&(t._injector=(0,u.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}function wu(t){const n=t.children&&t.children.map(wu),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=R),e}function Fi(t){return t.outlet||pt}function dc(t,n){const e=t.filter(i=>Fi(i)===n);return e.push(...t.filter(i=>Fi(i)!==n)),e}function hc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Eu{constructor(n,e,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),uc(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const s=mr(e);n.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,s[f],i),delete s[f]}),Fn(s,(c,f)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(n,e,i){const s=n.value,c=e?e.value:null;if(s===c)if(s.component){const f=i.getContext(s.outlet);f&&this.deactivateChildRoutes(n,e,f.children)}else this.deactivateChildRoutes(n,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),s=i&&n.value.component?i.children:e,c=mr(n);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],s);if(i&&i.outlet){const f=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:f,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),s=i&&n.value.component?i.children:e,c=mr(n);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const s=mr(e);n.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new _f(c.value.snapshot))}),n.children.length&&this.forwardEvent(new gg(n.value.snapshot))}activateRoutes(n,e,i){const s=n.value,c=e?e.value:null;if(uc(s),s===c)if(s.component){const f=i.getOrCreateContext(s.outlet);this.activateChildRoutes(n,e,f.children)}else this.activateChildRoutes(n,e,i);else if(s.component){const f=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),uc(m.route.value),this.activateChildRoutes(n,null,f.children)}else{const m=hc(s.snapshot),D=m?.get(u._Vd)??null;f.attachRef=null,f.route=s,f.resolver=D,f.injector=m,f.outlet&&f.outlet.activateWith(s,f.injector),this.activateChildRoutes(n,null,f.children)}}else this.activateChildRoutes(n,null,i)}}class Ef{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class fc{constructor(n,e){this.component=n,this.route=e}}function mg(t,n,e){const i=t._root;return pc(i,n?n._root:null,e,[i.value])}function fa(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,u.Z0I)(t)?n.get(t):t:i}function pc(t,n,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=mr(n);return t.children.forEach(f=>{(function dv(t,n,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,f=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const D=function _g(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Uo(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Uo(t.url,n.url)||!Ji(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cu(t,n)||!Ji(t.queryParams,n.queryParams);default:return!Cu(t,n)}}(f,c,c.routeConfig.runGuardsAndResolvers);D?s.canActivateChecks.push(new Ef(i)):(c.data=f.data,c._resolvedData=f._resolvedData),pc(t,n,c.component?m?m.children:null:e,i,s),D&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new fc(m.outlet.component,f))}else f&&Tu(n,m,s),s.canActivateChecks.push(new Ef(i)),pc(t,null,c.component?m?m.children:null:e,i,s)})(f,c[f.value.outlet],e,i.concat([f.value]),s),delete c[f.value.outlet]}),Fn(c,(f,m)=>Tu(f,e.getContext(m),s)),s}function Tu(t,n,e){const i=mr(t),s=t.value;Fn(i,(c,f)=>{Tu(c,s.component?n?n.children.getContext(f):null:n,e)}),e.canDeactivateChecks.push(new fc(s.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,s))}function Iu(t){return"function"==typeof t}function Tf(t){return t instanceof na||"EmptyError"===t?.name}const If=Symbol("INITIAL_VALUE");function Su(){return an(t=>ro(t.map(n=>n.pipe(It(1),function ll(...t){const n=(0,Di.yG)(t);return(0,kn.e)((e,i)=>{(n?cr(t,e,n):cr(t,e)).subscribe(i)})}(If)))).pipe((0,We.U)(n=>{for(const e of n)if(!0!==e){if(e===If)return If;if(!1===e||e instanceof aa)return e}return!0}),w(n=>n!==If),It(1)))}function Li(t){return(0,nc.z)((0,Ae.b)(n=>{if(lo(n))throw hl(0,n)}),(0,We.U)(n=>!0===n))}const Sf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nf(t,n,e,i,s){const c=di(t,n,e);return c.matched?function Dg(t,n,e,i){const s=n.canMatch;return s&&0!==s.length?Ze(s.map(f=>{const m=fa(f,t);return hr(function ND(t){return t&&Iu(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(Su(),Li()):Ze(!0)}(i=Z(n,i),n,e).pipe((0,We.U)(f=>!0===f?c:{...Sf})):Ze(c)}function di(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...Sf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(n.matcher||bs)(e,t,n);if(!s)return{...Sf};const c={};Fn(s.posParams,(m,D)=>{c[D]=m.path});const f=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:f,positionalParamSegments:s.posParams??{}}}function pl(t,n,e,i,s="corrected"){if(e.length>0&&function VD(t,n,e){return e.some(i=>Af(t,n,i)&&Fi(i)!==pt)}(t,e,i)){const f=new St(n,function LD(t,n,e,i){const s={};s[pt]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const c of e)if(""===c.path&&Fi(c)!==pt){const f=new St([],{});f._sourceSegment=t,f._segmentIndexShift=n.length,s[Fi(c)]=f}return s}(t,n,i,new St(e,t.children)));return f._sourceSegment=t,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function gv(t,n,e){return e.some(i=>Af(t,n,i))}(t,e,i)){const f=new St(t.segments,function pv(t,n,e,i,s,c){const f={};for(const m of i)if(Af(t,e,m)&&!s[Fi(m)]){const D=new St([],{});D._sourceSegment=t,D._segmentIndexShift="legacy"===c?t.segments.length:n.length,f[Fi(m)]=D}return{...s,...f}}(t,n,e,i,t.children,s));return f._sourceSegment=t,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:e}}const c=new St(t.segments,t.children);return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:e}}function Af(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function Cg(t,n,e,i){return!!(Fi(t)===i||i!==pt&&Af(n,e,t))&&("**"===t.path||di(n,t,e).matched)}function mv(t,n,e){return 0===n.length&&!t.children[e]}const Gd=!1;class Mf{constructor(n){this.segmentGroup=n||null}}class _v{constructor(n){this.urlTree=n}}function Wd(t){return wi(new Mf(t))}function vv(t){return wi(new _v(t))}class UD{constructor(n,e,i,s,c){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=c,this.allowRedirects=!0}apply(){const n=pl(this.urlTree.root,[],[],this.config).segmentGroup,e=new St(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,pt).pipe((0,We.U)(c=>this.createUrlTree(pr(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ke(c=>{if(c instanceof _v)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Mf?this.noMatchError(c):c}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,pt).pipe((0,We.U)(s=>this.createUrlTree(pr(s),n.queryParams,n.fragment))).pipe(Ke(s=>{throw s instanceof Mf?this.noMatchError(s):s}))}noMatchError(n){return new u.vHH(4002,Gd)}createUrlTree(n,e,i){const s=ca(n);return new aa(s,e,i)}expandSegmentGroup(n,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,We.U)(c=>new St([],c))):this.expandSegment(n,i,e,i.segments,s,!0)}expandChildren(n,e,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return(0,rn.D)(s).pipe(be(c=>{const f=i.children[c],m=dc(e,c);return this.expandSegmentGroup(n,m,f,c).pipe((0,We.U)(D=>({segment:D,outlet:c})))}),gt((c,f)=>(c[f.outlet]=f.segment,c),{}),on())}expandSegment(n,e,i,s,c,f){return(0,rn.D)(i).pipe(be(m=>this.expandSegmentAgainstRoute(n,e,i,m,s,c,f).pipe(Ke(T=>{if(T instanceof Mf)return Ze(null);throw T}))),ie(m=>!!m),Ke((m,D)=>{if(Tf(m))return mv(e,s,c)?Ze(new St([],{})):Wd(e);throw m}))}expandSegmentAgainstRoute(n,e,i,s,c,f,m){return Cg(s,e,c,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,e,s,c,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,s,c,f):Wd(e):Wd(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,s,c,f){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,f):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,s,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,s){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?vv(c):this.lineralizeSegments(i,c).pipe((0,E.z)(f=>{const m=new St(f,{});return this.expandSegment(n,m,e,f,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,s,c,f){const{matched:m,consumedSegments:D,remainingSegments:T,positionalParamSegments:M}=di(e,s,c);if(!m)return Wd(e);const O=this.applyRedirectCommands(D,s.redirectTo,M);return s.redirectTo.startsWith("/")?vv(O):this.lineralizeSegments(s,O).pipe((0,E.z)(V=>this.expandSegment(n,e,i,V.concat(T),f,!1)))}matchSegmentAgainstRoute(n,e,i,s,c){return"**"===i.path?(n=Z(i,n),i.loadChildren?(i._loadedRoutes?Ze({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe((0,We.U)(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new St(s,{})))):Ze(new St(s,{}))):Nf(e,i,s,n).pipe(an(({matched:f,consumedSegments:m,remainingSegments:D})=>f?this.getChildConfig(n=i._injector??n,i,s).pipe((0,E.z)(M=>{const O=M.injector??n,V=M.routes,{segmentGroup:Q,slicedSegments:ye}=pl(e,m,D,V),Ne=new St(Q.segments,Q.children);if(0===ye.length&&Ne.hasChildren())return this.expandChildren(O,V,Ne).pipe((0,We.U)(Ct=>new St(m,Ct)));if(0===V.length&&0===ye.length)return Ze(new St(m,{}));const Fe=Fi(i)===c;return this.expandSegment(O,Ne,V,ye,Fe?pt:c,!0).pipe((0,We.U)(Ye=>new St(m.concat(Ye.segments),Ye.children)))})):Wd(e)))}getChildConfig(n,e,i){return e.children?Ze({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Ze({routes:e._loadedRoutes,injector:e._loadedInjector}):function FD(t,n,e,i){const s=n.canLoad;return void 0===s||0===s.length?Ze(!0):Ze(s.map(f=>{const m=fa(f,t);return hr(function vg(t){return t&&Iu(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(Su(),Li())}(n,e,i).pipe((0,E.z)(s=>s?this.configLoader.loadChildren(n,e).pipe((0,Ae.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Nu(t){return wi(bf(Gd,3))}())):Ze({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Ze(i);if(s.numberOfChildren>1||!s.children[pt])return wi(new u.vHH(4e3,Gd));s=s.children[pt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,s){const c=this.createSegmentGroup(n,e.root,i,s);return new aa(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Fn(n,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);i[c]=e[m]}else i[c]=s}),i}createSegmentGroup(n,e,i,s){const c=this.createSegments(n,e.segments,i,s);let f={};return Fn(e.children,(m,D)=>{f[D]=this.createSegmentGroup(n,m,i,s)}),new St(c,f)}createSegments(n,e,i,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(n,c,s):this.findOrReturn(c,i))}findPosParam(n,e,i){const s=i[e.path.substring(1)];if(!s)throw new u.vHH(4001,Gd);return s}findOrReturn(n,e){let i=0;for(const s of e){if(s.path===n.path)return e.splice(i),s;i++}return n}}class Y1{}class Es{constructor(n,e,i,s,c,f,m,D){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=m,this.urlSerializer=D}recognize(){const n=pl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,pt).pipe((0,We.U)(e=>{if(null===e)return null;const i=new uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new gr(i,e),c=new bu(this.url,s);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(n){const e=n.value,i=vu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(n,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,s)}processChildren(n,e,i){return(0,rn.D)(Object.keys(i.children)).pipe(be(s=>{const c=i.children[s],f=dc(e,s);return this.processSegmentGroup(n,f,c,s)}),gt((s,c)=>s&&c?(s.push(...c),s):null),function Zn(t,n=!1){return(0,kn.e)((e,i)=>{let s=0;e.subscribe((0,Xt.x)(i,c=>{const f=t(c,s++);(f||n)&&i.next(c),!f&&i.complete()}))})}(s=>null!==s),N(null),on(),(0,We.U)(s=>{if(null===s)return null;const c=Ig(s);return function Eg(t){t.sort((n,e)=>n.value.outlet===pt?-1:e.value.outlet===pt?1:n.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(n,e,i,s,c){return(0,rn.D)(e).pipe(be(f=>this.processSegmentAgainstRoute(f._injector??n,f,i,s,c)),ie(f=>!!f),Ke(f=>{if(Tf(f))return mv(i,s,c)?Ze([]):Ze(null);throw f}))}processSegmentAgainstRoute(n,e,i,s,c){if(e.redirectTo||!Cg(e,i,s,c))return Ze(null);let f;if("**"===e.path){const m=s.length>0?nf(s).parameters:{},D=bv(i)+s.length;f=Ze({snapshot:new uo(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rf(e),Fi(e),e.component??e._loadedComponent??null,e,Au(i),D,Of(e),D),consumedSegments:[],remainingSegments:[]})}else f=Nf(i,e,s,n).pipe((0,We.U)(({matched:m,consumedSegments:D,remainingSegments:T,parameters:M})=>{if(!m)return null;const O=bv(i)+D.length;return{snapshot:new uo(D,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rf(e),Fi(e),e.component??e._loadedComponent??null,e,Au(i),O,Of(e),O),consumedSegments:D,remainingSegments:T}}));return f.pipe(an(m=>{if(null===m)return Ze(null);const{snapshot:D,consumedSegments:T,remainingSegments:M}=m;n=e._injector??n;const O=e._loadedInjector??n,V=function Tg(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:Q,slicedSegments:ye}=pl(i,T,M,V.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution);if(0===ye.length&&Q.hasChildren())return this.processChildren(O,V,Q).pipe((0,We.U)(Fe=>null===Fe?null:[new gr(D,Fe)]));if(0===V.length&&0===ye.length)return Ze([new gr(D,[])]);const Ne=Fi(e)===c;return this.processSegment(O,V,Q,ye,Ne?pt:c).pipe((0,We.U)(Fe=>null===Fe?null:[new gr(D,Fe)]))}))}}function jD(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Ig(t){const n=[],e=new Set;for(const i of t){if(!jD(i)){n.push(i);continue}const s=n.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):n.push(i)}for(const i of e){const s=Ig(i.children);n.push(new gr(i.value,s))}return n.filter(i=>!e.has(i))}function Au(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function bv(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function Rf(t){return t.data||{}}function Of(t){return t.resolve||{}}function Pf(t){return"string"==typeof t.title||null===t.title}function Ng(t){return an(n=>{const e=t(n);return e?(0,rn.D)(e).pipe((0,We.U)(()=>n)):Ze(n)})}let Ev=(()=>{class t{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===pt);return i}getResolvedTitleForRoute(e){return e.data[dr]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(Tv)},providedIn:"root"}),t})(),Tv=(()=>{class t extends Ev{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(Ar))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class WD{}class Iv extends class zD{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const zd=new u.OlP("",{providedIn:"root",factory:()=>({})}),Mg=new u.OlP("ROUTES");let Rg=(()=>{class t{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ze(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=hr(e.loadComponent()).pipe((0,Ae.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),so(()=>{this.componentLoaders.delete(e)})),s=new Or(i,()=>new qt.x).pipe(oo());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ze({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,We.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let D,T,M=!1;Array.isArray(m)?T=m:(D=m.create(e).injector,T=tf(D.get(Mg,[],u.XFs.Self|u.XFs.Optional)));return{routes:T.map(wu),injector:D}}),so(()=>{this.childrenLoaders.delete(i)})),f=new Or(c,()=>new qt.x).pipe(oo());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(e){return hr(e()).pipe((0,E.z)(i=>i instanceof u.YKP||Array.isArray(i)?Ze(i):(0,rn.D)(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.zs3),u.LFG(u.Sil))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Sv{}class Nv{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function Av(t){throw t}function Mv(t,n,e){return n.parse("/")}const KD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Rv(){const t=(0,u.f3M)(Md),n=(0,u.f3M)(_),e=(0,u.f3M)(Ie),i=(0,u.f3M)(u.zs3),s=(0,u.f3M)(u.Sil),c=(0,u.f3M)(Mg,{optional:!0})??[],f=(0,u.f3M)(zd,{optional:!0})??{},m=(0,u.f3M)(Tv),D=(0,u.f3M)(Ev,{optional:!0}),T=(0,u.f3M)(Sv,{optional:!0}),M=(0,u.f3M)(WD,{optional:!0}),O=new hi(null,t,n,e,i,s,tf(c));return T&&(O.urlHandlingStrategy=T),M&&(O.routeReuseStrategy=M),O.titleStrategy=D??m,function kf(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(f,O),O}let hi=(()=>{class t{constructor(e,i,s,c,f,m,D){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=c,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt.x,this.errorHandler=Av,this.malformedUriErrorHandler=Mv,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ze(void 0),this.urlHandlingStrategy=new Nv,this.routeReuseStrategy=new Iv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=f.get(Rg),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new pu(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new fu(V)),this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const O=f.get(u.R0b);this.isNgZoneEnabled=O instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=function rf(){return new aa(new St([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_u(this.currentUrlTree,this.rootComponentType),this.transitions=new Bt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(w(s=>0!==s.id),(0,We.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),an(s=>{let c=!1,f=!1;return Ze(s).pipe((0,Ae.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),an(m=>{const D=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Og(m.source)&&(this.browserUrlTree=m.extractedUrl),Ze(m).pipe(an(O=>{const V=this.transitions.getValue();return i.next(new Fd(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),V!==this.transitions.getValue()?qi.E:Promise.resolve(O)}),function HD(t,n,e,i){return an(s=>function pa(t,n,e,i,s){return new UD(t,n,e,i,s).apply()}(t,n,e,s.extractedUrl,i).pipe((0,We.U)(c=>({...s,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ae.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},s.urlAfterRedirects=O.urlAfterRedirects}),function Cv(t,n,e,i,s,c){return(0,E.z)(f=>function q1(t,n,e,i,s,c,f="emptyOnly",m="legacy"){return new Es(t,n,e,i,s,f,m,c).recognize().pipe(an(D=>null===D?function yv(t){return new bn.y(n=>n.error(t))}(new Y1):Ze(D)))}(t,n,e,f.urlAfterRedirects,i.serialize(f.urlAfterRedirects),i,s,c).pipe((0,We.U)(m=>({...f,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ae.b)(O=>{if(s.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(Q,O)}this.browserUrlTree=O.urlAfterRedirects}const V=new pg(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);i.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:Q,source:ye,restoredState:Ne,extras:Fe}=m,tt=new Fd(V,this.serializeUrl(Q),ye,Ne);i.next(tt);const Ye=_u(Q,this.rootComponentType).snapshot;return Ze(s={...m,targetSnapshot:Ye,urlAfterRedirects:Q,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),qi.E}),(0,Ae.b)(m=>{const D=new lv(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(D)}),(0,We.U)(m=>s={...m,guards:mg(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function MD(t,n){return(0,E.z)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?Ze({...e,guardsResult:!0}):function RD(t,n,e,i){return(0,rn.D)(t).pipe((0,E.z)(s=>function kD(t,n,e,i,s){const c=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return c&&0!==c.length?Ze(c.map(m=>{const D=hc(n)??s,T=fa(m,D);return hr(function $d(t){return t&&Iu(t.canDeactivate)}(T)?T.canDeactivate(t,n,e,i):D.runInContext(()=>T(t,n,e,i))).pipe(ie())})).pipe(Su()):Ze(!0)}(s.component,s.route,e,n,i)),ie(s=>!0!==s,!0))}(f,i,s,t).pipe((0,E.z)(m=>m&&function hv(t){return"boolean"==typeof t}(m)?function bg(t,n,e,i){return(0,rn.D)(n).pipe(be(s=>cr(function PD(t,n){return null!==t&&n&&n(new Vd(t)),Ze(!0)}(s.route.parent,i),function OD(t,n){return null!==t&&n&&n(new gu(t)),Ze(!0)}(s.route,i),function fv(t,n,e){const i=n[n.length-1],c=n.slice(0,n.length-1).reverse().map(f=>function uv(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(f)).filter(f=>null!==f).map(f=>Yi(()=>Ze(f.guards.map(D=>{const T=hc(f.node)??e,M=fa(D,T);return hr(function yg(t){return t&&Iu(t.canActivateChild)}(M)?M.canActivateChild(i,t):T.runInContext(()=>M(i,t))).pipe(ie())})).pipe(Su())));return Ze(c).pipe(Su())}(t,s.path,e),function xD(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Ze(!0);const s=i.map(c=>Yi(()=>{const f=hc(n)??e,m=fa(c,f);return hr(function SD(t){return t&&Iu(t.canActivate)}(m)?m.canActivate(n,t):f.runInContext(()=>m(n,t))).pipe(ie())}));return Ze(s).pipe(Su())}(t,s.route,e))),ie(s=>!0!==s,!0))}(i,c,t,n):Ze(m)),(0,We.U)(m=>({...e,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Ae.b)(m=>{if(s.guardsResult=m.guardsResult,lo(m.guardsResult))throw hl(0,m.guardsResult);const D=new cv(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(D)}),w(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Ng(m=>{if(m.guards.canActivateChecks.length)return Ze(m).pipe((0,Ae.b)(D=>{const T=new lc(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(T)}),an(D=>{let T=!1;return Ze(D).pipe(function J1(t,n){return(0,E.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return Ze(e);let c=0;return(0,rn.D)(s).pipe(be(f=>function Mu(t,n,e,i){const s=t.routeConfig,c=t._resolve;return void 0!==s?.title&&!Pf(s)&&(c[dr]=s.title),function Sg(t,n,e,i){const s=function wv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return Ze({});const c={};return(0,rn.D)(s).pipe((0,E.z)(f=>function GD(t,n,e,i){const s=hc(n)??i,c=fa(t,s);return hr(c.resolve?c.resolve(n,e):s.runInContext(()=>c(n,e)))}(t[f],n,e,i).pipe(ie(),(0,Ae.b)(m=>{c[f]=m}))),nt(1),Lo(c),Ke(f=>Tf(f)?qi.E:wi(f)))}(c,t,n,i).pipe((0,We.U)(f=>(t._resolvedData=f,t.data=vu(t,e).resolve,s&&Pf(s)&&(t.data[dr]=s.title),null)))}(f.route,i,t,n)),(0,Ae.b)(()=>c++),nt(1),(0,E.z)(f=>c===s.length?Ze(e):qi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ae.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(D),this.cancelNavigationTransition(D,"",2))}}))}),(0,Ae.b)(D=>{const T=new hu(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(T)}))}),Ng(m=>{const D=T=>{const M=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(T.routeConfig).pipe((0,Ae.b)(O=>{T.component=O}),(0,We.U)(()=>{})));for(const O of T.children)M.push(...D(O));return M};return ro(D(m.targetSnapshot.root)).pipe(N(),It(1))}),Ng(()=>this.afterPreactivation()),(0,We.U)(m=>{const D=function ki(t,n,e){const i=Ho(t,n._root,e?e._root:void 0);return new Ud(i,n)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return s={...m,targetRouterState:D}}),(0,Ae.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,n,e)=>(0,We.U)(i=>(new Eu(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Ae.b)({next(){c=!0},complete(){c=!0}}),so(()=>{c||f||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ke(m=>{if(f=!0,Df(m)){jd(m)||(this.navigated=!0,this.restoreHistory(s,!0));const D=new du(s.id,this.serializeUrl(s.extractedUrl),m.message,m.cancellationCode);if(i.next(D),jd(m)){const T=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Og(s.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const D=new Ld(s.id,this.serializeUrl(s.extractedUrl),m,s.targetSnapshot??void 0);i.next(D);try{s.resolve(this.errorHandler(m))}catch(T){s.reject(T)}}return qi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const s={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const m={...c};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(wu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:c,fragment:f,queryParamsHandling:m,preserveFragment:D}=i,T=s||this.routerState.root,M=D?this.currentUrlTree.fragment:f;let O=null;switch(m){case"merge":O={...this.currentUrlTree.queryParams,...c};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),av(T,this.currentUrlTree,e,O,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=lo(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Ov(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?{...KD}:!1===i?{...X1}:i,lo(e))return ag(this.currentUrlTree,e,s);const c=this.parseUrl(e);return ag(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const c=e[s];return null!=c&&(i[s]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Pr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,c,f){if(this.disposed)return Promise.resolve(!1);let m,D,T;f?(m=f.resolve,D=f.reject,T=f.promise):T=new Promise((V,Q)=>{m=V,D=Q});const M=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),O=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:M,targetPageId:O,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:m,reject:D,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),c={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,s){const c=new du(e.id,this.serializeUrl(e.extractedUrl),i,s);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){u.$Z()},t.\u0275prov=u.Yz7({token:t,factory:function(){return Rv()},providedIn:"root"}),t})();function Og(t){return"imperative"!==t}let Zd=(()=>{class t{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new qt.x,this.subscription=e.events.subscribe(c=>{c instanceof Pr&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,c,f){return!!(0!==e||i||s||c||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(hi),u.Y36(ws),u.Y36(pe))},t.\u0275dir=u.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&u.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),t})();class Pg{}let xg=(()=>{class t{constructor(e,i,s,c,f){this.router=e,this.injector=s,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(w(e=>e instanceof Pr),be(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,e,`Route: ${c.path}`));const f=c._injector??e,m=c._loadedInjector??f;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?s.push(this.preloadConfig(f,c)):(c.children||c._loadedRoutes)&&s.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,rn.D)(s).pipe((0,al.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ze(null);const c=s.pipe((0,E.z)(f=>null===f?Ze(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??e,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,rn.D)([c,f]).pipe((0,al.J)())}return c})}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(hi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Pg),u.LFG(Rg))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gc=new u.OlP("");let xv=(()=>{class t{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Fd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ui&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new ui(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){u.$Z()},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();function mc(t,n){return{\u0275kind:t,\u0275providers:n}}function qd(t){return[{provide:Mg,multi:!0,useValue:t}]}function qD(){const t=(0,u.f3M)(u.zs3);return n=>{const e=t.get(u.z2F);if(n!==e.components[0])return;const i=t.get(hi),s=t.get(kg);1===t.get(Fg)&&i.initialNavigation(),t.get(ho,null,u.XFs.Optional)?.setUpPreloading(),t.get(gc,null,u.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.next(),s.complete()}}const kg=new u.OlP("",{factory:()=>new qt.x}),Fg=new u.OlP("",{providedIn:"root",factory:()=>1});const ho=new u.OlP("");function XD(t){return mc(0,[{provide:ho,useExisting:xg},{provide:Pg,useExisting:t}])}const Lv=new u.OlP("ROUTER_FORROOT_GUARD"),tC=[Ie,{provide:Md,useClass:ou},{provide:hi,useFactory:Rv},_,{provide:ws,useFactory:function kv(t){return t.routerState.root},deps:[hi]},Rg];function Vv(){return new u.PXZ("Router",hi)}let Lg=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[tC,[],qd(e),{provide:Lv,useFactory:Bv,deps:[[hi,new u.FiY,new u.tp0]]},{provide:zd,useValue:i||{}},i?.useHash?{provide:pe,useClass:qe}:{provide:pe,useClass:je},{provide:gc,useFactory:()=>{const t=(0,u.f3M)(hi),n=(0,u.f3M)(Pa),e=(0,u.f3M)(zd);return e.scrollOffset&&n.setOffset(e.scrollOffset),new xv(t,n,e)}},i?.preloadingStrategy?XD(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Vv},i?.initialNavigation?Uv(i):[],[{provide:Vg,useFactory:qD},{provide:u.tb,multi:!0,useExisting:Vg}]]}}static forChild(e){return{ngModule:t,providers:[qd(e)]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(Lv,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[R]}),t})();function Bv(t){return"guarded"}function Uv(t){return["disabled"===t.initialNavigation?mc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const n=(0,u.f3M)(hi);return()=>{n.setUpLocationChangeListener()}}},{provide:Fg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?mc(2,[{provide:Fg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:n=>{const e=n.get(H,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(c=>{const f=n.get(hi),m=n.get(kg);(function s(c){n.get(hi).events.pipe(w(m=>m instanceof Pr||m instanceof du||m instanceof Ld),(0,We.U)(m=>m instanceof Pr||m instanceof du&&(0===m.code||1===m.code)&&null),w(m=>null!==m),It(1)).subscribe(()=>{c()})})(()=>{c(!0),i=!0}),f.afterPreactivation=()=>(c(!0),i||m.closed?Ze(void 0):m),f.initialNavigation()}))}}]).\u0275providers:[]]}const Vg=new u.OlP(""),Hv=[];let oC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Lg.forRoot(Hv),Lg]}),t})();var jv=x(1144);const sC=["addListener","removeListener"],aC=["addEventListener","removeEventListener"],iI=["on","off"];function Vi(t,n,e,i){if((0,Ci.m)(e)&&(i=e,e=void 0),i)return Vi(t,n,e).pipe(vs(i));const[s,c]=function Ug(t){return(0,Ci.m)(t.addEventListener)&&(0,Ci.m)(t.removeEventListener)}(t)?aC.map(f=>m=>t[f](n,m,e)):function _c(t){return(0,Ci.m)(t.addListener)&&(0,Ci.m)(t.removeListener)}(t)?sC.map(Bg(t,n)):function lC(t){return(0,Ci.m)(t.on)&&(0,Ci.m)(t.off)}(t)?iI.map(Bg(t,n)):[];if(!s&&(0,jv.z)(t))return(0,E.z)(f=>Vi(f,n,e))((0,ci.Xf)(t));if(!s)throw new TypeError("Invalid event target");return new bn.y(f=>{const m=(...D)=>f.next(1<D.length?D:D[0]);return s(m),()=>c(m)})}function Bg(t,n){return e=>i=>t[e](n,i)}var Jd=x(4986),cC=x(3532);function $v(t=0,n,e=Jd.P){let i=-1;return null!=n&&((0,cC.K)(n)?e=n:i=n),new bn.y(s=>{let c=function rI(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;c<0&&(c=0);let f=0;return e.schedule(function(){s.closed||(s.next(f++),0<=i?this.schedule(void 0,i):s.complete())},c)})}const{isArray:oI}=Array;function Gv(t){return 1===t.length&&oI(t[0])?t[0]:t}function Hg(...t){return 1===(t=Gv(t)).length?(0,ci.Xf)(t[0]):new bn.y(function sI(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,ci.Xf)(t[i]).subscribe((0,Xt.x)(n,s=>{if(e){for(let c=0;c<e.length;c++)c!==i&&e[c].unsubscribe();e=null}n.next(s)})))}}(t))}var Bf=x(5032);function Qd(...t){const n=(0,Di.jO)(t),e=Gv(t);return e.length?new bn.y(i=>{let s=e.map(()=>[]),c=e.map(()=>!1);i.add(()=>{s=c=null});for(let f=0;!i.closed&&f<e.length;f++)(0,ci.Xf)(e[f]).subscribe((0,Xt.x)(i,m=>{if(s[f].push(m),s.every(D=>D.length)){const D=s.map(T=>T.shift());i.next(n?n(...D):D),s.some((T,M)=>!T.length&&c[M])&&i.complete()}},()=>{c[f]=!0,!s[f].length&&i.complete()}));return()=>{s=c=null}}):qi.E}function ni(t){return(0,kn.e)((n,e)=>{(0,ci.Xf)(t).subscribe((0,Xt.x)(e,()=>e.complete(),Bf.Z)),!e.closed&&n.subscribe(e)})}function uC(t,n){return t===n}function Hf(...t){const n=(0,Di.jO)(t);return(0,kn.e)((e,i)=>{const s=t.length,c=new Array(s);let f=t.map(()=>!1),m=!1;for(let D=0;D<s;D++)(0,ci.Xf)(t[D]).subscribe((0,Xt.x)(i,T=>{c[D]=T,!m&&!f[D]&&(f[D]=!0,(m=f.every(Rr.y))&&(f=null))},Bf.Z));e.subscribe((0,Xt.x)(i,D=>{if(m){const T=[D,...c];i.next(n?n(...T):T)}}))})}function Wv(t,n){return n?e=>cr(n.pipe(It(1),function dC(){return(0,kn.e)((t,n)=>{t.subscribe((0,Xt.x)(n,Bf.Z))})}()),e.pipe(Wv(t))):(0,E.z)((e,i)=>t(e,i).pipe(It(1),Lo(e)))}new bn.y(Bf.Z);let ap=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})(),Cy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ap]}),t})(),wy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Cy]}),t})();var fm={left:"right",right:"left",bottom:"top",top:"bottom"};function dp(t){return t.replace(/left|right|bottom|top/g,function(n){return fm[n]})}function kr(t){return t.split("-")[0]}var hp={start:"end",end:"start"};function fp(t){return t.replace(/start|end/g,function(n){return hp[n]})}var Fr="top",Lr="bottom",Vr="right",yr="left",pp="auto",Ic=[Fr,Lr,Vr,yr],Sc="start",Wu="end",gm="viewport",hh="popper",mm=Ic.reduce(function(t,n){return t.concat([n+"-"+Sc,n+"-"+Wu])},[]),_m=[].concat(Ic,[pp]).reduce(function(t,n){return t.concat([n,n+"-"+Sc,n+"-"+Wu])},[]),Py=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Br(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function bl(t){return t instanceof Br(t).Element||t instanceof Element}function Ur(t){return t instanceof Br(t).HTMLElement||t instanceof HTMLElement}function mp(t){return!(typeof ShadowRoot>"u")&&(t instanceof Br(t).ShadowRoot||t instanceof ShadowRoot)}function Nc(t){return((bl(t)?t.ownerDocument:t.document)||window.document).documentElement}var Ac=Math.max,_p=Math.min,Mc=Math.round;function ym(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function qn(){return!/^((?!chrome|android).)*safari/i.test(ym())}function Rc(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),s=1,c=1;n&&Ur(t)&&(s=t.offsetWidth>0&&Mc(i.width)/t.offsetWidth||1,c=t.offsetHeight>0&&Mc(i.height)/t.offsetHeight||1);var m=(bl(t)?Br(t):window).visualViewport,D=!qn()&&e,T=(i.left+(D&&m?m.offsetLeft:0))/s,M=(i.top+(D&&m?m.offsetTop:0))/c,O=i.width/s,V=i.height/c;return{width:O,height:V,top:M,right:T+O,bottom:M+V,left:T,x:T,y:M}}function bm(t){var n=Br(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Dm(t){return Rc(Nc(t)).left+bm(t).scrollLeft}function _a(t){return Br(t).getComputedStyle(t)}function $o(t){return t?(t.nodeName||"").toLowerCase():null}function va(t){return"html"===$o(t)?t:t.assignedSlot||t.parentNode||(mp(t)?t.host:null)||Nc(t)}function Cm(t){var n=_a(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function Fy(t){return["html","body","#document"].indexOf($o(t))>=0?t.ownerDocument.body:Ur(t)&&Cm(t)?t:Fy(va(t))}function zu(t,n){var e;void 0===n&&(n=[]);var i=Fy(t),s=i===(null==(e=t.ownerDocument)?void 0:e.body),c=Br(i),f=s?[c].concat(c.visualViewport||[],Cm(i)?i:[]):i,m=n.concat(f);return s?m:m.concat(zu(va(f)))}function JC(t){return["table","td","th"].indexOf($o(t))>=0}function wm(t){return Ur(t)&&"fixed"!==_a(t).position?t.offsetParent:null}function Oc(t){for(var n=Br(t),e=wm(t);e&&JC(e)&&"static"===_a(e).position;)e=wm(e);return e&&("html"===$o(e)||"body"===$o(e)&&"static"===_a(e).position)?n:e||function II(t){var n=/firefox/i.test(ym());if(/Trident/i.test(ym())&&Ur(t)&&"fixed"===_a(t).position)return null;var s=va(t);for(mp(s)&&(s=s.host);Ur(s)&&["html","body"].indexOf($o(s))<0;){var c=_a(s);if("none"!==c.transform||"none"!==c.perspective||"paint"===c.contain||-1!==["transform","perspective"].indexOf(c.willChange)||n&&"filter"===c.willChange||n&&c.filter&&"none"!==c.filter)return s;s=s.parentNode}return null}(t)||n}function vp(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&mp(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function mo(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Em(t,n,e){return n===gm?mo(function xy(t,n){var e=Br(t),i=Nc(t),s=e.visualViewport,c=i.clientWidth,f=i.clientHeight,m=0,D=0;if(s){c=s.width,f=s.height;var T=qn();(T||!T&&"fixed"===n)&&(m=s.offsetLeft,D=s.offsetTop)}return{width:c,height:f,x:m+Dm(t),y:D}}(t,e)):bl(n)?function QC(t,n){var e=Rc(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):mo(function ky(t){var n,e=Nc(t),i=bm(t),s=null==(n=t.ownerDocument)?void 0:n.body,c=Ac(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),f=Ac(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),m=-i.scrollLeft+Dm(t),D=-i.scrollTop;return"rtl"===_a(s||e).direction&&(m+=Ac(e.clientWidth,s?s.clientWidth:0)-c),{width:c,height:f,x:m,y:D}}(Nc(t)))}function Hi(t){return t.split("-")[1]}function yp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Tm(t){var D,n=t.reference,e=t.element,i=t.placement,s=i?kr(i):null,c=i?Hi(i):null,f=n.x+n.width/2-e.width/2,m=n.y+n.height/2-e.height/2;switch(s){case Fr:D={x:f,y:n.y-e.height};break;case Lr:D={x:f,y:n.y+n.height};break;case Vr:D={x:n.x+n.width,y:m};break;case yr:D={x:n.x-e.width,y:m};break;default:D={x:n.x,y:n.y}}var T=s?yp(s):null;if(null!=T){var M="y"===T?"height":"width";switch(c){case Sc:D[T]=D[T]-(n[M]/2-e[M]/2);break;case Wu:D[T]=D[T]+(n[M]/2-e[M]/2)}}return D}function Vy(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function By(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function Im(t,n){void 0===n&&(n={});var i=n.placement,s=void 0===i?t.placement:i,c=n.strategy,f=void 0===c?t.strategy:c,m=n.boundary,D=void 0===m?"clippingParents":m,T=n.rootBoundary,M=void 0===T?gm:T,O=n.elementContext,V=void 0===O?hh:O,Q=n.altBoundary,ye=void 0!==Q&&Q,Ne=n.padding,Fe=void 0===Ne?0:Ne,tt=Vy("number"!=typeof Fe?Fe:By(Fe,Ic)),Ct=t.rects.popper,st=t.elements[ye?V===hh?"reference":hh:V],mt=function Go(t,n,e,i){var s="clippingParents"===n?function As(t){var n=zu(va(t)),i=["absolute","fixed"].indexOf(_a(t).position)>=0&&Ur(t)?Oc(t):t;return bl(i)?n.filter(function(s){return bl(s)&&vp(s,i)&&"body"!==$o(s)}):[]}(t):[].concat(n),c=[].concat(s,[e]),m=c.reduce(function(D,T){var M=Em(t,T,i);return D.top=Ac(M.top,D.top),D.right=_p(M.right,D.right),D.bottom=_p(M.bottom,D.bottom),D.left=Ac(M.left,D.left),D},Em(t,c[0],i));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}(bl(st)?st:st.contextElement||Nc(t.elements.popper),D,M,f),Nt=Rc(t.elements.reference),Tn=Tm({reference:Nt,element:Ct,strategy:"absolute",placement:s}),ln=mo(Object.assign({},Ct,Tn)),Ii=V===hh?ln:Nt,Si={top:mt.top-Ii.top+tt.top,bottom:Ii.bottom-mt.bottom+tt.bottom,left:mt.left-Ii.left+tt.left,right:Ii.right-mt.right+tt.right},ii=t.modifiersData.offset;if(V===hh&&ii){var Sa=ii[s];Object.keys(Si).forEach(function($r){var Bh=[Vr,Lr].indexOf($r)>=0?1:-1,Uh=[Fr,Lr].indexOf($r)>=0?"y":"x";Si[$r]+=Sa[Uh]*Bh})}return Si}const Uy={name:"flip",enabled:!0,phase:"main",fn:function XC(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var s=e.mainAxis,c=void 0===s||s,f=e.altAxis,m=void 0===f||f,D=e.fallbackPlacements,T=e.padding,M=e.boundary,O=e.rootBoundary,V=e.altBoundary,Q=e.flipVariations,ye=void 0===Q||Q,Ne=e.allowedAutoPlacements,Fe=n.options.placement,tt=kr(Fe),Ct=D||(tt!==Fe&&ye?function fh(t){if(kr(t)===pp)return[];var n=dp(t);return[fp(t),n,fp(n)]}(Fe):[dp(Fe)]),st=[Fe].concat(Ct).reduce(function(eg,pd){return eg.concat(kr(pd)===pp?function Sm(t,n){void 0===n&&(n={});var s=n.boundary,c=n.rootBoundary,f=n.padding,m=n.flipVariations,D=n.allowedAutoPlacements,T=void 0===D?_m:D,M=Hi(n.placement),O=M?m?mm:mm.filter(function(ye){return Hi(ye)===M}):Ic,V=O.filter(function(ye){return T.indexOf(ye)>=0});0===V.length&&(V=O);var Q=V.reduce(function(ye,Ne){return ye[Ne]=Im(t,{placement:Ne,boundary:s,rootBoundary:c,padding:f})[kr(Ne)],ye},{});return Object.keys(Q).sort(function(ye,Ne){return Q[ye]-Q[Ne]})}(n,{placement:pd,boundary:M,rootBoundary:O,padding:T,flipVariations:ye,allowedAutoPlacements:Ne}):pd)},[]),mt=n.rects.reference,Nt=n.rects.popper,Tn=new Map,ln=!0,Ii=st[0],Si=0;Si<st.length;Si++){var ii=st[Si],Sa=kr(ii),$r=Hi(ii)===Sc,Bh=[Fr,Lr].indexOf(Sa)>=0,Uh=Bh?"width":"height",Xo=Im(n,{placement:ii,boundary:M,rootBoundary:O,altBoundary:V,padding:T}),Na=Bh?$r?Vr:yr:$r?Lr:Fr;mt[Uh]>Nt[Uh]&&(Na=dp(Na));var CD=dp(Na),Hh=[];if(c&&Hh.push(Xo[Sa]<=0),m&&Hh.push(Xo[Na]<=0,Xo[CD]<=0),Hh.every(function(eg){return eg})){Ii=ii,ln=!1;break}Tn.set(ii,Hh)}if(ln)for(var G1=function(pd){var ev=st.find(function(TD){var jh=Tn.get(TD);if(jh)return jh.slice(0,pd).every(function(W1){return W1})});if(ev)return Ii=ev,"break"},X_=ye?3:1;X_>0&&"break"!==G1(X_);X_--);n.placement!==Ii&&(n.modifiersData[i]._skip=!0,n.placement=Ii,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ku(t,n,e){return Ac(t,_p(n,e))}function Zu(t){var n=Rc(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const jy={name:"preventOverflow",enabled:!0,phase:"main",fn:function tw(t){var n=t.state,e=t.options,i=t.name,s=e.mainAxis,c=void 0===s||s,f=e.altAxis,m=void 0!==f&&f,V=e.tether,Q=void 0===V||V,ye=e.tetherOffset,Ne=void 0===ye?0:ye,Fe=Im(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),tt=kr(n.placement),Ye=Hi(n.placement),Ct=!Ye,st=yp(tt),mt=function ew(t){return"x"===t?"y":"x"}(st),Nt=n.modifiersData.popperOffsets,Tn=n.rects.reference,ln=n.rects.popper,Ii="function"==typeof Ne?Ne(Object.assign({},n.rects,{placement:n.placement})):Ne,Si="number"==typeof Ii?{mainAxis:Ii,altAxis:Ii}:Object.assign({mainAxis:0,altAxis:0},Ii),ii=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Sa={x:0,y:0};if(Nt){if(c){var $r,Bh="y"===st?Fr:yr,Uh="y"===st?Lr:Vr,Xo="y"===st?"height":"width",Na=Nt[st],CD=Na+Fe[Bh],Hh=Na-Fe[Uh],wD=Q?-ln[Xo]/2:0,G1=Ye===Sc?Tn[Xo]:ln[Xo],X_=Ye===Sc?-ln[Xo]:-Tn[Xo],ED=n.elements.arrow,eg=Q&&ED?Zu(ED):{width:0,height:0},pd=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ev=pd[Bh],TD=pd[Uh],jh=Ku(0,Tn[Xo],eg[Xo]),W1=Ct?Tn[Xo]/2-wD-jh-ev-Si.mainAxis:G1-jh-ev-Si.mainAxis,VF=Ct?-Tn[Xo]/2+wD+jh+TD+Si.mainAxis:X_+jh+TD+Si.mainAxis,z1=n.elements.arrow&&Oc(n.elements.arrow),WM=null!=($r=ii?.[st])?$r:0,HF=Na+VF-WM,zM=Ku(Q?_p(CD,Na+W1-WM-(z1?"y"===st?z1.clientTop||0:z1.clientLeft||0:0)):CD,Na,Q?Ac(Hh,HF):Hh);Nt[st]=zM,Sa[st]=zM-Na}if(m){var KM,$h=Nt[mt],ID="y"===mt?"height":"width",ZM=$h+Fe["x"===st?Fr:yr],YM=$h-Fe["x"===st?Lr:Vr],K1=-1!==[Fr,yr].indexOf(tt),qM=null!=(KM=ii?.[mt])?KM:0,JM=K1?ZM:$h-Tn[ID]-ln[ID]-qM+Si.altAxis,QM=K1?$h+Tn[ID]+ln[ID]-qM-Si.altAxis:YM,XM=Q&&K1?function Hy(t,n,e){var i=Ku(t,n,e);return i>e?e:i}(JM,$h,QM):Ku(Q?JM:ZM,$h,Q?QM:YM);Nt[mt]=XM,Sa[mt]=XM-$h}n.modifiersData[i]=Sa}},requiresIfExists:["offset"]},Wy={name:"arrow",enabled:!0,phase:"main",fn:function Gy(t){var n,e=t.state,i=t.name,s=t.options,c=e.elements.arrow,f=e.modifiersData.popperOffsets,m=kr(e.placement),D=yp(m),M=[yr,Vr].indexOf(m)>=0?"height":"width";if(c&&f){var O=function(n,e){return Vy("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:By(n,Ic))}(s.padding,e),V=Zu(c),Q="y"===D?Fr:yr,ye="y"===D?Lr:Vr,Ne=e.rects.reference[M]+e.rects.reference[D]-f[D]-e.rects.popper[M],Fe=f[D]-e.rects.reference[D],tt=Oc(c),Ye=tt?"y"===D?tt.clientHeight||0:tt.clientWidth||0:0,Nt=Ye/2-V[M]/2+(Ne/2-Fe/2),Tn=Ku(O[Q],Nt,Ye-V[M]-O[ye]);e.modifiersData[i]=((n={})[D]=Tn,n.centerOffset=Tn-Nt,n)}},effect:function bp(t){var n=t.state,i=t.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=n.elements.popper.querySelector(s))||!vp(n.elements.popper,s)||(n.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yy(t,n,e){void 0===e&&(e=!1);var i=Ur(n),s=Ur(n)&&function Zy(t){var n=t.getBoundingClientRect(),e=Mc(n.width)/t.offsetWidth||1,i=Mc(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),c=Nc(n),f=Rc(t,s,e),m={scrollLeft:0,scrollTop:0},D={x:0,y:0};return(i||!i&&!e)&&(("body"!==$o(n)||Cm(c))&&(m=function Ky(t){return t!==Br(t)&&Ur(t)?function zy(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):bm(t)}(n)),Ur(n)?((D=Rc(n,!0)).x+=n.clientLeft,D.y+=n.clientTop):c&&(D.x=Dm(c))),{x:f.left+m.scrollLeft-D.x,y:f.top+m.scrollTop-D.y,width:f.width,height:f.height}}function qy(t){var n=new Map,e=new Set,i=[];function s(c){e.add(c.name),[].concat(c.requires||[],c.requiresIfExists||[]).forEach(function(m){if(!e.has(m)){var D=n.get(m);D&&s(D)}}),i.push(c)}return t.forEach(function(c){n.set(c.name,c)}),t.forEach(function(c){e.has(c.name)||s(c)}),i}function Qy(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var Xy={placement:"bottom",modifiers:[],strategy:"absolute"};function e0(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function iw(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,s=t.defaultOptions,c=void 0===s?Xy:s;return function(m,D,T){void 0===T&&(T=c);var M={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xy,c),modifiersData:{},elements:{reference:m,popper:D},attributes:{},styles:{}},O=[],V=!1,Q={state:M,setOptions:function(tt){var Ye="function"==typeof tt?tt(M.options):tt;Ne(),M.options=Object.assign({},c,M.options,Ye),M.scrollParents={reference:bl(m)?zu(m):m.contextElement?zu(m.contextElement):[],popper:zu(D)};var Ct=function Jy(t){var n=qy(t);return Py.reduce(function(e,i){return e.concat(n.filter(function(s){return s.phase===i}))},[])}(function nw(t){var n=t.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,M.options.modifiers)));return M.orderedModifiers=Ct.filter(function(ii){return ii.enabled}),function ye(){M.orderedModifiers.forEach(function(Fe){var Ye=Fe.options,st=Fe.effect;if("function"==typeof st){var mt=st({state:M,name:Fe.name,instance:Q,options:void 0===Ye?{}:Ye});O.push(mt||function(){})}})}(),Q.update()},forceUpdate:function(){if(!V){var tt=M.elements,Ye=tt.reference,Ct=tt.popper;if(e0(Ye,Ct)){M.rects={reference:Yy(Ye,Oc(Ct),"fixed"===M.options.strategy),popper:Zu(Ct)},M.reset=!1,M.placement=M.options.placement,M.orderedModifiers.forEach(function(ii){return M.modifiersData[ii.name]=Object.assign({},ii.data)});for(var mt=0;mt<M.orderedModifiers.length;mt++)if(!0!==M.reset){var Nt=M.orderedModifiers[mt],Tn=Nt.fn,ln=Nt.options;"function"==typeof Tn&&(M=Tn({state:M,options:void 0===ln?{}:ln,name:Nt.name,instance:Q})||M)}else M.reset=!1,mt=-1}}},update:Qy(function(){return new Promise(function(Fe){Q.forceUpdate(),Fe(M)})}),destroy:function(){Ne(),V=!0}};if(!e0(m,D))return Q;function Ne(){O.forEach(function(Fe){return Fe()}),O=[]}return Q.setOptions(T).then(function(Fe){!V&&T.onFirstUpdate&&T.onFirstUpdate(Fe)}),Q}}var Dp={passive:!0},lw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function t0(t){var n,e=t.popper,i=t.popperRect,s=t.placement,c=t.variation,f=t.offsets,m=t.position,D=t.gpuAcceleration,T=t.adaptive,M=t.roundOffsets,O=t.isFixed,V=f.x,Q=void 0===V?0:V,ye=f.y,Ne=void 0===ye?0:ye,Fe="function"==typeof M?M({x:Q,y:Ne}):{x:Q,y:Ne};Q=Fe.x,Ne=Fe.y;var tt=f.hasOwnProperty("x"),Ye=f.hasOwnProperty("y"),Ct=yr,st=Fr,mt=window;if(T){var Nt=Oc(e),Tn="clientHeight",ln="clientWidth";Nt===Br(e)&&"static"!==_a(Nt=Nc(e)).position&&"absolute"===m&&(Tn="scrollHeight",ln="scrollWidth"),(s===Fr||(s===yr||s===Vr)&&c===Wu)&&(st=Lr,Ne-=(O&&Nt===mt&&mt.visualViewport?mt.visualViewport.height:Nt[Tn])-i.height,Ne*=D?1:-1),s!==yr&&(s!==Fr&&s!==Lr||c!==Wu)||(Ct=Vr,Q-=(O&&Nt===mt&&mt.visualViewport?mt.visualViewport.width:Nt[ln])-i.width,Q*=D?1:-1)}var $r,ii=Object.assign({position:m},T&&lw),Sa=!0===M?function cw(t){var e=t.y,s=window.devicePixelRatio||1;return{x:Mc(t.x*s)/s||0,y:Mc(e*s)/s||0}}({x:Q,y:Ne}):{x:Q,y:Ne};return Q=Sa.x,Ne=Sa.y,Object.assign({},ii,D?(($r={})[st]=Ye?"0":"",$r[Ct]=tt?"0":"",$r.transform=(mt.devicePixelRatio||1)<=1?"translate("+Q+"px, "+Ne+"px)":"translate3d("+Q+"px, "+Ne+"px, 0)",$r):((n={})[st]=Ye?Ne+"px":"",n[Ct]=tt?Q+"px":"",n.transform="",n))}var o0=iw({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function rw(t){var n=t.state,e=t.instance,i=t.options,s=i.scroll,c=void 0===s||s,f=i.resize,m=void 0===f||f,D=Br(n.elements.popper),T=[].concat(n.scrollParents.reference,n.scrollParents.popper);return c&&T.forEach(function(M){M.addEventListener("scroll",e.update,Dp)}),m&&D.addEventListener("resize",e.update,Dp),function(){c&&T.forEach(function(M){M.removeEventListener("scroll",e.update,Dp)}),m&&D.removeEventListener("resize",e.update,Dp)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function sw(t){var n=t.state;n.modifiersData[t.name]=Tm({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function uw(t){var n=t.state,e=t.options,i=e.gpuAcceleration,s=void 0===i||i,c=e.adaptive,f=void 0===c||c,m=e.roundOffsets,D=void 0===m||m,M={placement:kr(n.placement),variation:Hi(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:s,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,t0(Object.assign({},M,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:f,roundOffsets:D})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,t0(Object.assign({},M,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:D})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function hw(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},s=n.attributes[e]||{},c=n.elements[e];!Ur(c)||!$o(c)||(Object.assign(c.style,i),Object.keys(s).forEach(function(f){var m=s[f];!1===m?c.removeAttribute(f):c.setAttribute(f,!0===m?"":m)}))})},effect:function n0(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var s=n.elements[i],c=n.attributes[i]||{},m=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(D,T){return D[T]="",D},{});!Ur(s)||!$o(s)||(Object.assign(s.style,m),Object.keys(c).forEach(function(D){s.removeAttribute(D)}))})}},requires:["computeStyles"]}]});const l0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function a0(t){var n=t.state,i=t.name,s=t.options.offset,c=void 0===s?[0,0]:s,f=_m.reduce(function(M,O){return M[O]=function s0(t,n,e){var i=kr(t),s=[yr,Fr].indexOf(i)>=0?-1:1,c="function"==typeof e?e(Object.assign({},n,{placement:t})):e,f=c[0],m=c[1];return f=f||0,m=(m||0)*s,[yr,Vr].indexOf(i)>=0?{x:m,y:f}:{x:f,y:m}}(O,n.rects,c),M},{}),m=f[n.placement],T=m.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=m.x,n.modifiersData.popperOffsets.y+=T),n.modifiersData[i]=f}},MI=["*"],Tw=["dialog"];function Dh(t){return"string"==typeof t}function ya(t){return null!=t}function zo(t){return(t||document.body).getBoundingClientRect()}const Rm={animation:!0,transitionTimerDelayMs:5},Om=()=>{},{transitionTimerDelayMs:oE}=Rm,kc=new Map,Qi=(t,n,e,i)=>{let s=i.context||{};const c=kc.get(n);if(c)switch(i.runningTransition){case"continue":return qi.E;case"stop":t.run(()=>c.transition$.complete()),s=Object.assign(c.context,s),kc.delete(n)}const f=e(n,i.animation,s)||Om;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>f()),Ze(void 0).pipe(function O0(t){return n=>new bn.y(e=>n.subscribe({next:f=>t.run(()=>e.next(f)),error:f=>t.run(()=>e.error(f)),complete:()=>t.run(()=>e.complete())}))}(t));const m=new qt.x,D=new qt.x,T=m.pipe(function Uf(...t){return n=>cr(n,Ze(...t))}(!0));kc.set(n,{transition$:m,complete:()=>{D.next(),D.complete()},context:s});const M=function nS(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const O=Vi(n,"transitionend").pipe(ni(T),w(({target:Q})=>Q===n));Hg($v(M+oE).pipe(ni(T)),O,D).pipe(ni(T)).subscribe(()=>{kc.delete(n),t.run(()=>{f(),m.next(),m.complete()})})}),m.asObservable()};let Ch=(()=>{class t{constructor(){this.animation=Rm.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),U0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),Bm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),Um=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();var Jn=(()=>{return(t=Jn||(Jn={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",Jn;var t})();const Mp=(t,n)=>!!n&&n.some(e=>e.contains(t)),Z0=(t,n)=>!n||null!=function R0(t,n){return!n||typeof t.closest>"u"?null:t.closest(n)}(t,n),Y0=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function q0(t,n,e,i,s,c,f,m){e&&t.runOutsideAngular((t=>Y0?()=>setTimeout(()=>t(),100):t)(()=>{const T=Vi(n,"keydown").pipe(ni(s),w(V=>V.which===Jn.Escape),(0,Ae.b)(V=>V.preventDefault())),M=Vi(n,"mousedown").pipe((0,We.U)(V=>{const Q=V.target;return 2!==V.button&&!Mp(Q,f)&&("inside"===e?Mp(Q,c)&&Z0(Q,m):"outside"===e?!Mp(Q,c):Z0(Q,m)||!Mp(Q,c))}),ni(s)),O=Vi(n,"mouseup").pipe(Hf(M),w(([V,Q])=>Q),function hC(t,n=Jd.z){const e=$v(t,n);return Wv(()=>e)}(0),ni(s));Hg([T.pipe((0,We.U)(V=>0)),O.pipe((0,We.U)(V=>1))]).subscribe(V=>t.run(()=>i(V)))}))}const Gm=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Wm(t){const n=Array.from(t.querySelectorAll(Gm)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const CE=/\s+/,Q0=/  +/gi,X0=/^start/,wE=/^end/,eb=/-(top|left)$/,tb=/-(bottom|right)$/,qu=/^left/,EE=/^right/,TE=/^start/,vS=/^end/;function zm({placement:t,baseClass:n}){let e=Array.isArray(t)?t:t.split(CE),s=e.findIndex(D=>"auto"===D);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(D){null==e.find(T=>-1!==T.search("^"+D))&&e.splice(s++,1,D)});const c=e.map(D=>function Xi(t){return t.replace(X0,"left").replace(wE,"right").replace(eb,"-start").replace(tb,"-end")}(D));return{placement:c.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:D}){const T=new RegExp(n+"(-[a-z]+)*","gi"),M=D.elements.popper,O=D.placement;let V=M.className;V=V.replace(T,""),V+=` ${function yS(t,n){let[e,i]=n.split("-");const s=e.replace(qu,"start").replace(EE,"end");let c=[s];if(i){let f=i;("left"===e||"right"===e)&&(f=f.replace(TE,"top").replace(vS,"bottom")),c.push(`${s}-${f}`)}return t&&(c=c.map(f=>`${t}-${f}`)),c.join(" ")}(n,O)}`,V=V.trim().replace(Q0," "),M.className=V}},Uy,jy,Wy,{enabled:!0,name:"flip",options:{fallbackPlacements:c}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Km(t){return t}function Zm(t){return n=>(n.modifiers.push(l0,{name:"offset",options:{offset:()=>t}}),n)}new Date(1882,10,12),new Date(2174,10,25);let cb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn,wy]}),t})(),kS=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ub=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["",8,"navbar"]]}),t})(),$E=(()=>{class t{constructor(e,i){this.elementRef=e,this._renderer=i,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.Qsj))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,i){2&e&&(u.Ikx("tabIndex",i.disabled?-1:0),u.ekj("disabled",i.disabled))},inputs:{disabled:"disabled"}}),t})(),i_=(()=>{class t{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(u.Y36((0,u.Gpc)(()=>kp)),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,s){if(1&e&&u.Suo(s,$E,4),2&e){let c;u.iGM(c=u.CRH())&&(i.menuItems=c)}},hostVars:4,hostBindings:function(e,i){1&e&&u.NdJ("keydown.ArrowUp",function(c){return i.dropdown.onKeyDown(c)})("keydown.ArrowDown",function(c){return i.dropdown.onKeyDown(c)})("keydown.Home",function(c){return i.dropdown.onKeyDown(c)})("keydown.End",function(c){return i.dropdown.onKeyDown(c)})("keydown.Enter",function(c){return i.dropdown.onKeyDown(c)})("keydown.Space",function(c){return i.dropdown.onKeyDown(c)})("keydown.Tab",function(c){return i.dropdown.onKeyDown(c)})("keydown.Shift.Tab",function(c){return i.dropdown.onKeyDown(c)}),2&e&&u.ekj("dropdown-menu",!0)("show",i.dropdown.isOpen())}}),t})(),xp=(()=>{class t{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(u.Y36((0,u.Gpc)(()=>kp)),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&u.uIk("aria-expanded",i.dropdown.isOpen())}}),t})(),db=(()=>{class t extends xp{constructor(e,i){super(e,i)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36((0,u.Gpc)(()=>kp)),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&u.NdJ("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(c){return i.dropdown.onKeyDown(c)})("keydown.ArrowDown",function(c){return i.dropdown.onKeyDown(c)})("keydown.Home",function(c){return i.dropdown.onKeyDown(c)})("keydown.End",function(c){return i.dropdown.onKeyDown(c)})("keydown.Tab",function(c){return i.dropdown.onKeyDown(c)})("keydown.Shift.Tab",function(c){return i.dropdown.onKeyDown(c)}),2&e&&u.uIk("aria-expanded",i.dropdown.isOpen())},features:[u._Bn([{provide:xp,useExisting:(0,u.Gpc)(()=>t)}]),u.qOj]}),t})(),kp=(()=>{class t{constructor(e,i,s,c,f,m,D){this._changeDetector=e,this._document=s,this._ngZone=c,this._elementRef=f,this._renderer=m,this._destroyCloseHandlers$=new qt.x,this._bodyContainer=null,this._positioning=function Eh(){let t=null;return{createPopper(n){if(!t){let i=(n.updatePopperOptions||Km)(zm(n));t=o0(n.hostElement,n.targetElement,i)}},update(){t&&t.update()},setOptions(n){if(t){let i=(n.updatePopperOptions||Km)(zm(n));t.setOptions(i)}},destroy(){t&&(t.destroy(),t=null)}}}(),this._open=!1,this.openChange=new u.vpe,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=D?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(It(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:i,previousValue:s}=e.dropdownClass;this._applyCustomDropdownClass(i,s)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Zm([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),q0(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const i=e.which,s=this._getMenuElements();let c=-1,f=null;const m=this._isEventFromToggle(e);if(!m&&s.length&&s.forEach((D,T)=>{D.contains(e.target)&&(f=D),D===this._document.activeElement&&(c=T)}),i!==Jn.Space&&i!==Jn.Enter){if(i!==Jn.Tab){if(m||f){if(this.open(),s.length){switch(i){case Jn.ArrowDown:c=Math.min(c+1,s.length-1);break;case Jn.ArrowUp:if(this._isDropup()&&-1===c){c=s.length-1;break}c=Math.max(c-1,0);break;case Jn.Home:c=0;break;case Jn.End:c=s.length-1}s[c].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const D=this._menu.nativeElement.querySelectorAll(Gm);e.shiftKey&&e.target===D[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===D[D.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Vi(e.target,"focusout").pipe(It(1)).subscribe(({relatedTarget:D})=>{this._elementRef.nativeElement.contains(D)||this.close()})}}else f&&(!0===this.autoClose||"inside"===this.autoClose)&&Vi(f,"click").pipe(It(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;this._menu&&e.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,s=this._menu.nativeElement,c=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(c,"position","absolute"),i.setStyle(s,"position","static"),i.setStyle(c,"z-index","1055"),i.appendChild(c,s),i.appendChild(this._document.body,c)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const s="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;s&&(i&&this._renderer.removeClass(s,i),e&&this._renderer.addClass(s,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const s=this._renderer,c=this._elementRef.nativeElement;s.removeClass(c,"dropup"),s.removeClass(c,"dropdown");const{nativeElement:f}=i;"static"===this.display?(i.placement=null,s.setAttribute(f,"data-bs-popper","static")):(i.placement=e,s.removeAttribute(f,"data-bs-popper"));const m=-1!==e.search("^top")?"dropup":"dropdown";s.addClass(c,m);const D=this._bodyContainer;D&&(s.removeClass(D,"dropup"),s.removeClass(D,"dropdown"),s.addClass(D,m))}}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.sBO),u.Y36(kS),u.Y36(ae),u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(ub,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,s){if(1&e&&(u.Suo(s,i_,5),u.Suo(s,xp,5)),2&e){let c;u.iGM(c=u.CRH())&&(i._menu=c.first),u.iGM(c=u.CRH())&&(i._anchor=c.first)}},hostVars:2,hostBindings:function(e,i){2&e&&u.ekj("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[u.TTD]}),t})(),r_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();class Cl{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let Yo=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(It(1)).subscribe(()=>{Qi(this._zone,this._el.nativeElement,(e,i)=>{i&&zo(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class hb{close(n){}dismiss(n){}}class o_{constructor(n,e,i,s){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new qt.x,this._dismissed=new qt.x,this._hidden=new qt.x,n.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,f)=>{this._resolve=c,this._reject=f}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ni(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ni(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function A0(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ze(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Qd(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ah=(()=>{return(t=Ah||(Ah={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Ah;var t})();let _o=(()=>{class t{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new qt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new qt.x,this.hidden=new qt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Dh(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(It(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},f=Qd(Qi(this._zone,e,()=>e.classList.remove("show"),i),Qi(this._zone,this._dialogEl.nativeElement,()=>{},i));return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){const e={animation:this.animation,runningTransition:"continue"};Qd(Qi(this._zone,this._elRef.nativeElement,(c,f)=>{f&&zo(c),c.classList.add("show")},e),Qi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Vi(e,"keydown").pipe(ni(this._closed$),w(s=>s.which===Jn.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Ah.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Vi(this._dialogEl.nativeElement,"mousedown").pipe(ni(this._closed$),(0,Ae.b)(()=>i=!1),an(()=>Vi(e,"mouseup").pipe(ni(this._closed$),It(1))),w(({target:s})=>e===s)).subscribe(()=>{i=!0}),Vi(e,"click").pipe(ni(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Ah.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=Wm(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(ae),u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&u.Gf(Tw,7),2&e){let s;u.iGM(s=u.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:MI,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&e&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),GE=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:c,paddingRight:f}=s;if(e>0){const m=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${m+e}px`}return s.overflow="hidden",()=>{e>0&&(s.paddingRight=f),s.overflow=c}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s_=(()=>{class t{constructor(e,i,s,c,f,m){this._applicationRef=e,this._injector=i,this._document=s,this._scrollBar=c,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new qt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const D=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const s=Vi(n,"focusin").pipe(ni(e),(0,We.U)(c=>c.target));Vi(n,"keydown").pipe(ni(e),w(c=>c.which===Jn.Tab),Hf(s)).subscribe(([c,f])=>{const[m,D]=Wm(n);(f===m||f===n)&&c.shiftKey&&(D.focus(),c.preventDefault()),f===D&&!c.shiftKey&&(m.focus(),c.preventDefault())}),i&&Vi(n,"click").pipe(ni(e),Hf(s),(0,We.U)(c=>c[1])).subscribe(c=>c.focus())})})(0,D.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(D.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,s){const c=s.container instanceof HTMLElement?s.container:ya(s.container)?this._document.querySelector(s.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new hb,D=this._getContentRef(s.injector||e,i,m,s);let T=!1!==s.backdrop?this._attachBackdrop(c):void 0,M=this._attachWindowComponent(c,D.nodes),O=new o_(M,D,T,s.beforeDismiss);return this._registerModalRef(O),this._registerWindowCmpt(M),O.hidden.pipe(It(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=V=>{O.close(V)},m.dismiss=V=>{O.dismiss(V)},this._applyWindowOptions(M.instance,s),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,s),T.changeDetectorRef.detectChanges()),M.changeDetectorRef.detectChanges(),O}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,u.LMc)(Yo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let s=(0,u.LMc)(_o,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(s=>{ya(i[s])&&(e[s]=i[s])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(s=>{ya(i[s])&&(e[s]=i[s])})}_getContentRef(e,i,s,c){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,s):Dh(i)?this._createFromString(i):this._createFromComponent(e,i,s,c):new Cl([])}_createFromTemplateRef(e,i){const c=e.createEmbeddedView({$implicit:i,close(f){i.close(f)},dismiss(f){i.dismiss(f)}});return this._applicationRef.attachView(c),new Cl([c.rootNodes],c)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Cl([[i]])}_createFromComponent(e,i,s,c){const f=u.zs3.create({providers:[{provide:hb,useValue:s}],parent:e}),m=(0,u.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:f}),D=m.location.nativeElement;return c.scrollable&&D.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Cl([[D]],m.hostView,m)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(ae),u.LFG(GE),u.LFG(u.FYo),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),WE=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(Ch))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zE=(()=>{class t{constructor(e,i,s){this._injector=e,this._modalStack=i,this._config=s}open(e,i={}){const s={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.zs3),u.LFG(s_),u.LFG(WE))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[zE]}),t})(),Os=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),f_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),v_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),Cb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),y_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),wb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),Vp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),oT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();new u.OlP("live announcer delay",{providedIn:"root",factory:function aT(){return 100}});let C_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[jn]}),t})(),Ab=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();const hT=[B0,U0,Bm,Um,cb,r_,Fp,Os,Ab,f_,v_,Cb,y_,wb,Vp,oT,C_];let fT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[hT,B0,U0,Bm,Um,cb,r_,Fp,Os,Ab,f_,v_,Cb,y_,wb,Vp,oT,C_]}),t})(),eN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["bs-navbar"]],decls:27,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","/shopping-cart",1,"nav-link"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","id","dropdown01","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/my/orders",1,"dropdown-item"],["routerLink","/admin/orders",1,"dropdown-item"],["routerLink","/admin/products",1,"dropdown-item"],[1,"dropdown-item"]],template:function(e,i){1&e&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._uU(3,"O"),u.qZA(),u.TgZ(4,"button",3),u._UZ(5,"span",4),u.qZA(),u.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),u._uU(10,"shopping cart"),u.qZA()(),u.TgZ(11,"li",9)(12,"a",10),u._uU(13,"Username"),u.qZA(),u.TgZ(14,"div",11)(15,"li")(16,"a",12),u._uU(17,"My Orders"),u.qZA()(),u.TgZ(18,"li")(19,"a",13),u._uU(20,"Manage Orders"),u.qZA()(),u.TgZ(21,"li")(22,"a",14),u._uU(23,"Manage Products"),u.qZA()(),u.TgZ(24,"li")(25,"a",15),u._uU(26,"Log Out"),u.qZA()()()()()()()())},dependencies:[Zd,kp,db,i_,ub],styles:[".dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),pT=(()=>{class t{constructor(){this.title="shop"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-root"]],decls:11,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"]],template:function(e,i){1&e&&(u.TgZ(0,"html",0)(1,"head"),u._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),u.TgZ(5,"title"),u._uU(6,"Document"),u.qZA()(),u.TgZ(7,"body"),u._UZ(8,"bs-navbar"),u.TgZ(9,"div",4),u._UZ(10,"router-outlet"),u.qZA()()())},dependencies:[g,eN]}),t})();const Mb_firebase={apiKey:"AIzaSyApXWxvsWzQoJdwoqUUGo-EVWUlbNQldM8",authDomain:"shop-23ba9.firebaseapp.com",projectId:"shop-23ba9",storageBucket:"shop-23ba9.appspot.com",messagingSenderId:"712048308296",appId:"1:712048308296:web:8bd12524df230e1eb1a87d",measurementId:"G-K4JRK9FVVP"};var qo=x(2011),Rb=x(6451),gT=x(3099),vo=x(5813),mT=(x(2476),x(3942)),td=x(4859),nd=x(5861),id=x(9681),F=x(2090),Bp=x(1877);const _T="@firebase/database",r="0.13.6";let o="";function a(t){o=t}class l{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Pz)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class d{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const p=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new l(n)}}catch{}return new d},v=p("localStorage"),b=p("sessionStorage"),C=new Bp.Yd("@firebase/database"),I=function(){let t=1;return function(){return t++}}(),A=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},k=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=k.apply(null,i):n+="object"==typeof i?(0,F.Pz)(i):i,n+=" "}return n};let G=null,te=!0;const me=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(C.logLevel=Bp.in.VERBOSE,G=C.log.bind(C),n&&b.set("logging_enabled",!0)):"function"==typeof t?G=t:(G=null,b.remove("logging_enabled"))},Te=function(...t){if(!0===te&&(te=!1,null===G&&!0===b.get("logging_enabled")&&me(!0)),G){const n=k.apply(null,t);G(n)}},Le=function(t){return function(...n){Te(t,...n)}},ze=function(...t){const n="FIREBASE INTERNAL ERROR: "+k(...t);C.error(n)},Je=function(...t){const n=`FIREBASE FATAL ERROR: ${k(...t)}`;throw C.error(n),new Error(n)},ve=function(...t){const n="FIREBASE WARNING: "+k(...t);C.warn(n)},Ut=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},er="[MIN_NAME]",yo="[MAX_NAME]",Da=function(t,n){if(t===n)return 0;if(t===er||n===yo)return-1;if(n===er||t===yo)return 1;{const e=Ob(t),i=Ob(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},w_=function(t,n){return t===n?0:t<n?-1:1},Fc=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Pz)(n))},Mh=function(t){if("object"!=typeof t||null===t)return(0,F.Pz)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(n[i]),e+=":",e+=Mh(t[n[i]]);return e+="}",e},Up=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let s=0;s<e;s+=n)i.push(t.substring(s,s+n>e?e:s+n));return i};function Qn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const Hp=function(t){(0,F.hu)(!Ut(t),"Invalid JSON number");const i=1023;let s,c,f,m,D;0===t?(c=0,f=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=m+i,f=Math.round(t*Math.pow(2,52-m)-Math.pow(2,52))):(c=0,f=Math.round(t/Math.pow(2,-1074))));const T=[];for(D=52;D;D-=1)T.push(f%2?1:0),f=Math.floor(f/2);for(D=11;D;D-=1)T.push(c%2?1:0),c=Math.floor(c/2);T.push(s?1:0),T.reverse();const M=T.join("");let O="";for(D=0;D<64;D+=8){let V=parseInt(M.substr(D,8),2).toString(16);1===V.length&&(V="0"+V),O+=V}return O.toLowerCase()},MR=new RegExp("^-?(0*)\\d{1,10}$"),nN=-2147483648,vT=2147483647,Ob=function(t){if(MR.test(t)){const n=Number(t);if(n>=nN&&n<=vT)return n}return null},jp=function(t){try{t()}catch(n){setTimeout(()=>{throw ve("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},T_=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class OR{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class PR{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ve(n)}}let I_=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const aN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uN="websocket",dN="long_polling";class bT{constructor(n,e,i,s,c=!1,f="",m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&v.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hN(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===uN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==dN)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function xR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const s=[];return Qn(e,(c,f)=>{s.push(c+"="+f)}),i+s.join("&")}class kR{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const DT={},CT={};function wT(t){const n=t.toString();return DT[n]||(DT[n]=new kR),DT[n]}class LR{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&jp(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rd{constructor(n,e,i,s,c,f,m){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Le(n),this.stats_=wT(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),hN(e,dN,D))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new LR(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ET((...c)=>{const[f,m,D,T,M]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=m,this.password=D;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&aN.test(location.hostname)&&(i.r="f");const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rd.forceAllow_=!0}static forceDisallow(){rd.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!rd.forceAllow_&&(rd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Pz)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),s=Up(i,1840);for(let c=0;c<s.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[c]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Pz)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ET{constructor(n,e,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=I(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ET.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){Te("frame writing exception"),m.stack&&Te(m.stack),Te(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Te("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+s+"="+f.seg+"&ts"+s+"="+f.ts+"&d"+s+"="+f.d,s++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(s),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||"loaded"===s||"complete"===s)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Te("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let xb=null;typeof MozWebSocket<"u"?xb=MozWebSocket:typeof WebSocket<"u"&&(xb=WebSocket);let $p=(()=>{class t{constructor(e,i,s,c,f,m,D){this.connId=e,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Le(this.connId),this.stats_=wT(i),this.connURL=t.connectionURL_(i,m,D,c,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,c,f){const m={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&aN.test(location.hostname)&&(m.r="f"),i&&(m.s=i),s&&(m.ls=s),c&&(m.ac=c),f&&(m.p=f),hN(e,uN,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{let s;if((0,F.Yr)()){s={headers:{"User-Agent":`Firebase/5/${o}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,m=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;m&&(s.proxy={origin:m})}this.mySock=new xb(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==xb&&!t.forceDisallow_}static previouslyFailed(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")}markConnectionHealthy(){v.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=(0,F.cI)(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Up(i,16384);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),yN=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[rd,$p]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=$p&&$p.isAvailable();let s=i&&!$p.previouslyFailed();if(e.webSocketOnly&&(i||ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[$p];else{const c=this.transports_=[];for(const f of t.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class IN{constructor(n,e,i,s,c,f,m,D,T,M){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=c,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=D,this.onKill_=T,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Le("c:"+this.id+":"),this.transportManager_=new yN(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=T_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Fc("t",n),i=Fc("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Fc("t",n),i=Fc("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Fc("t",n);if("d"in n){const i=n.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ze("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ze("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,s=n.h;this.sessionId=n.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),T_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):T_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class SN{put(n,e,i,s){}merge(n,e,i,s){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class NN{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const s=this.getInitialEvent(n);s&&e.apply(i,s)}off(n,e,i){this.validateEventType_(n);const s=this.listeners_[n]||[];for(let c=0;c<s.length;c++)if(s[c].callback===e&&(!i||i===s[c].context))return void s.splice(c,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class kb extends NN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kb}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class en{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function zt(){return new en("")}function Rt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function od(t){return t.pieces_.length-t.pieceNum_}function pn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new en(t.pieces_,n)}function IT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function S_(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function RN(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new en(n,0)}function Vn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof en)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new en(e,0)}function Ot(t){return t.pieceNum_>=t.pieces_.length}function Hr(t,n){const e=Rt(t),i=Rt(n);if(null===e)return n;if(e===i)return Hr(pn(t),pn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function oO(t,n){const e=S_(t,0),i=S_(n,0);for(let s=0;s<e.length&&s<i.length;s++){const c=Da(e[s],i[s]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function ST(t,n){if(od(t)!==od(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function Ps(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(od(t)>od(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class sO{constructor(n,e){this.errorPrefix_=e,this.parts_=S_(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);ON(this)}}function ON(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rh(t))}function Rh(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class NT extends NN{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new NT}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const N_=1e3;let Lb,Oh=(()=>{class t extends SN{constructor(e,i,s,c,f,m,D,T){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=m,this.appCheckTokenProvider_=D,this.authOverride_=T,this.id=t.nextPersistentConnectionId_++,this.log_=Le("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=N_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NT.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&kb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const c=++this.requestNumber_,f={r:c,a:e,b:i};this.log_((0,F.Pz)(f)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),s&&(this.requestCBHash_[c]=s)}get(e){this.initConnection_();const i=new F.BH,s={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:s,onComplete:m=>{const D=m.d;"ok"===m.s?i.resolve(D):i.reject(D)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,s,c){this.initConnection_();const f=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+f),this.listens.has(m)||this.listens.set(m,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(m).has(f),"listen() called twice for same path/queryId.");const D={onComplete:c,hashFn:i,query:e,tag:s};this.listens.get(m).set(f,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+s+" for "+c);const f={p:s};e.tag&&(f.q=i._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,D=>{const T=D.d,M=D.s;t.warnOnListenWarnings_(T,i),(this.listens.get(s)&&this.listens.get(s).get(c))===e&&(this.log_("listen response",D),"ok"!==M&&this.removeListen_(s,c),e.onComplete&&e.onComplete(M,T))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const s=(0,F.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(i,s,c=>{const f=c.s,m=c.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,e._queryObject,i)}sendUnlisten_(e,i,s,c){this.log_("Unlisten on "+e+" for "+i);const f={p:e};c&&(f.q=s,f.t=c),this.sendRequest("n",f)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,c){const f={p:i,d:s};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(e,i,s,c){this.putInternal("p",e,i,s,c)}merge(e,i,s,c){this.putInternal("m",e,i,s,c)}putInternal(e,i,s,c,f){this.initConnection_();const m={p:i,d:s};void 0!==f&&(m.h=f),this.outstandingPuts_.push({action:e,request:m,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ze("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=N_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=N_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=N_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,nd.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+t.nextConnectionId_++,m=e.lastSessionId;let D=!1,T=null;const M=function(){T?T.close():(D=!0,c())};e.realtime_={close:M,sendRequest:function(Q){(0,F.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(Q)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Q,ye]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);D?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),e.authToken_=Q&&Q.accessToken,e.appCheckToken_=ye&&ye.token,T=new IN(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,s,c,Ne=>{ve(Ne+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(Q){e.log_("Failed to get token: "+Q),D||(e.repoInfo_.nodeAdmin&&ve(Q),M())}}})()}interrupt(e){Te("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Te("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=N_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;s=i?i.map(f=>Mh(f)).join("$"):"default";const c=this.removeListen_(e,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const s=new en(e).toString();let c;if(this.listens.has(s)){const f=this.listens.get(s);c=f.get(i),f.delete(i),0===f.size&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(e,i){Te("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Te("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+o.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kb.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Pt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Pt(n,e)}}class Fb{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new Pt(er,n),s=new Pt(er,e);return 0!==this.compare(i,s)}minPost(){return Pt.MIN}}class kN extends Fb{static get __EMPTY_NODE(){return Lb}static set __EMPTY_NODE(n){Lb=n}compare(n,e){return Da(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Pt.MIN}maxPost(){return new Pt(yo,Lb)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Pt(n,Lb)}toString(){return".key"}}const wl=new kN;class Vb{constructor(n,e,i,s,c=null){this.isReverse_=s,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(f=e?i(n.key,e):1,s&&(f*=-1),f<0)n=this.isReverse_?n.left:n.right;else{if(0===f){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let MT,Ca=(()=>{class t{constructor(e,i,s,c,f){this.key=e,this.value=i,this.color=s??t.RED,this.left=c??bo.EMPTY_NODE,this.right=f??bo.EMPTY_NODE}copy(e,i,s,c,f){return new t(e??this.key,i??this.value,s??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let c=this;const f=s(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,i,s),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return bo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,c;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===i(e,s.key)){if(s.right.isEmpty())return bo.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class bo{constructor(n,e=bo.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new bo(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Ca.BLACK,null,null))}remove(n){return new bo(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Ca.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,s=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(s=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Vb(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Vb(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Vb(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Vb(this.root_,null,this.comparator_,!0,n)}}function pO(t,n){return Da(t.name,n.name)}function AT(t,n){return Da(t,n)}bo.EMPTY_NODE=new class fO{copy(n,e,i,s,c){return this}insert(n,e,i){return new Ca(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const FN=function(t){return"number"==typeof t?"number:"+Hp(t):"string:"+t},LN=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===MT||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===MT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VN,BN,UN,Gp=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),LN(this.priorityNode_)}static set __childrenNodeConstructor(e){VN=e}static get __childrenNodeConstructor(){return VN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:".priority"===Rt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=Rt(e);return null===s?i:i.isEmpty()&&".priority"!==s?this:((0,F.hu)(".priority"!==s||1===od(e),".priority must be the last token in a path"),this.updateImmediateChild(s,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+FN(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Hp(this.value_):this.value_,this.lazyHash_=A(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,c=t.VALUE_TYPE_ORDER.indexOf(i),f=t.VALUE_TYPE_ORDER.indexOf(s);return(0,F.hu)(c>=0,"Unknown leaf type: "+i),(0,F.hu)(f>=0,"Unknown leaf type: "+s),c===f?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const wn=new class vO extends Fb{compare(n,e){const i=n.node.getPriority(),s=e.node.getPriority(),c=i.compareTo(s);return 0===c?Da(n.name,e.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Pt.MIN}maxPost(){return new Pt(yo,new Gp("[PRIORITY-POST]",UN))}makePost(n,e){const i=BN(n);return new Pt(e,new Gp("[PRIORITY-POST]",i))}toString(){return".priority"}},yO=Math.log(2);class bO{constructor(n){this.count=parseInt(Math.log(n+1)/yO,10),this.current_=this.count-1;const s=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&s}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Bb=function(t,n,e,i){t.sort(n);const s=function(D,T){const M=T-D;let O,V;if(0===M)return null;if(1===M)return O=t[D],V=e?e(O):O,new Ca(V,O.node,Ca.BLACK,null,null);{const Q=parseInt(M/2,10)+D,ye=s(D,Q),Ne=s(Q+1,T);return O=t[Q],V=e?e(O):O,new Ca(V,O.node,Ca.BLACK,ye,Ne)}},m=function(D){let T=null,M=null,O=t.length;const V=function(ye,Ne){const Fe=O-ye,tt=O;O-=ye;const Ye=s(Fe+1,tt),Ct=t[Fe],st=e?e(Ct):Ct;Q(new Ca(st,Ct.node,Ne,null,Ye))},Q=function(ye){T?(T.left=ye,T=ye):(M=ye,T=ye)};for(let ye=0;ye<D.count;++ye){const Ne=D.nextBitIsOne(),Fe=Math.pow(2,D.count-(ye+1));Ne?V(Fe,Ca.BLACK):(V(Fe,Ca.BLACK),V(Fe,Ca.RED))}return M}(new bO(t.length));return new bo(i||n,m)};let RT;const Wp={};class Lc{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(Wp&&wn,"ChildrenNode.ts has not been loaded"),RT=RT||new Lc({".priority":Wp},{".priority":wn}),RT}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof bo?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==wl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const c=e.getIterator(Pt.Wrap);let m,f=c.getNext();for(;f;)s=s||n.isDefinedOn(f.node),i.push(f),f=c.getNext();m=s?Bb(i,n.getCompare()):Wp;const D=n.toString(),T=Object.assign({},this.indexSet_);T[D]=n;const M=Object.assign({},this.indexes_);return M[D]=m,new Lc(M,T)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(s,c)=>{const f=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(f,"Missing index implementation for "+c),s===Wp){if(f.isDefinedOn(n.node)){const m=[],D=e.getIterator(Pt.Wrap);let T=D.getNext();for(;T;)T.name!==n.name&&m.push(T),T=D.getNext();return m.push(n),Bb(m,f.getCompare())}return Wp}{const m=e.get(n.name);let D=s;return m&&(D=D.remove(new Pt(n.name,m))),D.insert(n,n.node)}});return new Lc(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,s=>{if(s===Wp)return s;{const c=e.get(n.name);return c?s.remove(new Pt(n.name,c)):s}});return new Lc(i,this.indexSet_)}}let A_,Dt=(()=>{class t{constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&LN(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return A_||(A_=new t(new bo(AT),null,Lc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||A_}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?A_:i}}getChild(e){const i=Rt(e);return null===i?this:this.getImmediateChild(i).getChild(pn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const s=new Pt(e,i);let c,f;i.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(e,i),f=this.indexMap_.addToIndexes(s,this.children_));const m=c.isEmpty()?A_:this.priorityNode_;return new t(c,m,f)}}updateChild(e,i){const s=Rt(e);if(null===s)return i;{(0,F.hu)(".priority"!==Rt(e)||1===od(e),".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(pn(e),i);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,c=0,f=!0;if(this.forEachChild(wn,(m,D)=>{i[m]=D.val(e),s++,f&&t.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):f=!1}),!e&&f&&c<2*s){const m=[];for(const D in i)m[D]=i[D];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+FN(this.getPriority().val())+":"),this.forEachChild(wn,(i,s)=>{const c=s.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":A(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const c=this.resolveIndex_(s);if(c){const f=c.getPredecessorKey(new Pt(e,i));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Pt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Pt(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Pt.Wrap);let f=c.peek();for(;null!=f&&i.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Pt.Wrap);let f=c.peek();for(;null!=f&&i.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===M_?-1:0}withIndex(e){if(e===wl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===wl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const s=this.getIterator(wn),c=i.getIterator(wn);let f=s.getNext(),m=c.getNext();for(;f&&m;){if(f.name!==m.name||!f.node.equals(m.node))return!1;f=s.getNext(),m=c.getNext()}return null===f&&null===m}return!1}return!1}}resolveIndex_(e){return e===wl?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const M_=new class DO extends Dt{constructor(){super(new bo(AT),Dt.EMPTY_NODE,Lc.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Dt.EMPTY_NODE}isEmpty(){return!1}};function zn(t,n=null){if(null===t)return Dt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gp(t,zn(n));if(t instanceof Array){let e=Dt.EMPTY_NODE;return Qn(t,(i,s)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const c=zn(s);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(zn(n))}{const e=[];let i=!1;if(Qn(t,(f,m)=>{if("."!==f.substring(0,1)){const D=zn(m);D.isEmpty()||(i=i||!D.getPriority().isEmpty(),e.push(new Pt(f,D)))}}),0===e.length)return Dt.EMPTY_NODE;const c=Bb(e,pO,f=>f.name,AT);if(i){const f=Bb(e,wn.getCompare());return new Dt(c,zn(n),new Lc({".priority":f},{".priority":wn}))}return new Dt(c,zn(n),Lc.Default)}}Object.defineProperties(Pt,{MIN:{value:new Pt(er,Dt.EMPTY_NODE)},MAX:{value:new Pt(yo,M_)}}),kN.__EMPTY_NODE=Dt.EMPTY_NODE,Gp.__childrenNodeConstructor=Dt,function gO(t){MT=t}(M_),function _O(t){UN=t}(M_),function mO(t){BN=t}(zn);class OT extends Fb{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!Ot(n)&&".priority"!==Rt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),s=this.extractChild(e.node),c=i.compareTo(s);return 0===c?Da(n.name,e.name):c}makePost(n,e){const i=zn(n),s=Dt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Pt(e,s)}maxPost(){const n=Dt.EMPTY_NODE.updateChild(this.indexPath_,M_);return new Pt(yo,n)}toString(){return S_(this.indexPath_,0).join("/")}}const PT=new class wO extends Fb{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Da(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Pt.MIN}maxPost(){return Pt.MAX}makePost(n,e){const i=zn(n);return new Pt(e,i)}toString(){return".value"}},zp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EO=function(){let t=0;const n=[];return function(e){const i=e===t;let s;t=e;const c=new Array(8);for(s=7;s>=0;s--)c[s]=zp.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let f=c.join("");if(i){for(s=11;s>=0&&63===n[s];s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)f+=zp.charAt(n[s]);return(0,F.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),$N=function(t){if(t===""+vT)return"-";const n=Ob(t);if(null!=n)return""+(n+1);const e=new Array(t.length);for(let f=0;f<e.length;f++)e[f]=t.charAt(f);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return yo;const c=zp.charAt(zp.indexOf(e[i])+1);return e[i]=c,e.slice(0,i+1).join("")},GN=function(t){if(t===""+nN)return er;const n=Ob(t);if(null!=n)return""+(n-1);const e=new Array(t.length);for(let i=0;i<e.length;i++)e[i]=t.charAt(i);return"-"===e[e.length-1]?1===e.length?""+vT:(delete e[e.length-1],e.join("")):(e[e.length-1]=zp.charAt(zp.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function WN(t){return{type:"value",snapshotNode:t}}function Kp(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function R_(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function O_(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class kT{constructor(n){this.index_=n}updateChild(n,e,i,s,c,f){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(e);return m.getChild(s).equals(i.getChild(s))&&m.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?n.hasChild(e)?f.trackChildChange(R_(e,m)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(Kp(e,i)):f.trackChildChange(O_(e,i,m))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(wn,(s,c)=>{e.hasChild(s)||i.trackChildChange(R_(s,c))}),e.isLeafNode()||e.forEachChild(wn,(s,c)=>{if(n.hasChild(s)){const f=n.getImmediateChild(s);f.equals(c)||i.trackChildChange(O_(s,c,f))}else i.trackChildChange(Kp(s,c))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?Dt.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class P_{constructor(n){this.indexedFilter_=new kT(n.getIndex()),this.index_=n.getIndex(),this.startPost_=P_.getStartPost_(n),this.endPost_=P_.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,i,s,c,f){return this.matches(new Pt(e,i))||(i=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,s,c,f)}updateFullNode(n,e,i){e.isLeafNode()&&(e=Dt.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(Dt.EMPTY_NODE);const c=this;return e.forEachChild(wn,(f,m)=>{c.matches(new Pt(f,m))||(s=s.updateImmediateChild(f,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,s,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class IO{constructor(n){this.rangedFilter_=new P_(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,i,s,c,f){return this.rangedFilter_.matches(new Pt(e,i))||(i=Dt.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,s,c,f):this.fullLimitUpdateChild_(n,e,i,c,f)}updateFullNode(n,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=Dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;s=Dt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const m=c.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!D)break;s=s.updateImmediateChild(m.name,m.node),f++}}else{let c,f,m,D;if(s=e.withIndex(this.index_),s=s.updatePriority(Dt.EMPTY_NODE),this.reverse_){D=s.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();m=(V,Q)=>O(Q,V)}else D=s.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let T=0,M=!1;for(;D.hasNext();){const O=D.getNext();!M&&m(c,O)<=0&&(M=!0),M&&T<this.limit_&&m(O,f)<=0?T++:s=s.updateImmediateChild(O.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,s,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,s,c){let f;if(this.reverse_){const O=this.index_.getCompare();f=(V,Q)=>O(Q,V)}else f=this.index_.getCompare();const m=n;(0,F.hu)(m.numChildren()===this.limit_,"");const D=new Pt(e,i),T=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),M=this.rangedFilter_.matches(D);if(m.hasChild(e)){const O=m.getImmediateChild(e);let V=s.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=V&&(V.name===e||m.hasChild(V.name));)V=s.getChildAfterChild(this.index_,V,this.reverse_);const Q=null==V?1:f(V,D);if(M&&!i.isEmpty()&&Q>=0)return c?.trackChildChange(O_(e,i,O)),m.updateImmediateChild(e,i);{c?.trackChildChange(R_(e,O));const Ne=m.updateImmediateChild(e,Dt.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(c?.trackChildChange(Kp(V.name,V.node)),Ne.updateImmediateChild(V.name,V.node)):Ne}}return i.isEmpty()?n:M&&f(T,D)>=0?(null!=c&&(c.trackChildChange(R_(T.name,T.node)),c.trackChildChange(Kp(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(T.name,Dt.EMPTY_NODE)):n}}class Ub{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:er}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wn}copy(){const n=new Ub;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function FT(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function LT(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Hb(t,n){const e=t.copy();return e.index_=n,e}function zN(t){const n={};if(t.isDefault())return n;let e;return t.index_===wn?e="$priority":t.index_===PT?e="$value":t.index_===wl?e="$key":((0,F.hu)(t.index_ instanceof OT,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Pz)(e),t.startSet_&&(n.startAt=(0,F.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,F.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,F.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,F.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function KN(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==wn&&(n.i=t.index_.toString()),n}class jb extends SN{constructor(n,e,i,s){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Le("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,s){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const f=jb.getListenId_(n,i),m={};this.listens_[f]=m;const D=zN(n._queryParams);this.restRequest_(c+".json",D,(T,M)=>{let O=M;if(404===T&&(O=null,T=null),null===T&&this.onDataUpdate_(c,O,!1,i),(0,F.DV)(this.listens_,f)===m){let V;V=T?401===T?"permission_denied":"rest_error:"+T:"ok",s(V,null)}})}unlisten(n,e){const i=jb.getListenId_(n,e);delete this.listens_[i]}get(n){const e=zN(n._queryParams),i=n._path.toString(),s=new F.BH;return this.restRequest_(i+".json",e,(c,f)=>{let m=f;404===c&&(m=null,c=null),null===c?(this.onDataUpdate_(i,m,!1,null),s.resolve(m)):s.reject(new Error(m))}),s.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,c])=>{s&&s.accessToken&&(e.auth=s.accessToken),c&&c.token&&(e.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let D=null;if(m.status>=200&&m.status<300){try{D=(0,F.cI)(m.responseText)}catch{ve("Failed to parse JSON response for "+f+": "+m.responseText)}i(null,D)}else 401!==m.status&&404!==m.status&&ve("Got unsuccessful REST response for "+f+" Status: "+m.status),i(m.status);i=null}},m.open("GET",f,!0),m.send()})}}class OO{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function $b(){return{value:null,children:new Map}}function Zp(t,n,e){if(Ot(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Rt(n);t.children.has(i)||t.children.set(i,$b()),Zp(t.children.get(i),n=pn(n),e)}}function VT(t,n){if(Ot(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(wn,(i,s)=>{Zp(t,new en(i),s)}),VT(t,n)}}if(t.children.size>0){const e=Rt(n);return n=pn(n),t.children.has(e)&&VT(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function BT(t,n,e){null!==t.value?e(n,t.value):function PO(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,s)=>{BT(s,new en(n.toString()+"/"+i),e)})}class xO{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Qn(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=n,e}}class LO{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new xO(n);const i=1e4+2e4*Math.random();T_(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;Qn(n,(s,c)=>{c>0&&(0,F.r3)(this.statsToReport_,s)&&(e[s]=c,i=!0)}),i&&this.server_.reportStats(e),T_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var xs=(()=>{return(t=xs||(xs={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",xs;var t})();function jT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Gb{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=xs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Ot(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new en(n));return new Gb(zt(),e,this.revert)}}return(0,F.hu)(Rt(this.path)===n,"operationForChild called for unrelated child."),new Gb(pn(this.path),this.affectedTree,this.revert)}}class x_{constructor(n,e){this.source=n,this.path=e,this.type=xs.LISTEN_COMPLETE}operationForChild(n){return Ot(this.path)?new x_(this.source,zt()):new x_(this.source,pn(this.path))}}class Ph{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=xs.OVERWRITE}operationForChild(n){return Ot(this.path)?new Ph(this.source,zt(),this.snap.getImmediateChild(n)):new Ph(this.source,pn(this.path),this.snap)}}class Yp{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=xs.MERGE}operationForChild(n){if(Ot(this.path)){const e=this.children.subtree(new en(n));return e.isEmpty()?null:e.value?new Ph(this.source,zt(),e.value):new Yp(this.source,zt(),e)}return(0,F.hu)(Rt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Yp(this.source,pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sd{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ot(n))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class VO{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function k_(t,n,e,i,s,c){const f=i.filter(m=>m.type===e);f.sort((m,D)=>function HO(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Pt(n.childName,n.snapshotNode),s=new Pt(e.childName,e.snapshotNode);return t.index_.compare(i,s)}(t,m,D)),f.forEach(m=>{const D=function UO(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,m,c);s.forEach(T=>{T.respondsTo(m.type)&&n.push(T.createEvent(D,t.query_))})})}function Wb(t,n){return{eventCache:t,serverCache:n}}function F_(t,n,e,i){return Wb(new sd(n,e,i),t.serverCache)}function YN(t,n,e,i){return Wb(t.eventCache,new sd(n,e,i))}function zb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let $T;class En{constructor(n,e=(()=>($T||($T=new bo(w_)),$T))()){this.value=n,this.children=e}static fromObject(n){let e=new En(null);return Qn(n,(i,s)=>{e=e.set(new en(i),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:zt(),value:this.value};if(Ot(n))return null;{const i=Rt(n),s=this.children.get(i);if(null!==s){const c=s.findRootMostMatchingPathAndValue(pn(n),e);return null!=c?{path:Vn(new en(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ot(n))return this;{const e=Rt(n),i=this.children.get(e);return null!==i?i.subtree(pn(n)):new En(null)}}set(n,e){if(Ot(n))return new En(e,this.children);{const i=Rt(n),c=(this.children.get(i)||new En(null)).set(pn(n),e),f=this.children.insert(i,c);return new En(this.value,f)}}remove(n){if(Ot(n))return this.children.isEmpty()?new En(null):new En(null,this.children);{const e=Rt(n),i=this.children.get(e);if(i){const s=i.remove(pn(n));let c;return c=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&c.isEmpty()?new En(null):new En(this.value,c)}return this}}get(n){if(Ot(n))return this.value;{const e=Rt(n),i=this.children.get(e);return i?i.get(pn(n)):null}}setTree(n,e){if(Ot(n))return e;{const i=Rt(n),c=(this.children.get(i)||new En(null)).setTree(pn(n),e);let f;return f=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new En(this.value,f)}}fold(n){return this.fold_(zt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((s,c)=>{i[s]=c.fold_(Vn(n,s),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,zt(),e)}findOnPath_(n,e,i){const s=!!this.value&&i(e,this.value);if(s)return s;if(Ot(n))return null;{const c=Rt(n),f=this.children.get(c);return f?f.findOnPath_(pn(n),Vn(e,c),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,zt(),e)}foreachOnPath_(n,e,i){if(Ot(n))return this;{this.value&&i(e,this.value);const s=Rt(n),c=this.children.get(s);return c?c.foreachOnPath_(pn(n),Vn(e,s),i):new En(null)}}foreach(n){this.foreach_(zt(),n)}foreach_(n,e){this.children.inorderTraversal((i,s)=>{s.foreach_(Vn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class wa{constructor(n){this.writeTree_=n}static empty(){return new wa(new En(null))}}function L_(t,n,e){if(Ot(n))return new wa(new En(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const s=i.path;let c=i.value;const f=Hr(s,n);return c=c.updateChild(f,e),new wa(t.writeTree_.set(s,c))}{const s=new En(e),c=t.writeTree_.setTree(n,s);return new wa(c)}}}function GT(t,n,e){let i=t;return Qn(e,(s,c)=>{i=L_(i,Vn(n,s),c)}),i}function qN(t,n){if(Ot(n))return wa.empty();{const e=t.writeTree_.setTree(n,new En(null));return new wa(e)}}function WT(t,n){return null!=kh(t,n)}function kh(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Hr(e.path,n)):null}function JN(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(wn,(i,s)=>{n.push(new Pt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{null!=s.value&&n.push(new Pt(i,s.value))}),n}function ad(t,n){if(Ot(n))return t;{const e=kh(t,n);return new wa(null!=e?new En(e):t.writeTree_.subtree(n))}}function zT(t){return t.writeTree_.isEmpty()}function qp(t,n){return QN(zt(),t.writeTree_,n)}function QN(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((s,c)=>{".priority"===s?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=QN(Vn(t,s),c,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(Vn(t,".priority"),i)),e}}function Kb(t,n){return iA(n,t)}function KO(t,n){if(t.snap)return Ps(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&Ps(Vn(t.path,e),n))return!0;return!1}function YO(t){return t.visible}function XN(t,n,e){let i=wa.empty();for(let s=0;s<t.length;++s){const c=t[s];if(n(c)){const f=c.path;let m;if(c.snap)Ps(e,f)?(m=Hr(e,f),i=L_(i,m,c.snap)):Ps(f,e)&&(m=Hr(f,e),i=L_(i,zt(),c.snap.getChild(m)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Ps(e,f))m=Hr(e,f),i=GT(i,m,c.children);else if(Ps(f,e))if(m=Hr(f,e),Ot(m))i=GT(i,zt(),c.children);else{const D=(0,F.DV)(c.children,Rt(m));if(D){const T=D.getChild(pn(m));i=L_(i,zt(),T)}}}}}return i}function eA(t,n,e,i,s){if(i||s){const c=ad(t.visibleWrites,n);return!s&&zT(c)?e:s||null!=e||WT(c,zt())?qp(XN(t.allWrites,function(T){return(T.visible||s)&&(!i||!~i.indexOf(T.writeId))&&(Ps(T.path,n)||Ps(n,T.path))},n),e||Dt.EMPTY_NODE):null}{const c=kh(t.visibleWrites,n);if(null!=c)return c;{const f=ad(t.visibleWrites,n);return zT(f)?e:null!=e||WT(f,zt())?qp(f,e||Dt.EMPTY_NODE):null}}}function Zb(t,n,e,i){return eA(t.writeTree,t.treePath,n,e,i)}function KT(t,n){return function qO(t,n,e){let i=Dt.EMPTY_NODE;const s=kh(t.visibleWrites,n);if(s)return s.isLeafNode()||s.forEachChild(wn,(c,f)=>{i=i.updateImmediateChild(c,f)}),i;if(e){const c=ad(t.visibleWrites,n);return e.forEachChild(wn,(f,m)=>{const D=qp(ad(c,new en(f)),m);i=i.updateImmediateChild(f,D)}),JN(c).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return JN(ad(t.visibleWrites,n)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(t.writeTree,t.treePath,n)}function tA(t,n,e,i){return function JO(t,n,e,i,s){(0,F.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const c=Vn(n,e);if(WT(t.visibleWrites,c))return null;{const f=ad(t.visibleWrites,c);return zT(f)?s.getChild(e):qp(f,s.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function Yb(t,n){return function XO(t,n){return kh(t.visibleWrites,n)}(t.writeTree,Vn(t.treePath,n))}function ZT(t,n,e){return function QO(t,n,e,i){const s=Vn(n,e),c=kh(t.visibleWrites,s);return null!=c?c:i.isCompleteForChild(e)?qp(ad(t.visibleWrites,s),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function nA(t,n){return iA(Vn(t.treePath,n),t.writeTree)}function iA(t,n){return{treePath:t,writeTree:n}}class iP{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const c=s.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,O_(i,n.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,R_(i,s.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,Kp(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+s);this.changeMap.set(i,O_(i,n.snapshotNode,s.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const rA=new class rP{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class YT{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new sd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ZT(this.writes_,n,i)}}getChildAfterChild(n,e,i){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xh(this.viewCache_),c=function nP(t,n,e,i,s,c){return function eP(t,n,e,i,s,c,f){let m;const D=ad(t.visibleWrites,n),T=kh(D,zt());if(null!=T)m=T;else{if(null==e)return[];m=qp(D,e)}if(m=m.withIndex(f),m.isEmpty()||m.isLeafNode())return[];{const M=[],O=f.getCompare(),V=c?m.getReverseIteratorFrom(i,f):m.getIteratorFrom(i,f);let Q=V.getNext();for(;Q&&M.length<s;)0!==O(Q,i)&&M.push(Q),Q=V.getNext();return M}}(t.writeTree,t.treePath,n,e,i,s,c)}(this.writes_,s,e,1,i,n);return 0===c.length?null:c[0]}}function oA(t,n,e,i,s,c){const f=n.eventCache;if(null!=Yb(i,e))return n;{let m,D;if(Ot(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const T=xh(n),O=KT(i,T instanceof Dt?T:Dt.EMPTY_NODE);m=t.filter.updateFullNode(n.eventCache.getNode(),O,c)}else{const T=Zb(i,xh(n));m=t.filter.updateFullNode(n.eventCache.getNode(),T,c)}else{const T=Rt(e);if(".priority"===T){(0,F.hu)(1===od(e),"Can't have a priority with additional path components");const M=f.getNode();D=n.serverCache.getNode();const O=tA(i,e,M,D);m=null!=O?t.filter.updatePriority(M,O):f.getNode()}else{const M=pn(e);let O;if(f.isCompleteForChild(T)){D=n.serverCache.getNode();const V=tA(i,e,f.getNode(),D);O=null!=V?f.getNode().getImmediateChild(T).updateChild(M,V):f.getNode().getImmediateChild(T)}else O=ZT(i,T,n.serverCache);m=null!=O?t.filter.updateChild(f.getNode(),T,O,M,s,c):f.getNode()}}return F_(n,m,f.isFullyInitialized()||Ot(e),t.filter.filtersNodes())}}function qb(t,n,e,i,s,c,f,m){const D=n.serverCache;let T;const M=f?t.filter:t.filter.getIndexedFilter();if(Ot(e))T=M.updateFullNode(D.getNode(),i,null);else if(M.filtersNodes()&&!D.isFiltered()){const Q=D.getNode().updateChild(e,i);T=M.updateFullNode(D.getNode(),Q,null)}else{const Q=Rt(e);if(!D.isCompleteForPath(e)&&od(e)>1)return n;const ye=pn(e),Fe=D.getNode().getImmediateChild(Q).updateChild(ye,i);T=".priority"===Q?M.updatePriority(D.getNode(),Fe):M.updateChild(D.getNode(),Q,Fe,ye,rA,null)}const O=YN(n,T,D.isFullyInitialized()||Ot(e),M.filtersNodes());return oA(t,O,e,s,new YT(s,O,c),m)}function qT(t,n,e,i,s,c,f){const m=n.eventCache;let D,T;const M=new YT(s,n,c);if(Ot(e))T=t.filter.updateFullNode(n.eventCache.getNode(),i,f),D=F_(n,T,!0,t.filter.filtersNodes());else{const O=Rt(e);if(".priority"===O)T=t.filter.updatePriority(n.eventCache.getNode(),i),D=F_(n,T,m.isFullyInitialized(),m.isFiltered());else{const V=pn(e),Q=m.getNode().getImmediateChild(O);let ye;if(Ot(V))ye=i;else{const Ne=M.getCompleteChild(O);ye=null!=Ne?".priority"===IT(V)&&Ne.getChild(RN(V)).isEmpty()?Ne:Ne.updateChild(V,i):Dt.EMPTY_NODE}D=Q.equals(ye)?n:F_(n,t.filter.updateChild(m.getNode(),O,ye,V,M,f),m.isFullyInitialized(),t.filter.filtersNodes())}}return D}function sA(t,n){return t.eventCache.isCompleteForChild(n)}function aA(t,n,e){return e.foreach((i,s)=>{n=n.updateChild(i,s)}),n}function JT(t,n,e,i,s,c,f,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let T,D=n;T=Ot(e)?i:new En(null).setTree(e,i);const M=n.serverCache.getNode();return T.children.inorderTraversal((O,V)=>{if(M.hasChild(O)){const ye=aA(0,n.serverCache.getNode().getImmediateChild(O),V);D=qb(t,D,new en(O),ye,s,c,f,m)}}),T.children.inorderTraversal((O,V)=>{const Q=!n.serverCache.isCompleteForChild(O)&&null===V.value;if(!M.hasChild(O)&&!Q){const Ne=aA(0,n.serverCache.getNode().getImmediateChild(O),V);D=qb(t,D,new en(O),Ne,s,c,f,m)}}),D}class fP{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new kT(i.getIndex()),c=function SO(t){return t.loadsAllData()?new kT(t.getIndex()):t.hasLimit()?new IO(t):new P_(t)}(i);this.processor_=function oP(t){return{filter:t}}(c);const f=e.serverCache,m=e.eventCache,D=s.updateFullNode(Dt.EMPTY_NODE,f.getNode(),null),T=c.updateFullNode(Dt.EMPTY_NODE,m.getNode(),null),M=new sd(D,f.isFullyInitialized(),s.filtersNodes()),O=new sd(T,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=Wb(O,M),this.eventGenerator_=new VO(this.query_)}get query(){return this.query_}}function mP(t,n){const e=xh(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!Ot(n)&&!e.getImmediateChild(Rt(n)).isEmpty())?e.getChild(n):null}function lA(t){return 0===t.eventRegistrations_.length}function cA(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(e,s);f&&i.push(f)})}if(n){let s=[];for(let c=0;c<t.eventRegistrations_.length;++c){const f=t.eventRegistrations_[c];if(f.matches(n)){if(n.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(c+1));break}}else s.push(f)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function uA(t,n,e,i){n.type===xs.MERGE&&null!==n.source.queryId&&((0,F.hu)(xh(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(zb(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,c=function aP(t,n,e,i,s){const c=new iP;let f,m;if(e.type===xs.OVERWRITE){const T=e;T.source.fromUser?f=qT(t,n,T.path,T.snap,i,s,c):((0,F.hu)(T.source.fromServer,"Unknown source."),m=T.source.tagged||n.serverCache.isFiltered()&&!Ot(T.path),f=qb(t,n,T.path,T.snap,i,s,m,c))}else if(e.type===xs.MERGE){const T=e;T.source.fromUser?f=function cP(t,n,e,i,s,c,f){let m=n;return i.foreach((D,T)=>{const M=Vn(e,D);sA(n,Rt(M))&&(m=qT(t,m,M,T,s,c,f))}),i.foreach((D,T)=>{const M=Vn(e,D);sA(n,Rt(M))||(m=qT(t,m,M,T,s,c,f))}),m}(t,n,T.path,T.children,i,s,c):((0,F.hu)(T.source.fromServer,"Unknown source."),m=T.source.tagged||n.serverCache.isFiltered(),f=JT(t,n,T.path,T.children,i,s,m,c))}else if(e.type===xs.ACK_USER_WRITE){const T=e;f=T.revert?function hP(t,n,e,i,s,c){let f;if(null!=Yb(i,e))return n;{const m=new YT(i,n,s),D=n.eventCache.getNode();let T;if(Ot(e)||".priority"===Rt(e)){let M;if(n.serverCache.isFullyInitialized())M=Zb(i,xh(n));else{const O=n.serverCache.getNode();(0,F.hu)(O instanceof Dt,"serverChildren would be complete if leaf node"),M=KT(i,O)}T=t.filter.updateFullNode(D,M,c)}else{const M=Rt(e);let O=ZT(i,M,n.serverCache);null==O&&n.serverCache.isCompleteForChild(M)&&(O=D.getImmediateChild(M)),T=null!=O?t.filter.updateChild(D,M,O,pn(e),m,c):n.eventCache.getNode().hasChild(M)?t.filter.updateChild(D,M,Dt.EMPTY_NODE,pn(e),m,c):D,T.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=Zb(i,xh(n)),f.isLeafNode()&&(T=t.filter.updateFullNode(T,f,c)))}return f=n.serverCache.isFullyInitialized()||null!=Yb(i,zt()),F_(n,T,f,t.filter.filtersNodes())}}(t,n,T.path,i,s,c):function uP(t,n,e,i,s,c,f){if(null!=Yb(s,e))return n;const m=n.serverCache.isFiltered(),D=n.serverCache;if(null!=i.value){if(Ot(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return qb(t,n,e,D.getNode().getChild(e),s,c,m,f);if(Ot(e)){let T=new En(null);return D.getNode().forEachChild(wl,(M,O)=>{T=T.set(new en(M),O)}),JT(t,n,e,T,s,c,m,f)}return n}{let T=new En(null);return i.foreach((M,O)=>{const V=Vn(e,M);D.isCompleteForPath(V)&&(T=T.set(M,D.getNode().getChild(V)))}),JT(t,n,e,T,s,c,m,f)}}(t,n,T.path,T.affectedTree,i,s,c)}else{if(e.type!==xs.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);f=function dP(t,n,e,i,s){const c=n.serverCache;return oA(t,YN(n,c.getNode(),c.isFullyInitialized()||Ot(e),c.isFiltered()),e,i,rA,s)}(t,n,e.path,i,c)}const D=c.getChanges();return function lP(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=zb(t);(e.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(WN(zb(n)))}}(n,f,D),{viewCache:f,changes:D}}(t.processor_,s,n,e,i);return function sP(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,dA(t,c.changes,c.viewCache.eventCache.getNode(),null)}function dA(t,n,e,i){return function BO(t,n,e,i){const s=[],c=[];return n.forEach(f=>{"child_changed"===f.type&&t.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function TO(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(f.childName,f.snapshotNode))}),k_(t,s,"child_removed",n,i,e),k_(t,s,"child_added",n,i,e),k_(t,s,"child_moved",c,i,e),k_(t,s,"child_changed",n,i,e),k_(t,s,"value",n,i,e),s}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let Jb,Xb;class hA{constructor(){this.views=new Map}}function QT(t,n,e,i){const s=n.source.queryId;if(null!==s){const c=t.views.get(s);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),uA(c,n,e,i)}{let c=[];for(const f of t.views.values())c=c.concat(uA(f,n,e,i));return c}}function fA(t,n,e,i,s){const f=t.views.get(n._queryIdentifier);if(!f){let m=Zb(e,s?i:null),D=!1;m?D=!0:i instanceof Dt?(m=KT(e,i),D=!1):(m=Dt.EMPTY_NODE,D=!1);const T=Wb(new sd(m,D,!1),new sd(i,s,!1));return new fP(n,T)}return f}function pA(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function ld(t,n){let e=null;for(const i of t.views.values())e=e||mP(i,n);return e}function gA(t,n){return n._queryParams.loadsAllData()?Qb(t):t.views.get(n._queryIdentifier)}function mA(t,n){return null!=gA(t,n)}function cd(t){return null!=Qb(t)}function Qb(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let IP=1;class _A{constructor(n){this.listenProvider_=n,this.syncPointTree_=new En(null),this.pendingWriteTree_=function tP(){return{visibleWrites:wa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function XT(t,n,e,i,s){return function $O(t,n,e,i,s){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:s}),s&&(t.visibleWrites=L_(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,s),s?Jp(t,new Ph({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function ud(t,n,e=!1){const i=function WO(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function zO(t,n){const e=t.allWrites.findIndex(m=>m.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let s=i.visible,c=!1,f=t.allWrites.length-1;for(;s&&f>=0;){const m=t.allWrites[f];m.visible&&(f>=e&&KO(m,i.path)?s=!1:Ps(i.path,m.path)&&(c=!0)),f--}return!!s&&(c?(function ZO(t){t.visibleWrites=XN(t.allWrites,YO,zt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=qN(t.visibleWrites,i.path):Qn(i.children,D=>{t.visibleWrites=qN(t.visibleWrites,Vn(i.path,D))}),!0))}(t.pendingWriteTree_,n)){let c=new En(null);return null!=i.snap?c=c.set(zt(),!0):Qn(i.children,f=>{c=c.set(new en(f),!0)}),Jp(t,new Gb(i.path,c,e))}return[]}function V_(t,n,e){return Jp(t,new Ph({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function eD(t,n,e,i,s=!1){const c=n._path,f=t.syncPointTree_.get(c);let m=[];if(f&&("default"===n._queryIdentifier||mA(f,n))){const D=function wP(t,n,e,i){const s=n._queryIdentifier,c=[];let f=[];const m=cd(t);if("default"===s)for(const[D,T]of t.views.entries())f=f.concat(cA(T,e,i)),lA(T)&&(t.views.delete(D),T.query._queryParams.loadsAllData()||c.push(T.query));else{const D=t.views.get(s);D&&(f=f.concat(cA(D,e,i)),lA(D)&&(t.views.delete(s),D.query._queryParams.loadsAllData()||c.push(D.query)))}return m&&!cd(t)&&c.push(new(function bP(){return(0,F.hu)(Jb,"Reference.ts has not been loaded"),Jb}())(n._repo,n._path)),{removed:c,events:f}}(f,n,e,i);(function DP(t){return 0===t.views.size})(f)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const T=D.removed;if(m=D.events,!s){const M=-1!==T.findIndex(V=>V._queryParams.loadsAllData()),O=t.syncPointTree_.findOnPath(c,(V,Q)=>cd(Q));if(M&&!O){const V=t.syncPointTree_.subtree(c);if(!V.isEmpty()){const Q=function PP(t){return t.fold((n,e,i)=>{if(e&&cd(e))return[Qb(e)];{let s=[];return e&&(s=pA(e)),Qn(i,(c,f)=>{s=s.concat(f)}),s}})}(V);for(let ye=0;ye<Q.length;++ye){const Ne=Q[ye],Fe=Ne.query,tt=DA(t,Ne);t.listenProvider_.startListening(U_(Fe),B_(t,Fe),tt.hashFn,tt.onComplete)}}}!O&&T.length>0&&!i&&(M?t.listenProvider_.stopListening(U_(n),null):T.forEach(V=>{const Q=t.queryToTagMap.get(nD(V));t.listenProvider_.stopListening(U_(V),Q)}))}!function xP(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const s=nD(i),c=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(c)}}}(t,T)}return m}function vA(t,n,e,i){const s=t1(t,i);if(null!=s){const c=n1(s),f=c.path,m=c.queryId,D=Hr(f,n);return i1(t,f,new Ph(jT(m),D,e))}return[]}function e1(t,n,e,i=!1){const s=n._path;let c=null,f=!1;t.syncPointTree_.foreachOnPath(s,(V,Q)=>{const ye=Hr(V,s);c=c||ld(Q,ye),f=f||cd(Q)});let D,m=t.syncPointTree_.get(s);m?(f=f||cd(m),c=c||ld(m,zt())):(m=new hA,t.syncPointTree_=t.syncPointTree_.set(s,m)),null!=c?D=!0:(D=!1,c=Dt.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((Q,ye)=>{const Ne=ld(ye,zt());Ne&&(c=c.updateImmediateChild(Q,Ne))}));const T=mA(m,n);if(!T&&!n._queryParams.loadsAllData()){const V=nD(n);(0,F.hu)(!t.queryToTagMap.has(V),"View does not exist, but we have a tag");const Q=function kP(){return IP++}();t.queryToTagMap.set(V,Q),t.tagToQueryMap.set(Q,V)}let O=function CP(t,n,e,i,s,c){const f=fA(t,n,i,s,c);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,f),function _P(t,n){t.eventRegistrations_.push(n)}(f,e),function vP(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(wn,(c,f)=>{i.push(Kp(c,f))}),e.isFullyInitialized()&&i.push(WN(e.getNode())),dA(t,i,e.getNode(),n)}(f,e)}(m,n,e,Kb(t.pendingWriteTree_,s),c,D);if(!T&&!f&&!i){const V=gA(m,n);O=O.concat(function FP(t,n,e){const i=n._path,s=B_(t,n),c=DA(t,e),f=t.listenProvider_.startListening(U_(n),s,c.hashFn,c.onComplete),m=t.syncPointTree_.subtree(i);if(s)(0,F.hu)(!cd(m.value),"If we're adding a query, it shouldn't be shadowed");else{const D=m.fold((T,M,O)=>{if(!Ot(T)&&M&&cd(M))return[Qb(M).query];{let V=[];return M&&(V=V.concat(pA(M).map(Q=>Q.query))),Qn(O,(Q,ye)=>{V=V.concat(ye)}),V}});for(let T=0;T<D.length;++T){const M=D[T];t.listenProvider_.stopListening(U_(M),B_(t,M))}}return f}(t,n,V))}return O}function tD(t,n,e){const s=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(n,(f,m)=>{const T=ld(m,Hr(f,n));if(T)return T});return eA(s,n,c,e,!0)}function Jp(t,n){return yA(n,t.syncPointTree_,null,Kb(t.pendingWriteTree_,zt()))}function yA(t,n,e,i){if(Ot(t.path))return bA(t,n,e,i);{const s=n.get(zt());null==e&&null!=s&&(e=ld(s,zt()));let c=[];const f=Rt(t.path),m=t.operationForChild(f),D=n.children.get(f);if(D&&m){const T=e?e.getImmediateChild(f):null,M=nA(i,f);c=c.concat(yA(m,D,T,M))}return s&&(c=c.concat(QT(s,t,i,e))),c}}function bA(t,n,e,i){const s=n.get(zt());null==e&&null!=s&&(e=ld(s,zt()));let c=[];return n.children.inorderTraversal((f,m)=>{const D=e?e.getImmediateChild(f):null,T=nA(i,f),M=t.operationForChild(f);M&&(c=c.concat(bA(M,m,D,T)))}),s&&(c=c.concat(QT(s,t,i,e))),c}function DA(t,n){const e=n.query,i=B_(t,e);return{hashFn:()=>(function pP(t){return t.viewCache_.serverCache.getNode()}(n)||Dt.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return i?function MP(t,n,e){const i=t1(t,e);if(i){const s=n1(i),c=s.path,f=s.queryId,m=Hr(c,n);return i1(t,c,new x_(jT(f),m))}return[]}(t,e._path,i):function AP(t,n){return Jp(t,new x_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const c=function AR(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(s,e);return eD(t,e,null,c)}}}}function B_(t,n){const e=nD(n);return t.queryToTagMap.get(e)}function nD(t){return t._path.toString()+"$"+t._queryIdentifier}function t1(t,n){return t.tagToQueryMap.get(n)}function n1(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new en(t.substr(0,n))}}function i1(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),QT(i,e,Kb(t.pendingWriteTree_,n),null)}function U_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function TP(){return(0,F.hu)(Xb,"Reference.ts has not been loaded"),Xb}())(t._repo,t._path):t}class r1{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new r1(e)}node(){return this.node_}}class o1{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Vn(this.path_,n);return new o1(this.syncTree_,e)}node(){return tD(this.syncTree_,this.path_)}}const CA=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?VP(t[".sv"],n,e):"object"==typeof t[".sv"]?BP(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},VP=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},BP=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const s=n.node();if((0,F.hu)(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const f=s.getValue();return"number"!=typeof f?i:f+i},wA=function(t,n,e,i){return a1(n,new o1(e,t),i)},s1=function(t,n,e){return a1(t,new r1(n),e)};function a1(t,n,e){const i=t.getPriority().val(),s=CA(i,n.getImmediateChild(".priority"),e);let c;if(t.isLeafNode()){const f=t,m=CA(f.getValue(),n,e);return m!==f.getValue()||s!==f.getPriority().val()?new Gp(m,zn(s)):t}{const f=t;return c=f,s!==f.getPriority().val()&&(c=c.updatePriority(new Gp(s))),f.forEachChild(wn,(m,D)=>{const T=a1(D,n.getImmediateChild(m),e);T!==D&&(c=c.updateImmediateChild(m,T))}),c}}class l1{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function iD(t,n){let e=n instanceof en?n:new en(n),i=t,s=Rt(e);for(;null!==s;){const c=(0,F.DV)(i.node.children,s)||{children:{},childCount:0};i=new l1(s,i,c),e=pn(e),s=Rt(e)}return i}function Fh(t){return t.node.value}function c1(t,n){t.node.value=n,u1(t)}function EA(t){return t.node.childCount>0}function rD(t,n){Qn(t.node.children,(e,i)=>{n(new l1(e,t,i))})}function TA(t,n,e,i){e&&!i&&n(t),rD(t,s=>{TA(s,n,!0,i)}),e&&i&&n(t)}function H_(t){return new en(null===t.parent?t.name:H_(t.parent)+"/"+t.name)}function u1(t){null!==t.parent&&function jP(t,n,e){const i=function UP(t){return void 0===Fh(t)&&!EA(t)}(e),s=(0,F.r3)(t.node.children,n);i&&s?(delete t.node.children[n],t.node.childCount--,u1(t)):!i&&!s&&(t.node.children[n]=e.node,t.node.childCount++,u1(t))}(t.parent,t.name,t)}const $P=/[\[\].#$\/\u0000-\u001F\u007F]/,GP=/[\[\].#$\u0000-\u001F\u007F]/,d1=10485760,oD=function(t){return"string"==typeof t&&0!==t.length&&!$P.test(t)},IA=function(t){return"string"==typeof t&&0!==t.length&&!GP.test(t)},j_=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Ut(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},El=function(t,n,e,i){i&&void 0===n||$_((0,F.gK)(t,"value"),n,e)},$_=function(t,n,e){const i=e instanceof en?new sO(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Rh(i));if("function"==typeof n)throw new Error(t+"contains a function "+Rh(i)+" with contents = "+n.toString());if(Ut(n))throw new Error(t+"contains "+n.toString()+" "+Rh(i));if("string"==typeof n&&n.length>d1/3&&(0,F.ug)(n)>d1)throw new Error(t+"contains a string greater than "+d1+" utf8 bytes "+Rh(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let s=!1,c=!1;if(Qn(n,(f,m)=>{if(".value"===f)s=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!oD(f)))throw new Error(t+" contains an invalid key ("+f+") "+Rh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function aO(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),ON(t)})(i,f),$_(t,m,i),function lO(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),s&&c)throw new Error(t+' contains ".value" child '+Rh(i)+" in addition to actual children.")}},SA=function(t,n,e,i){if(i&&void 0===n)return;const s=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");const c=[];Qn(n,(f,m)=>{const D=new en(f);if($_(s,m,Vn(e,D)),".priority"===IT(D)&&!j_(m))throw new Error(s+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(D)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const c=S_(i);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!oD(c[f]))throw new Error(t+"contains an invalid key ("+c[f]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(oO);let s=null;for(e=0;e<n.length;e++){if(i=n[e],null!==s&&Ps(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,c)},h1=function(t,n,e){if(!e||void 0!==n){if(Ut(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!j_(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},G_=function(t,n,e,i){if(!(i&&void 0===e||oD(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},W_=function(t,n,e,i){if(!(i&&void 0===e||IA(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ks=function(t,n){if(".info"===Rt(n))throw new Error(t+" failed = Can't modify data under /.info/")},NA=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!oD(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),IA(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ZP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sD(t,n){let e=null;for(let i=0;i<n.length;i++){const s=n[i],c=s.getPath();null!==e&&!ST(c,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(s)}e&&t.eventLists_.push(e)}function AA(t,n,e){sD(t,e),MA(t,i=>ST(i,n))}function Jo(t,n,e){sD(t,e),MA(t,i=>Ps(i,n)||Ps(n,i))}function MA(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];s&&(n(s.path)?(YP(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function YP(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();G&&Te("event: "+e.toString()),jp(i)}}}const RA="repo_interrupt";class JP{constructor(n,e,i,s){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$b(),this.transactionQueueTree_=new l1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OA(t){const e=t.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function z_(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:OA(t)})}function PA(t,n,e,i,s){t.dataUpdateCount++;const c=new en(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let f=[];if(s)if(i){const D=(0,F.UI)(e,T=>zn(T));f=function RP(t,n,e,i){const s=t1(t,i);if(s){const c=n1(s),f=c.path,m=c.queryId,D=Hr(f,n),T=En.fromObject(e);return i1(t,f,new Yp(jT(m),D,T))}return[]}(t.serverSyncTree_,c,D,s)}else{const D=zn(e);f=vA(t.serverSyncTree_,c,D,s)}else if(i){const D=(0,F.UI)(e,T=>zn(T));f=function NP(t,n,e){const i=En.fromObject(e);return Jp(t,new Yp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,c,D)}else{const D=zn(e);f=V_(t.serverSyncTree_,c,D)}let m=c;f.length>0&&(m=Xp(t,c)),Jo(t.eventQueue_,m,f)}function xA(t,n){f1(t,"connected",n),!1===n&&function nx(t){Qp(t,"onDisconnectEvents");const n=z_(t),e=$b();BT(t.onDisconnect_,zt(),(s,c)=>{const f=wA(s,c,t.serverSyncTree_,n);Zp(e,s,f)});let i=[];BT(e,zt(),(s,c)=>{i=i.concat(V_(t.serverSyncTree_,s,c));const f=_1(t,s);Xp(t,f)}),t.onDisconnect_=$b(),Jo(t.eventQueue_,zt(),i)}(t)}function f1(t,n,e){const i=new en("/.info/"+n),s=zn(e);t.infoData_.updateSnapshot(i,s);const c=V_(t.infoSyncTree_,i,s);Jo(t.eventQueue_,i,c)}function aD(t){return t.nextWriteId_++}function p1(t,n,e,i,s){Qp(t,"set",{path:n.toString(),value:e,priority:i});const c=z_(t),f=zn(e,i),m=tD(t.serverSyncTree_,n),D=s1(f,m,c),T=aD(t),M=XT(t.serverSyncTree_,n,D,T,!0);sD(t.eventQueue_,M),t.server_.put(n.toString(),f.val(!0),(V,Q)=>{const ye="ok"===V;ye||ve("set at "+n+" failed: "+V);const Ne=ud(t.serverSyncTree_,T,!ye);Jo(t.eventQueue_,n,Ne),dd(0,s,V,Q)});const O=_1(t,n);Xp(t,O),Jo(t.eventQueue_,O,[])}function ix(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,s)=>{"ok"===i&&VT(t.onDisconnect_,n),dd(0,e,i,s)})}function kA(t,n,e,i){const s=zn(e);t.server_.onDisconnectPut(n.toString(),s.val(!0),(c,f)=>{"ok"===c&&Zp(t.onDisconnect_,n,s),dd(0,i,c,f)})}function g1(t,n,e){let i;i=".info"===Rt(n._path)?eD(t.infoSyncTree_,n,e):eD(t.serverSyncTree_,n,e),AA(t.eventQueue_,n._path,i)}function FA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(RA)}function Qp(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Te(e,...n)}function dd(t,n,e,i){n&&jp(()=>{if("ok"===e)n(null);else{const s=(e||"error").toUpperCase();let c=s;i&&(c+=": "+i);const f=new Error(c);f.code=s,n(f)}})}function m1(t,n,e){return tD(t.serverSyncTree_,n,e)||Dt.EMPTY_NODE}function lD(t,n=t.transactionQueueTree_){if(n||cD(t,n),Fh(n)){const e=VA(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function cx(t,n,e){const i=e.map(T=>T.currentWriteId),s=m1(t,n,i);let c=s;const f=s.hash();for(let T=0;T<e.length;T++){const M=e[T];(0,F.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const O=Hr(n,M.path);c=c.updateChild(O,M.currentOutputSnapshotRaw)}const m=c.val(!0),D=n;t.server_.put(D.toString(),m,T=>{Qp(t,"transaction put response",{path:D.toString(),status:T});let M=[];if("ok"===T){const O=[];for(let V=0;V<e.length;V++)e[V].status=2,M=M.concat(ud(t.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&O.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();cD(t,iD(t.transactionQueueTree_,n)),lD(t,t.transactionQueueTree_),Jo(t.eventQueue_,n,M);for(let V=0;V<O.length;V++)jp(O[V])}else{if("datastale"===T)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{ve("transaction at "+D.toString()+" failed: "+T);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=T}Xp(t,n)}},f)}(t,H_(n),e)}else EA(n)&&rD(n,e=>{lD(t,e)})}function Xp(t,n){const e=LA(t,n),i=H_(e);return function ux(t,n,e){if(0===n.length)return;const i=[];let s=[];const f=n.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const D=n[m],T=Hr(e,D.path);let O,M=!1;if((0,F.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)M=!0,O=D.abortReason,s=s.concat(ud(t.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)M=!0,O="maxretry",s=s.concat(ud(t.serverSyncTree_,D.currentWriteId,!0));else{const V=m1(t,D.path,f);D.currentInputSnapshot=V;const Q=n[m].update(V.val());if(void 0!==Q){$_("transaction failed: Data returned ",Q,D.path);let ye=zn(Q);"object"==typeof Q&&null!=Q&&(0,F.r3)(Q,".priority")||(ye=ye.updatePriority(V.getPriority()));const Fe=D.currentWriteId,tt=z_(t),Ye=s1(ye,V,tt);D.currentOutputSnapshotRaw=ye,D.currentOutputSnapshotResolved=Ye,D.currentWriteId=aD(t),f.splice(f.indexOf(Fe),1),s=s.concat(XT(t.serverSyncTree_,D.path,Ye,D.currentWriteId,D.applyLocally)),s=s.concat(ud(t.serverSyncTree_,Fe,!0))}else M=!0,O="nodata",s=s.concat(ud(t.serverSyncTree_,D.currentWriteId,!0))}Jo(t.eventQueue_,e,s),s=[],M&&(n[m].status=2,setTimeout(n[m].unwatcher,Math.floor(0)),n[m].onComplete&&i.push("nodata"===O?()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot):()=>n[m].onComplete(new Error(O),!1,null)))}cD(t,t.transactionQueueTree_);for(let m=0;m<i.length;m++)jp(i[m]);lD(t,t.transactionQueueTree_)}(t,VA(t,e),i),i}function LA(t,n){let e,i=t.transactionQueueTree_;for(e=Rt(n);null!==e&&void 0===Fh(i);)i=iD(i,e),e=Rt(n=pn(n));return i}function VA(t,n){const e=[];return BA(t,n,e),e.sort((i,s)=>i.order-s.order),e}function BA(t,n,e){const i=Fh(n);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);rD(n,s=>{BA(t,s,e)})}function cD(t,n){const e=Fh(n);if(e){let i=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[i]=e[s],i++);e.length=i,c1(n,e.length>0?e:void 0)}rD(n,i=>{cD(t,i)})}function _1(t,n){const e=H_(LA(t,n)),i=iD(t.transactionQueueTree_,n);return function HP(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,s=>{v1(t,s)}),v1(t,i),TA(i,s=>{v1(t,s)}),e}function v1(t,n){const e=Fh(n);if(e){const i=[];let s=[],c=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,F.hu)(c===f-1,"All SENT items should be at beginning of queue."),c=f,e[f].status=3,e[f].abortReason="set"):((0,F.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),s=s.concat(ud(t.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&i.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?c1(n,void 0):e.length=c+1,Jo(t.eventQueue_,H_(n),s);for(let f=0;f<i.length;f++)jp(i[f])}}const y1=function(t,n){const e=fx(t),i=e.namespace;return"firebase.com"===e.domain&&Je(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Je("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new bT(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new en(e.pathString)}},fx=function(t){let n="",e="",i="",s="",c="",f=!0,m="https",D=443;if("string"==typeof t){let T=t.indexOf("//");T>=0&&(m=t.substring(0,T-1),t=t.substring(T+2));let M=t.indexOf("/");-1===M&&(M=t.length);let O=t.indexOf("?");-1===O&&(O=t.length),n=t.substring(0,Math.min(M,O)),M<O&&(s=function dx(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}n+="/"+s}return n}(t.substring(M,O)));const V=function hx(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ve(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,O)));T=n.indexOf(":"),T>=0?(f="https"===m||"wss"===m,D=parseInt(n.substring(T+1),10)):T=n.length;const Q=n.slice(0,T);if("localhost"===Q.toLowerCase())e="localhost";else if(Q.split(".").length<=2)e=Q;else{const ye=n.indexOf(".");i=n.substring(0,ye).toLowerCase(),e=n.substring(ye+1),c=i}"ns"in V&&(c=V.ns)}return{host:n,port:D,domain:e,subdomain:i,secure:f,scheme:m,pathString:s,namespace:c}};class UA{constructor(n,e,i,s){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class HA{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class b1{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class jA{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return ix(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ks("OnDisconnect.remove",this._path);const n=new F.BH;return kA(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ks("OnDisconnect.set",this._path),El("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return kA(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){ks("OnDisconnect.setWithPriority",this._path),El("OnDisconnect.setWithPriority",n,this._path,!1),h1("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function rx(t,n,e,i,s){const c=zn(e,i);t.server_.onDisconnectPut(n.toString(),c.val(!0),(f,m)=>{"ok"===f&&Zp(t.onDisconnect_,n,c),dd(0,s,f,m)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){ks("OnDisconnect.update",this._path),SA("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function ox(t,n,e,i){if((0,F.xb)(e))return Te("onDisconnect().update() called with empty data.  Don't do anything."),void dd(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(s,c)=>{"ok"===s&&Qn(e,(f,m)=>{const D=zn(m);Zp(t.onDisconnect_,Vn(n,f),D)}),dd(0,i,s,c)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Do{constructor(n,e,i,s){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return Ot(this._path)?null:IT(this._path)}get ref(){return new Fs(this._repo,this._path)}get _queryIdentifier(){const n=KN(this._queryParams),e=Mh(n);return"{}"===e?"default":e}get _queryObject(){return KN(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof Do))return!1;const e=this._repo===n._repo,i=ST(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rO(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function uD(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function hd(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===wl){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==er)throw new Error(i);if("string"!=typeof n)throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==yo)throw new Error(i);if("string"!=typeof e)throw new Error(s)}}else if(t.getIndex()===wn){if(null!=n&&!j_(n)||null!=e&&!j_(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof OT||t.getIndex()===PT,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dD(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fs extends Do{constructor(n,e){super(n,e,new Ub,!1)}get parent(){const n=RN(this._path);return null===n?null:new Fs(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Lh{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new en(n),i=Vh(this.ref,n);return new Lh(this._node.getChild(e),i,wn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,s)=>n(new Lh(s,Vh(this.ref,i),wn)))}hasChild(n){const e=new en(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $A(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?Vh(t._root,n):t._root}function GA(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=y1(n,t._repo.repoInfo_.nodeAdmin);NA("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&Je("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),$A(t,e.path.toString())}function Vh(t,n){return null===Rt((t=(0,F.m9)(t))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),W_("child","path",e,!1)):W_("child","path",n,!1),new Fs(t._repo,Vn(t._path,n));var e}function D1(t,n){t=(0,F.m9)(t),ks("set",t._path),El("set",n,t._path,!1);const e=new F.BH;return p1(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function vx(t,n){SA("update",n,t._path,!1);const e=new F.BH;return function tx(t,n,e,i){Qp(t,"update",{path:n.toString(),value:e});let s=!0;const c=z_(t),f={};if(Qn(e,(m,D)=>{s=!1,f[m]=wA(Vn(n,m),zn(D),t.serverSyncTree_,c)}),s)Te("update() called with empty data.  Don't do anything."),dd(0,i,"ok",void 0);else{const m=aD(t),D=function SP(t,n,e,i){!function GO(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=GT(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const s=En.fromObject(e);return Jp(t,new Yp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,s))}(t.serverSyncTree_,n,f,m);sD(t.eventQueue_,D),t.server_.merge(n.toString(),e,(T,M)=>{const O="ok"===T;O||ve("update at "+n+" failed: "+T);const V=ud(t.serverSyncTree_,m,!O),Q=V.length>0?Xp(t,n):n;Jo(t.eventQueue_,Q,V),dd(0,i,T,M)}),Qn(e,T=>{const M=_1(t,Vn(n,T));Xp(t,M)}),Jo(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function yx(t){t=(0,F.m9)(t);const n=new b1(()=>{}),e=new K_(n);return function ex(t,n,e){const i=function OP(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(T,M)=>{const O=Hr(T,e);i=i||ld(M,O)});let s=t.syncPointTree_.get(e);s?i=i||ld(s,zt()):(s=new hA,t.syncPointTree_=t.syncPointTree_.set(e,s));const c=null!=i,f=c?new sd(i,!0,!1):null;return function gP(t){return zb(t.viewCache_)}(fA(s,n,Kb(t.pendingWriteTree_,n._path),c?f.getNode():Dt.EMPTY_NODE,c))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(s=>{const c=zn(s).withIndex(n._queryParams.getIndex());let f;if(e1(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())f=V_(t.serverSyncTree_,n._path,c);else{const m=B_(t.serverSyncTree_,n);f=vA(t.serverSyncTree_,n._path,c,m)}return Jo(t.eventQueue_,n._path,f),eD(t.serverSyncTree_,n,e,null,!0),c},s=>(Qp(t,"get for query "+(0,F.Pz)(n)+" failed: "+s),Promise.reject(new Error(s))))}(t._repo,t,e).then(i=>new Lh(i,new Fs(t._repo,t._path),t._queryParams.getIndex()))}class K_{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new UA("value",this,new Lh(n.snapshotNode,new Fs(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new HA(this,n,e):null}matches(n){return n instanceof K_&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class hD{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new HA(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=Vh(new Fs(e._repo,e._path),n.childName),s=e._queryParams.getIndex();return new UA(n.type,this,new Lh(n.snapshotNode,i,s),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof hD&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Z_(t,n,e,i,s){let c;if("object"==typeof i&&(c=void 0,s=i),"function"==typeof i&&(c=i),s&&s.onlyOnce){const D=e,T=(M,O)=>{g1(t._repo,t,m),D(M,O)};T.userCallback=e.userCallback,T.context=e.context,e=T}const f=new b1(e,c||void 0),m="value"===n?new K_(f):new hD(n,f);return function sx(t,n,e){let i;i=".info"===Rt(n._path)?e1(t.infoSyncTree_,n,e):e1(t.serverSyncTree_,n,e),AA(t.eventQueue_,n._path,i)}(t._repo,t,m),()=>g1(t._repo,t,m)}function C1(t,n,e,i){return Z_(t,"value",n,e,i)}function WA(t,n,e,i){return Z_(t,"child_added",n,e,i)}function zA(t,n,e,i){return Z_(t,"child_changed",n,e,i)}function KA(t,n,e,i){return Z_(t,"child_moved",n,e,i)}function ZA(t,n,e,i){return Z_(t,"child_removed",n,e,i)}function YA(t,n,e){let i=null;const s=e?new b1(e):null;"value"===n?i=new K_(s):n&&(i=new hD(n,s)),g1(t._repo,t,i)}class Ea{}class qA extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){El("endAt",this._value,n._path,!0);const e=LT(n._queryParams,this._value,this._key);if(dD(e),hd(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Do(n._repo,n._path,e,n._orderByCalled)}}class Dx extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){El("endBefore",this._value,n._path,!1);const e=function RO(t,n,e){let i,s;return t.index_===wl?("string"==typeof n&&(n=GN(n)),s=LT(t,n,e)):(i=null==e?er:GN(e),s=LT(t,n,i)),s.endBeforeSet_=!0,s}(n._queryParams,this._value,this._key);if(dD(e),hd(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Do(n._repo,n._path,e,n._orderByCalled)}}class JA extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){El("startAt",this._value,n._path,!0);const e=FT(n._queryParams,this._value,this._key);if(dD(e),hd(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Do(n._repo,n._path,e,n._orderByCalled)}}class Ex extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){El("startAfter",this._value,n._path,!1);const e=function MO(t,n,e){let i;if(t.index_===wl)"string"==typeof n&&(n=$N(n)),i=FT(t,n,e);else{let s;s=null==e?yo:$N(e),i=FT(t,n,s)}return i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(dD(e),hd(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Do(n._repo,n._path,e,n._orderByCalled)}}class Ix extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Do(n._repo,n._path,function NO(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class Nx extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Do(n._repo,n._path,function AO(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Mx extends Ea{constructor(n){super(),this._path=n}_apply(n){uD(n,"orderByChild");const e=new en(this._path);if(Ot(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new OT(e),s=Hb(n._queryParams,i);return hd(s),new Do(n._repo,n._path,s,!0)}}class Ox extends Ea{_apply(n){uD(n,"orderByKey");const e=Hb(n._queryParams,wl);return hd(e),new Do(n._repo,n._path,e,!0)}}class xx extends Ea{_apply(n){uD(n,"orderByPriority");const e=Hb(n._queryParams,wn);return hd(e),new Do(n._repo,n._path,e,!0)}}class Fx extends Ea{_apply(n){uD(n,"orderByValue");const e=Hb(n._queryParams,PT);return hd(e),new Do(n._repo,n._path,e,!0)}}class Vx extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(El("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qA(this._value,this._key)._apply(new JA(this._value,this._key)._apply(n))}}function Ta(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function yP(t){(0,F.hu)(!Jb,"__referenceConstructor has already been defined"),Jb=t})(Fs),function EP(t){(0,F.hu)(!Xb,"__referenceConstructor has already been defined"),Xb=t}(Fs);const w1={};function XA(t,n,e,i,s){let c=i||t.options.databaseURL;void 0===c&&(t.options.projectId||Je("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let D,T,f=y1(c,s),m=f.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(D=!0,c=`http://${T}?ns=${m.namespace}`,f=y1(c,s),m=f.repoInfo):D=!f.repoInfo.secure;const M=s&&D?new I_(I_.OWNER):new PR(t.name,t.options,n);NA("Invalid Firebase Database URL",f),Ot(f.path)||Je("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function $x(t,n,e,i){let s=w1[n.name];s||(s={},w1[n.name]=s);let c=s[t.toURLString()];return c&&Je("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new JP(t,false,e,i),s[t.toURLString()]=c,c}(m,t,M,new OR(t.name,e));return new Wx(O,t)}class Wx{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function QP(t,n,e){if(t.stats_=wT(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new jb(t.repoInfo_,(i,s,c,f)=>{PA(t,i,s,c,f)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xA(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Oh(t.repoInfo_,n,(i,s,c,f)=>{PA(t,i,s,c,f)},i=>{xA(t,i)},i=>{!function XP(t,n){Qn(n,(e,i)=>{f1(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function FR(t,n){const e=t.toString();return CT[e]||(CT[e]=n()),CT[e]}(t.repoInfo_,()=>new LO(t.stats_,t.server_)),t.infoData_=new OO,t.infoSyncTree_=new _A({startListening:(i,s,c,f)=>{let m=[];const D=t.infoData_.getNode(i._path);return D.isEmpty()||(m=V_(t.infoSyncTree_,i._path,D),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),f1(t,"connected",!1),t.serverSyncTree_=new _A({startListening:(i,s,c,f)=>(t.server_.listen(i,c,s,(m,D)=>{const T=f(m,D);Jo(t.eventQueue_,i._path,T)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fs(this._repo,zt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function jx(t,n){const e=w1[n];(!e||e[t.key]!==t)&&Je(`Database ${n}(${t.repoInfo_}) has already been deleted.`),FA(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Je("Cannot call "+n+" on a deleted database.")}}function eM(){yN.IS_TRANSPORT_INITIALIZED&&ve("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zx(){eM(),rd.forceDisallow()}function Kx(){eM(),$p.forceDisallow(),rd.forceAllow()}function Jx(t,n){me(t,n)}const Xx={".sv":"timestamp"};class nk{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Oh.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Oh.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function Qx(t){a(id.SDK_VERSION),(0,id._registerComponent)(new td.wA("database",(n,{instanceIdentifier:e})=>XA(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,id.registerVersion)(_T,r,t),(0,id.registerVersion)(_T,r,"esm2017")}();const sk=new Bp.Yd("@firebase/database-compat"),tM=function(t){sk.warn("FIREBASE WARNING: "+t)};class ck{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const s=this._delegate.setWithPriority(n,e);return i&&s.then(()=>i(null),c=>i(c)),s}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,tM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),s=>e(s)),i}}class uk{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fd{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),W_("DataSnapshot.child","path",n,!1),new fd(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),W_("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new fd(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class tr{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,s){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const f=tr.getCancelAndContextArgs_("Query.on",i,s),m=(T,M)=>{e.call(f.context,new fd(this.database,T),M)};m.userCallback=e,m.context=f.context;const D=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(n){case"value":return C1(this._delegate,m,D),e;case"child_added":return WA(this._delegate,m,D),e;case"child_removed":return ZA(this._delegate,m,D),e;case"child_changed":return zA(this._delegate,m,D),e;case"child_moved":return KA(this._delegate,m,D),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const s=()=>{};s.userCallback=e,s.context=i,YA(this._delegate,n,s)}else YA(this._delegate,n)}get(){return yx(this._delegate).then(n=>new fd(this.database,n))}once(n,e,i,s){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=tr.getCancelAndContextArgs_("Query.once",i,s),f=new F.BH,m=(T,M)=>{const O=new fd(this.database,T);e&&e.call(c.context,O,M),f.resolve(O)};m.userCallback=e,m.context=c.context;const D=T=>{c.cancel&&c.cancel.call(c.context,T),f.reject(T)};switch(n){case"value":C1(this._delegate,m,D,{onlyOnce:!0});break;case"child_added":WA(this._delegate,m,D,{onlyOnce:!0});break;case"child_removed":ZA(this._delegate,m,D,{onlyOnce:!0});break;case"child_changed":zA(this._delegate,m,D,{onlyOnce:!0});break;case"child_moved":KA(this._delegate,m,D,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new tr(this.database,Ta(this._delegate,function Sx(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ix(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new tr(this.database,Ta(this._delegate,function Ax(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nx(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new tr(this.database,Ta(this._delegate,function Rx(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return W_("orderByChild","path",t,!1),new Mx(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new tr(this.database,Ta(this._delegate,function Px(){return new Ox}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new tr(this.database,Ta(this._delegate,function kx(){return new xx}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new tr(this.database,Ta(this._delegate,function Lx(){return new Fx}()))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new tr(this.database,Ta(this._delegate,function wx(t=null,n){return G_("startAt","key",n,!0),new JA(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new tr(this.database,Ta(this._delegate,function Tx(t,n){return G_("startAfter","key",n,!0),new Ex(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new tr(this.database,Ta(this._delegate,function bx(t,n){return G_("endAt","key",n,!0),new qA(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new tr(this.database,Ta(this._delegate,function Cx(t,n){return G_("endBefore","key",n,!0),new Dx(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new tr(this.database,Ta(this._delegate,function Bx(t,n){return G_("equalTo","key",n,!0),new Vx(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof tr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const s={cancel:void 0,context:void 0};if(e&&i)s.cancel=e,(0,F.Wj)(n,"cancel",s.cancel,!0),s.context=i,(0,F.lb)(n,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new Qo(this.database,new Fs(this._delegate._repo,this._delegate._path))}}class Qo extends tr{constructor(n,e){super(n,new Do(e._repo,e._path,new Ub,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Qo(this.database,Vh(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Qo(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Qo(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=D1(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,tM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ks("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=vx(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const s=function _x(t,n,e){if(ks("setWithPriority",t._path),El("setWithPriority",n,t._path,!1),h1("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return p1(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&s.then(()=>i(null),c=>i(c)),s}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function gx(t){return ks("remove",t._path),D1(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const s=function ik(t,n,e){var i;if(t=(0,F.m9)(t),ks("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=null===(i=e?.applyLocally)||void 0===i||i,c=new F.BH,m=C1(t,()=>{});return function lx(t,n,e,i,s,c){Qp(t,"transaction on "+n);const f={path:n,update:e,onComplete:i,status:null,order:I(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=m1(t,n,void 0);f.currentInputSnapshot=m;const D=f.update(m.val());if(void 0===D)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{$_("transaction failed: Data returned ",D,f.path),f.status=0;const T=iD(t.transactionQueueTree_,n),M=Fh(T)||[];let O;M.push(f),c1(T,M),"object"==typeof D&&null!==D&&(0,F.r3)(D,".priority")?(O=(0,F.DV)(D,".priority"),(0,F.hu)(j_(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(tD(t.serverSyncTree_,n)||Dt.EMPTY_NODE).getPriority().val();const V=z_(t),Q=zn(D,O),ye=s1(Q,m,V);f.currentOutputSnapshotRaw=Q,f.currentOutputSnapshotResolved=ye,f.currentWriteId=aD(t);const Ne=XT(t.serverSyncTree_,n,ye,f.currentWriteId,f.applyLocally);Jo(t.eventQueue_,n,Ne),lD(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(D,T,M)=>{let O=null;D?c.reject(D):(O=new Lh(M,new Fs(t._repo,t._path),wn),c.resolve(new nk(T,O)))},m,s),c.promise}(this._delegate,n,{applyLocally:i}).then(c=>new uk(c.committed,new fd(this.database,c.snapshot)));return e&&s.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),s}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function mx(t,n){t=(0,F.m9)(t),ks("setPriority",t._path),h1("setPriority",n,!1);const e=new F.BH;return p1(t._repo,Vn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function px(t,n){t=(0,F.m9)(t),ks("push",t._path),El("push",n,t._path,!0);const e=OA(t._repo),i=EO(e),s=Vh(t,i),c=Vh(t,i);let f;return f=null!=n?D1(c,n).then(()=>c):Promise.resolve(c),s.then=f.then.bind(f),s.catch=f.then.bind(f,void 0),s}(this._delegate,n),s=i.then(f=>new Qo(this.database,f));e&&s.then(()=>e(null),f=>e(f));const c=new Qo(this.database,i);return c.then=s.then.bind(s),c.catch=s.catch.bind(s,void 0),c}onDisconnect(){return ks("Reference.onDisconnect",this._delegate._path),new ck(new jA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Y_{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zx,forceLongPolling:Kx}}useEmulator(n,e,i={}){!function Zx(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Je("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let c;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Je('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new I_(I_.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);c=new I_(f)}!function Hx(t,n,e,i){t.repoInfo_=new bT(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(s,n,e,c)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof Qo){const e=GA(this._delegate,n.toString());return new Qo(this,e)}{const e=$A(this._delegate,n);return new Qo(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=GA(this._delegate,n);return new Qo(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Yx(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),FA(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function qx(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function ax(t){t.persistentConnection_&&t.persistentConnection_.resume(RA)}(t._repo)}(this._delegate)}}Y_.ServerValue={TIMESTAMP:function ek(){return Xx}(),increment:t=>function tk(t){return{".sv":{increment:t}}}(t)};var hk=Object.freeze({__proto__:null,initStandalone:function dk({app:t,url:n,version:e,customAuthImpl:i,namespace:s,nodeAdmin:c=!1}){a(e);const f=new td.zt("auth-internal",new td.H0("database-standalone"));return f.setComponent(new td.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Y_(XA(t,f,void 0,n,c),t),namespace:s}}});const fk=Y_.ServerValue;!function pk(t){t.INTERNAL.registerComponent(new td.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),s=n.getProvider("database").getImmediate({identifier:e});return new Y_(s,i)},"PUBLIC").setServiceProps({Reference:Qo,Query:tr,Database:Y_,DataSnapshot:fd,enableLogging:Jx,INTERNAL:hk,ServerValue:fk}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.2.6")}(mT.Z);var fD=x(5363),gk=x(6063);class mk extends qt.x{constructor(n=1/0,e=1/0,i=gk.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:f}=this;e||(i.push(n),!s&&i.push(c.now()+f)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:s}=this,c=s.slice();for(let f=0;f<c.length&&!n.closed;f+=i?1:2)n.next(c[f]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:s}=this,c=(s?1:2)*n;if(n<1/0&&c<i.length&&i.splice(0,i.length-c),!s){const f=e.now();let m=0;for(let D=1;D<i.length&&i[D]<=f;D+=2)m=D;m&&i.splice(0,m+1)}}}function nM(t,n,e){let i,s=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:s=!1,scheduler:e}=t):i=t??1/0,(0,gT.B)({connector:()=>new mk(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function iM(t,n){return(0,Ci.m)(n)?an(()=>t,n):an(()=>t)}var E1=x(9468);x(5867);const oM=new Map,Dk={activated:!1,tokenObservers:[]},Ck={initialized:!1,enabled:!1};function ji(t){return oM.get(t)||Dk}function Ia(t,n){oM.set(t,n)}function gD(){return Ck}class Sk{constructor(n,e,i,s,c){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=s,s>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,nd.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function Nk(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const jr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aM(t){if(!ji(t).activated)throw jr.create("use-before-activation",{appName:t.name})}function N1(t,n){return A1.apply(this,arguments)}function A1(){return(A1=(0,nd.Z)(function*({url:t,body:n},e){var i,s;const c={"Content-Type":"application/json"},f=e.getImmediate({optional:!0});if(f){const Q=yield f.getHeartbeatsHeader();Q&&(c["X-Firebase-Client"]=Q)}const m={method:"POST",body:JSON.stringify(n),headers:c};let D,T;try{D=yield fetch(t,m)}catch(Q){throw jr.create("fetch-network-error",{originalErrorMessage:null===(i=Q)||void 0===i?void 0:i.message})}if(200!==D.status)throw jr.create("fetch-status-error",{httpStatus:D.status});try{T=yield D.json()}catch(Q){throw jr.create("fetch-parse-error",{originalErrorMessage:null===(s=Q)||void 0===s?void 0:s.message})}const M=T.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const O=1e3*Number(M[1]),V=Date.now();return{token:T.token,expireTimeMillis:V+O,issuedAtTimeMillis:V}})).apply(this,arguments)}function Ok(t,n){const{projectId:e,appId:i,apiKey:s}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:n}}}const q_="firebase-app-check-store";let vD=null;function cM(){return vD||(vD=new Promise((t,n)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=s=>{t(s.target.result)},i.onerror=s=>{var c;n(jr.create("storage-open",{originalErrorMessage:null===(c=s.target.error)||void 0===c?void 0:c.message}))},i.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(q_,{keyPath:"compositeKey"})}}catch(i){n(jr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),vD)}function M1(){return(M1=(0,nd.Z)(function*(t,n){const i=(yield cM()).transaction(q_,"readwrite"),c=i.objectStore(q_).put({compositeKey:t,value:n});return new Promise((f,m)=>{c.onsuccess=D=>{f()},i.onerror=D=>{var T;m(jr.create("storage-set",{originalErrorMessage:null===(T=D.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const J_=new Bp.Yd("@firebase/app-check");function fM(t,n){return(0,F.hl)()?function Fk(t,n){return function uM(t,n){return M1.apply(this,arguments)}(function hM(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{J_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function pM(){return gD().enabled}function gM(){return x1.apply(this,arguments)}function x1(){return(x1=(0,nd.Z)(function*(){const t=gD();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jk={error:"UNKNOWN_ERROR"};function $k(t){return F.US.encodeString(JSON.stringify(t),!1)}function yD(t){return k1.apply(this,arguments)}function k1(){return(k1=(0,nd.Z)(function*(t,n=!1){const e=t.app;aM(e);const i=ji(e);let c,s=i.token;if(!s){const D=yield i.cachedTokenPromise;D&&bD(D)&&(s=D)}if(!n&&s&&bD(s))return{token:s.token};let m,f=!1;if(pM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=N1(Ok(e,yield gM()),t.heartbeatServiceProvider).then(T=>(i.exchangeTokenPromise=void 0,T)),f=!0);const D=yield i.exchangeTokenPromise;return yield fM(e,D),Ia(e,Object.assign(Object.assign({},i),{token:D})),{token:D.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(D=>(i.exchangeTokenPromise=void 0,D)),f=!0),s=yield i.exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?J_.warn(D.message):J_.error(D),c=D}return s?(m={token:s.token},Ia(e,Object.assign(Object.assign({},i),{token:s})),yield fM(e,s)):m=Wk(c),f&&_M(e,m),m})).apply(this,arguments)}function L1(t,n){const e=ji(t),i=e.tokenObservers.filter(s=>s.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ia(t,Object.assign(Object.assign({},e),{tokenObservers:i}))}function mM(t){const{app:n}=t,e=ji(n);let i=e.tokenRefresher;i||(i=function Gk(t){const{app:n}=t;return new Sk((0,nd.Z)(function*(){let i;if(i=ji(n).token?yield yD(t,!0):yield yD(t),i.error)throw i.error}),()=>!0,()=>{const e=ji(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(t),Ia(n,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _M(t,n){const e=ji(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}function bD(t){return t.expireTimeMillis-Date.now()>0}function Wk(t){return{token:$k(jk),error:t}}class zk{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=ji(this.app);for(const e of n)L1(this.app,e.next);return Promise.resolve()}}const TM="app-check-internal";!function sF(){(0,id._registerComponent)(new td.wA("app-check",t=>function Kk(t,n){return new zk(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(TM).initialize()})),(0,id._registerComponent)(new td.wA(TM,t=>function Zk(t){return{getToken:n=>yD(t,n),addTokenListener:n=>function F1(t,n,e,i){const{app:s}=t,c=ji(s),f={next:e,error:i,type:n};if(Ia(s,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&bD(c.token)){const m=c.token;Promise.resolve().then(()=>{e({token:m.token}),mM(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>mM(t))}(t,"INTERNAL",n),removeTokenListener:n=>L1(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,id.registerVersion)("@firebase/app-check","0.5.12")}();class H1{constructor(){return(0,vo.vb)("app-check")}}typeof window<"u"&&window;var SM=x(127);const NM=new u.OlP("angularfire2.auth.use-emulator"),AM=new u.OlP("angularfire2.auth.settings"),MM=new u.OlP("angularfire2.auth.tenant-id"),RM=new u.OlP("angularfire2.auth.langugage-code"),OM=new u.OlP("angularfire2.auth.use-device-language"),PM=new u.OlP("angularfire.auth.persistence"),xM=(t,n,e,i,s,c,f,m)=>(0,qo.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const D=n.runOutsideAngular(()=>t.auth());if(e&&D.useEmulator(...e),i&&(D.tenantId=i),D.languageCode=s,c&&D.useDeviceLanguage(),f)for(const[T,M]of Object.entries(f))D.settings[T]=M;return m&&D.setPersistence(m),D},[e,i,s,c,f,m]);let $1=(()=>{class t{constructor(e,i,s,c,f,m,D,T,M,O,V,Q){const ye=new qt.x,Ne=Ze(void 0).pipe((0,fD.Q)(f.outsideAngular),an(()=>c.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,2476)))),(0,We.U)(()=>(0,qo.on)(e,c,i)),(0,We.U)(Fe=>xM(Fe,c,m,T,M,O,D,V)),nM({bufferSize:1,refCount:!1}));if(function ti(t){return"server"===t}(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ze(null);else{Ne.pipe(ie()).subscribe();const tt=Ne.pipe(an(st=>st.getRedirectResult().then(mt=>mt,()=>null)),vo.iC,nM({bufferSize:1,refCount:!1})),Ye=Ne.pipe(an(st=>new bn.y(mt=>({unsubscribe:c.runOutsideAngular(()=>st.onAuthStateChanged(Nt=>mt.next(Nt),Nt=>mt.error(Nt),()=>mt.complete()))})))),Ct=Ne.pipe(an(st=>new bn.y(mt=>({unsubscribe:c.runOutsideAngular(()=>st.onIdTokenChanged(Nt=>mt.next(Nt),Nt=>mt.error(Nt),()=>mt.complete()))}))));this.authState=tt.pipe(iM(Ye),(0,E1.R)(f.outsideAngular),(0,fD.Q)(f.insideAngular)),this.user=tt.pipe(iM(Ct),(0,E1.R)(f.outsideAngular),(0,fD.Q)(f.insideAngular)),this.idToken=this.user.pipe(an(st=>st?(0,rn.D)(st.getIdToken()):Ze(null))),this.idTokenResult=this.user.pipe(an(st=>st?(0,rn.D)(st.getIdTokenResult()):Ze(null))),this.credential=(0,Rb.T)(tt,ye,this.authState.pipe(w(st=>!st))).pipe((0,We.U)(st=>st?.user?st:null),(0,E1.R)(f.outsideAngular),(0,fD.Q)(f.insideAngular))}return(0,qo.pX)(this,Ne,c,{spy:{apply:(Fe,tt,Ye)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&Ye.then(Ct=>ye.next(Ct))}}})}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(qo.Dh),u.LFG(qo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(vo.HU),u.LFG(NM,8),u.LFG(AM,8),u.LFG(MM,8),u.LFG(RM,8),u.LFG(OM,8),u.LFG(PM,8),u.LFG(H1,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),hF=(()=>{class t{constructor(){SM.Z.registerVersion("angularfire",vo.q4.full,"auth-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[$1]}),t})();function kM(t){return null==t}function FM(t){return"function"==typeof t.set}function LM(t,n){return FM(n)?n:t.ref(n)}function VM(t,n){if(function fF(t){return"string"==typeof t}(t))return n.stringCase();if(FM(t))return n.firebaseCase();if(function pF(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Q_(t,n,e="on",i=Jd.z){return new bn.y(s=>{let c=null;return c=t[e](n,(f,m)=>{i.schedule(()=>{s.next({snapshot:f,prevKey:m})}),"once"===e&&i.schedule(()=>s.complete())},f=>{i.schedule(()=>s.error(f))}),"on"===e?{unsubscribe(){null!=c&&t.off(n,c)}}:{unsubscribe(){}}}).pipe((0,We.U)(s=>{const{snapshot:c,prevKey:f}=s;let m=null;return c.exists()&&(m=c.key),{type:n,payload:c,prevKey:f,key:m}}),(0,gT.B)())}function BM(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function _F(t,n){const{payload:e,prevKey:i,key:s}=n,c=BM(t,s),f=function mF(t,n){if(kM(n))return 0;{const e=BM(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let m=null;n.payload.forEach(D=>{const T={payload:D,type:"value",prevKey:m,key:D.key};return m=D.key,t=[...t,T],!1})}return t;case"child_added":if(c>-1){const m=t[c-1];(m&&m.key||null)!==i&&(t=t.filter(D=>D.payload.key!==e.key)).splice(f,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(f,0,n)}return t;case"child_removed":return t.filter(m=>m.payload.key!==e.key);case"child_changed":return t.map(m=>m.payload.key===s?n:m);case"child_moved":if(c>-1){const m=t.splice(c,1)[0];return(t=t.slice()).splice(f,0,m),t}return t;default:return t}}function UM(t){return(kM(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function HM(t,n,e){return function gF(t,n,e){return Q_(t,"value","once",e).pipe(an(i=>{const s=[Ze(i)];return n.forEach(c=>s.push(Q_(t,c,"on",e))),(0,Rb.T)(...s).pipe(gt(_F,[]))}),function Xd(t,n=Rr.y){return t=t??uC,(0,kn.e)((e,i)=>{let s,c=!0;e.subscribe((0,Xt.x)(i,f=>{const m=n(f);(c||!t(s,m))&&(c=!1,s=m,i.next(f))}))})}())}(t,n=UM(n),e)}function jM(t,n,e){const i=(n=UM(n)).map(s=>Q_(t,s,"on",e));return(0,Rb.T)(...i)}function $M(t,n){return function(i,s){return VM(i,{stringCase:()=>t.child(i)[n](s),firebaseCase:()=>i[n](s),snapshotCase:()=>i.ref[n](s)})}}function DF(t){return function(e){return e?VM(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function GM(t,n){return function(){return Q_(t,"value","on",n)}}const EF=new u.OlP("angularfire2.realtimeDatabaseURL"),TF=new u.OlP("angularfire2.database.use-emulator");let IF=(()=>{class t{constructor(e,i,s,c,f,m,D,T,M,O,V,Q,ye,Ne,Fe){this.schedulers=m;const tt=D,Ye=(0,qo.on)(e,f,i);T&&xM(Ye,f,M,V,Q,ye,O,Ne),this.database=(0,qo.cc)(`${Ye.name}.database.${s}`,"AngularFireDatabase",Ye.name,()=>{const Ct=f.runOutsideAngular(()=>Ye.database(s||void 0));return tt&&Ct.useEmulator(...tt),Ct},[tt])}list(e,i){const s=this.schedulers.ngZone.runOutsideAngular(()=>LM(this.database,e));let c=s;return i&&(c=i(s)),function CF(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:$M(i,"update"),set:$M(i,"set"),push:s=>i.push(s),remove:DF(i),snapshotChanges:s=>HM(t,s,e).pipe(vo.iC),stateChanges:s=>jM(t,s,e).pipe(vo.iC),auditTrail:s=>function vF(t,n,e){return function bF(t,n,e){return function yF(t,n){return Q_(t,"value","on",n).pipe((0,We.U)(e=>{let i;return e.payload.forEach(s=>(i=s.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(Hf(n),(0,We.U)(([s,c])=>{const f=s.lastKeyToLoad,m=c.map(D=>D.key);return{actions:c,lastKeyToLoad:f,loadedKeys:m}}),function tN(t){return(0,kn.e)((n,e)=>{let i=!1,s=0;n.subscribe((0,Xt.x)(e,c=>(i||(i=!t(c,s++)))&&e.next(c)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,We.U)(s=>s.actions))}(t,jM(t,n).pipe(gt((s,c)=>[...s,c],[])),e)}(t,s,e).pipe(vo.iC),valueChanges:(s,c)=>HM(t,s,e).pipe((0,We.U)(m=>m.map(D=>c&&c.idField?Object.assign(Object.assign({},D.payload.val()),{[c.idField]:D.key}):D.payload.val())),vo.iC)}}(c,this)}object(e){return function wF(t,n){return{query:t,snapshotChanges:()=>GM(t,n.schedulers.outsideAngular)().pipe(vo.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>GM(t,n.schedulers.outsideAngular)().pipe(vo.iC,(0,We.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>LM(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(qo.Dh),u.LFG(qo.xv,8),u.LFG(EF,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(vo.HU),u.LFG(TF,8),u.LFG($1,8),u.LFG(NM,8),u.LFG(AM,8),u.LFG(MM,8),u.LFG(RM,8),u.LFG(OM,8),u.LFG(PM,8),u.LFG(H1,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),SF=(()=>{class t{constructor(){SM.Z.registerVersion("angularfire",vo.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[IF]}),t})(),NF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"home works!"),u.qZA())}}),t})(),AF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-products"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"products works!"),u.qZA())}}),t})(),MF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-shopping-cart"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"shopping-cart works!"),u.qZA())}}),t})(),RF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-check-out"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"check-out works!"),u.qZA())}}),t})(),OF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-order-success"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"order-success works!"),u.qZA())}}),t})(),PF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-my-orders"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"my-orders works!"),u.qZA())}}),t})(),xF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-admin-products"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"admin-products works!"),u.qZA())}}),t})(),kF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"admin-orders works!"),u.qZA())}}),t})(),FF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"login works!"),u.qZA())}}),t})(),LF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t,bootstrap:[pT]}),t.\u0275inj=u.cJS({imports:[Yl,oC,qo.hO.initializeApp(Mb_firebase),SF,hF,fT,Lg.forRoot([{path:"",component:NF},{path:"products",component:AF},{path:"shopping-cart",component:MF},{path:"check-out",component:RF},{path:"order-success",component:OF},{path:"my/orders",component:PF},{path:"login",component:FF},{path:"admin/products",component:xF},{path:"admin/orders",component:kF}]),fT]}),t})();(0,u.G48)(),tl().bootstrapModule(LF).catch(t=>console.error(t))},5867:(Qe,Ce,x)=>{x.d(Ce,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=x(9681);(0,u.registerVersion)("firebase","9.10.0","app")},127:(Qe,Ce,x)=>{x.d(Ce,{Z:()=>u.Z});var u=x(3942);u.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Qe,Ce,x)=>{x.r(Ce);var u=x(5861),X=x(3942),P=x(2090),se=x(9681),re=x(655),ce=x(1877),ae=x(4859);const _e=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new ce.Yd("@firebase/auth");function qe(_,...h){je.logLevel<=ce.in.ERROR&&je.error(`Auth (${se.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw Ve(_,...h)}function ge(_,...h){return Ve(_,...h)}function De(_,h,g){const y=Object.assign(Object.assign({},Ge()),{[h]:g});return new P.LL("auth","Firebase",y).create(h,{appName:_.name})}function xe(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ie(_,"argument-error"),De(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(_,...h){if("string"!=typeof _){const g=h[0],y=[...h.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return pe.create(_,...h)}function U(_,h,...g){if(!_)throw Ve(h,...g)}function fe(_){const h="INTERNAL ASSERTION FAILED: "+_;throw qe(h),new Error(h)}function Y(_,h){_||fe(h)}const ee=new Map;function oe(_){Y(_ instanceof Function,"Expected a class definition");let h=ee.get(_);return h?(Y(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ee.set(_,h),h)}function Me(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function rt(){return"http:"===At()||"https:"===At()}function At(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class $t{constructor(h,g){this.shortDelay=h,this.longDelay=g,Y(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gn(_,h){Y(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class xt{static initialize(h,g,y){this.fetchImpl=h,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ri=new $t(3e4,6e4);function _t(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function jt(_,h,g,y){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(_,h,g,y,S={}){return fi(_,S,(0,u.Z)(function*(){let R={},Z={};y&&("GET"===h?Z=y:R={body:JSON.stringify(y)});const le=(0,P.xO)(Object.assign({key:_.config.apiKey},Z)).slice(1),Oe=yield _._getAdditionalHeaders();return Oe["Content-Type"]="application/json",_.languageCode&&(Oe["X-Firebase-Locale"]=_.languageCode),xt.fetch()(nr(_,_.config.apiHost,g,le),Object.assign({method:h,headers:Oe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function fi(_,h,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(_,h,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},kt),h);try{const S=new gi(_),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Z=yield R.json();if("needConfirmation"in Z)throw Ni(_,"account-exists-with-different-credential",Z);if(R.ok&&!("errorMessage"in Z))return Z;{const le=R.ok?Z.errorMessage:Z.error.message,[Oe,$e]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw Ni(_,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Oe)throw Ni(_,"email-already-in-use",Z);if("USER_DISABLED"===Oe)throw Ni(_,"user-disabled",Z);const ct=y[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw De(_,ct,$e);Ie(_,ct)}}catch(S){if(S instanceof P.ZR)throw S;Ie(_,"network-request-failed")}})).apply(this,arguments)}function pi(_,h,g,y){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(_,h,g,y,S={}){const R=yield jt(_,h,g,y,S);return"mfaPendingCredential"in R&&Ie(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function nr(_,h,g,y){const S=`${h}${g}?${y}`;return _.config.emulator?gn(_.config,S):`${_.config.apiScheme}://${S}`}class gi{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(ge(this.auth,"network-request-failed")),ri.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ni(_,h,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const S=ge(_,h,y);return S.customData._tokenResponse=g,S}function He(){return(He=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function mi(_,h){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function mn(_,h){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function _i(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Kt(){return(Kt=(0,u.Z)(function*(_,h=!1){const g=(0,P.m9)(_),y=yield g.getIdToken(h),S=Xe(y);U(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,Z=R?.sign_in_provider;return{claims:S,token:y,authTime:_i(ot(S.auth_time)),issuedAtTime:_i(ot(S.iat)),expirationTime:_i(ot(S.exp)),signInProvider:Z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(_){return 1e3*Number(_)}function Xe(_){var h;const[g,y,S]=_.split(".");if(void 0===g||void 0===y||void 0===S)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,P.tV)(y);return R?JSON.parse(R):(qe("Failed to decode base64 JWT payload"),null)}catch(R){return qe("Caught error parsing JWT payload as JSON",null===(h=R)||void 0===h?void 0:h.toString()),null}}function Bn(_,h){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(y){throw y instanceof P.ZR&&oi(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}function oi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class dt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),y)}iteration(){var h=this;return(0,u.Z)(function*(){var g;try{yield h.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null===(g=y)||void 0===g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class Dr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lt(_){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(_){var h;const g=_.auth,y=yield _.getIdToken(),S=yield Bn(_,mn(g,{idToken:y}));U(S?.users.length,g,"internal-error");const R=S.users[0];_._notifyReloadListener(R);const Z=null!==(h=R.providerUserInfo)&&void 0!==h&&h.length?B(R.providerUserInfo):[],le=j(_.providerData,Z),ct=!!_.isAnonymous&&!(_.email&&R.passwordHash||le?.length),it={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:le,metadata:new Dr(R.createdAt,R.lastLoginAt),isAnonymous:ct};Object.assign(_,it)})).apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(_){const h=(0,P.m9)(_);yield Lt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function j(_,h){return[..._.filter(y=>!h.some(S=>S.providerId===y.providerId)),...h]}function B(_){return _.map(h=>{var{providerId:g}=h,y=(0,re._T)(h,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function z(){return(z=(0,u.Z)(function*(_,h){const g=yield fi(_,{},(0,u.Z)(function*(){const y=(0,P.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:R}=_.config,Z=nr(_,S,"/v1/token",`key=${R}`),le=yield _._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",xt.fetch()(Z,{method:"POST",headers:le,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class we{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){U(h.idToken,"internal-error"),U(typeof h.idToken<"u","internal-error"),U(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Gt(_){const h=Xe(_);return U(h,"internal-error"),U(typeof h.exp<"u","internal-error"),U(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var y=this;return(0,u.Z)(function*(){return U(!y.accessToken||y.refreshToken,h,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(h,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var y=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:Z}=yield function W(_,h){return z.apply(this,arguments)}(h,g);y.updateTokensAndExpiration(S,R,Number(Z))})()}updateTokensAndExpiration(h,g,y){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(h,g){const{refreshToken:y,accessToken:S,expirationTime:R}=g,Z=new we;return y&&(U("string"==typeof y,"internal-error",{appName:h}),Z.refreshToken=y),S&&(U("string"==typeof S,"internal-error",{appName:h}),Z.accessToken=S),R&&(U("number"==typeof R,"internal-error",{appName:h}),Z.expirationTime=R),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new we,this.toJSON())}_performRefresh(){return fe("not implemented")}}function ke(_,h){U("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class et{constructor(h){var{uid:g,auth:y,stsTokenManager:S}=h,R=(0,re._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Dr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,u.Z)(function*(){const y=yield Bn(g,g.stsTokenManager.getToken(g.auth,h));return U(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(h){return function In(_){return Kt.apply(this,arguments)}(this,h)}reload(){return function Ft(_){return K.apply(this,arguments)}(this)}_assign(h){this!==h&&(U(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new et(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var y=this;return(0,u.Z)(function*(){let S=!1;h.idToken&&h.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(h),S=!0),g&&(yield Lt(y)),yield y.auth._persistUserIfCurrent(y),S&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var h=this;return(0,u.Z)(function*(){const g=yield h.getIdToken();return yield Bn(h,function ts(_,h){return He.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var y,S,R,Z,le,Oe,$e,ct;const it=null!==(y=g.displayName)&&void 0!==y?y:void 0,Ln=null!==(S=g.email)&&void 0!==S?S:void 0,_r=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,fl=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,wu=null!==(le=g.tenantId)&&void 0!==le?le:void 0,Fi=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,dc=null!==($e=g.createdAt)&&void 0!==$e?$e:void 0,hc=null!==(ct=g.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:wf,emailVerified:Eu,isAnonymous:Ef,providerData:fc,stsTokenManager:mg}=g;U(wf&&mg,h,"internal-error");const uv=we.fromJSON(this.name,mg);U("string"==typeof wf,h,"internal-error"),ke(it,h.name),ke(Ln,h.name),U("boolean"==typeof Eu,h,"internal-error"),U("boolean"==typeof Ef,h,"internal-error"),ke(_r,h.name),ke(fl,h.name),ke(wu,h.name),ke(Fi,h.name),ke(dc,h.name),ke(hc,h.name);const fa=new et({uid:wf,auth:h,email:Ln,emailVerified:Eu,displayName:it,isAnonymous:Ef,photoURL:fl,phoneNumber:_r,tenantId:wu,stsTokenManager:uv,createdAt:dc,lastLoginAt:hc});return fc&&Array.isArray(fc)&&(fa.providerData=fc.map(pc=>Object.assign({},pc))),Fi&&(fa._redirectEventId=Fi),fa}static _fromIdTokenResponse(h,g,y=!1){return(0,u.Z)(function*(){const S=new we;S.updateFromServerResponse(g);const R=new et({uid:g.localId,auth:h,stsTokenManager:S,isAnonymous:y});return yield Lt(R),R})()}}const Vt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,y){var S=this;return(0,u.Z)(function*(){S.storage[g]=y})()}_get(g){var y=this;return(0,u.Z)(function*(){const S=y.storage[g];return void 0===S?null:S})()}_remove(g){var y=this;return(0,u.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function Rn(_,h,g){return`firebase:${_}:${h}:${g}`}class Et{constructor(h,g,y){this.persistence=h,this.auth=g,this.userKey=y;const{config:S,name:R}=this.auth;this.fullUserKey=Rn(this.userKey,S.apiKey,R),this.fullPersistenceKey=Rn("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?et._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,u.Z)(function*(){if(g.persistence===h)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,y="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Et(oe(Vt),h,y);const S=(yield Promise.all(g.map(function(){var $e=(0,u.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return $e.apply(this,arguments)}}()))).filter($e=>$e);let R=S[0]||oe(Vt);const Z=Rn(y,h.config.apiKey,h.name);let le=null;for(const $e of g)try{const ct=yield $e._get(Z);if(ct){const it=et._fromJSON(h,ct);$e!==R&&(le=it),R=$e;break}}catch{}const Oe=S.filter($e=>$e._shouldAllowMigration);return R._shouldAllowMigration&&Oe.length?(R=Oe[0],le&&(yield R._set(Z,le.toJSON())),yield Promise.all(g.map(function(){var $e=(0,u.Z)(function*(ct){if(ct!==R)try{yield ct._remove(Z)}catch{}});return function(ct){return $e.apply(this,arguments)}}())),new Et(R,h,y)):new Et(R,h,y)})()}}function vt(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(si(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(tn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Be(h))return"Blackberry";if(at(h))return"Webos";if(Sn(h))return"Safari";if((h.includes("chrome/")||ir(h))&&!h.includes("edge/"))return"Chrome";if(Nn(h))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function tn(_=(0,P.z$)()){return/firefox\//i.test(_)}function Sn(_=(0,P.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ir(_=(0,P.z$)()){return/crios\//i.test(_)}function si(_=(0,P.z$)()){return/iemobile/i.test(_)}function Nn(_=(0,P.z$)()){return/android/i.test(_)}function Be(_=(0,P.z$)()){return/blackberry/i.test(_)}function at(_=(0,P.z$)()){return/webos/i.test(_)}function Ht(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Co(_=(0,P.z$)()){return Ht(_)||Nn(_)||at(_)||Be(_)||/windows phone/i.test(_)||si(_)}function Wr(_,h=[]){let g;switch(_){case"Browser":g=vt((0,P.z$)());break;case"Worker":g=`${vt((0,P.z$)())}-${_}`;break;default:g=_}const y=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${y}`}class ns{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const y=R=>new Promise((Z,le)=>{try{Z(h(R))}catch(Oe){le(Oe)}});y.onAbort=g,this.queue.push(y);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,u.Z)(function*(){var y;if(g.auth.currentUser===h)return;const S=[];try{for(const R of g.queue)yield R(h),R.onAbort&&S.push(R.onAbort)}catch(R){S.reverse();for(const Z of S)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(y=R)||void 0===y?void 0:y.message})}})()}}class yt{constructor(h,g,y){this.app=h,this.heartbeatServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wo(this),this.idTokenSubscription=new wo(this),this.beforeStateQueue=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(h,g){var y=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,R;if(!y._deleted&&(y.persistenceManager=yield Et.create(y,h),!y._deleted)){if(null!==(S=y._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(R=y.currentUser)||void 0===R?void 0:R.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,u.Z)(function*(){var y;const S=yield g.assertedPersistence.getCurrentUser();let R=S,Z=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const le=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,Oe=R?._redirectEventId,$e=yield g.tryRedirectSignIn(h);(!le||le===Oe)&&$e?.user&&(R=$e.user,Z=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(R)}catch(le){R=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(le))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(h){var g=this;return(0,u.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,u.Z)(function*(){var y;try{yield Lt(h)}catch(S){if("auth/network-request-failed"!==(null===(y=S)||void 0===y?void 0:y.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,u.Z)(function*(){const y=h?(0,P.m9)(h):null;return y&&U(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(h,g=!1){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return h&&U(y.tenantId===h.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(h)),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(h),y.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new P.LL("auth","Firebase",h())}onAuthStateChanged(h,g,y){return this.registerStateListener(this.authStateSubscription,h,g,y)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,y){return this.registerStateListener(this.idTokenSubscription,h,g,y)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var y=this;return(0,u.Z)(function*(){const S=yield y.getOrInitRedirectPersistenceManager(g);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const y=h&&oe(h)||g._popupRedirectResolver;U(y,g,"argument-error"),g.redirectPersistenceManager=yield Et.create(g,[oe(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,u.Z)(function*(){var y,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===h?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,u.Z)(function*(){if(h===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,y,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return U(Z,this,"internal-error"),Z.then(()=>R(this.currentUser)),"function"==typeof g?h.addObserver(g,y,S):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Wr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var g;const y={"X-Client-Version":h.clientVersion};h.app.options.appId&&(y["X-Firebase-gmpid"]=h.app.options.appId);const S=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(y["X-Firebase-Client"]=S),y})()}}function nn(_){return(0,P.m9)(_)}class wo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rr(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function zr(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Kn{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return fe("not implemented")}_getIdTokenResponse(h){return fe("not implemented")}_linkToIdToken(h,g){return fe("not implemented")}_getReauthenticationResolver(h){return fe("not implemented")}}function Mn(_,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:resetPassword",_t(_,h))})).apply(this,arguments)}function Wt(_,h){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Sl(_,h){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:update",_t(_,h))})).apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithPassword",_t(_,h))})).apply(this,arguments)}function Zr(_,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:sendOobCode",_t(_,h))})).apply(this,arguments)}function vn(_,h){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function Hn(_,h){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function Ma(_,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function Al(_,h){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithEmailLink",_t(_,h))})).apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithEmailLink",_t(_,h))})).apply(this,arguments)}class Ml extends Kn{constructor(h,g,y,S=null){super("password",y),this._email=h,this._password=g,this._tenantId=S}static _fromEmailAndPassword(h,g){return new Ml(h,g,"password")}static _fromEmailAndCode(h,g,y=null){return new Ml(h,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Ls(_,h){return or.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function gd(_,h){return Vc.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return Wt(h,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function md(_,h){return To.apply(this,arguments)}(h,{idToken:g,email:y._email,oobCode:y._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Pn(_,h){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithIdp",_t(_,h))})).apply(this,arguments)}class Cr extends Kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Cr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:S}=g,R=(0,re._T)(g,["providerId","signInMethod"]);if(!y||!S)return null;const Z=new Cr(y,S);return Z.idToken=R.idToken||void 0,Z.accessToken=R.accessToken||void 0,Z.secret=R.secret,Z.nonce=R.nonce,Z.pendingToken=R.pendingToken||null,Z}_getIdTokenResponse(h){return Pn(h,this.buildRequest())}_linkToIdToken(h,g){const y=this.buildRequest();return y.idToken=g,Pn(h,y)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Pn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,P.xO)(g)}return h}}function Wh(_,h){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:sendVerificationCode",_t(_,h))})).apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithPhoneNumber",_t(_,h))})).apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(_,h){const g=yield pi(_,"POST","/v1/accounts:signInWithPhoneNumber",_t(_,h));if(g.temporaryProof)throw Ni(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Kh={USER_NOT_FOUND:"user-not-found"};function jc(){return(jc=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithPhoneNumber",_t(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Kh)})).apply(this,arguments)}class qr extends Kn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new qr({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new qr({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Rl(_,h){return Yr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function zh(_,h){return Hc.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Zh(_,h){return jc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:y,verificationCode:S}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:y,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:y,phoneNumber:S,temporaryProof:R}=h;return y||g||S||R?new qr({verificationId:g,verificationCode:y,phoneNumber:S,temporaryProof:R}):null}}class Ra{constructor(h){var g,y,S,R,Z,le;const Oe=(0,P.zd)((0,P.pd)(h)),$e=null!==(g=Oe.apiKey)&&void 0!==g?g:null,ct=null!==(y=Oe.oobCode)&&void 0!==y?y:null,it=function $c(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Oe.mode)&&void 0!==S?S:null);U($e&&ct&&it,"argument-error"),this.apiKey=$e,this.operation=it,this.code=ct,this.continueUrl=null!==(R=Oe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Z=Oe.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(le=Oe.tenantId)&&void 0!==le?le:null}static parseLink(h){const g=function Gc(_){const h=(0,P.zd)((0,P.pd)(_)).link,g=h?(0,P.zd)((0,P.pd)(h)).deep_link_id:null,y=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(y?(0,P.zd)((0,P.pd)(y)).link:null)||y||g||h||_}(h);try{return new Ra(g)}catch{return null}}}let sr=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return Ml._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const S=Ra.parseLink(y);return U(S,"argument-error"),Ml._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class wr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Er extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Io extends Er{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Cr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return U(h.idToken||h.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Io.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Io.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:S,pendingToken:R,nonce:Z,providerId:le}=h;if(!y&&!S&&!g&&!R||!le)return null;try{return new Io(le)._credential({idToken:g,accessToken:y,nonce:Z,pendingToken:R})}catch{return null}}}let Bs=(()=>{class _ extends Er{constructor(){super("facebook.com")}static credential(g){return Cr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Oa=(()=>{class _ extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return Cr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S}=g;if(!y&&!S)return null;try{return _.credential(y,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ol=(()=>{class _ extends Er{constructor(){super("github.com")}static credential(g){return Cr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class jn extends Kn{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Pn(h,this.buildRequest())}_linkToIdToken(h,g){const y=this.buildRequest();return y.idToken=g,Pn(h,y)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Pn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:S,pendingToken:R}=g;return y&&S&&R&&y===S?new jn(y,R):null}static _create(h,g){return new jn(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ri extends wr{constructor(h){U(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ri.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ri.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=jn.fromJSON(h);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:y}=h;if(!g||!y)return null;try{return jn._create(y,g)}catch{return null}}}let vi=(()=>{class _ extends Er{constructor(){super("twitter.com")}static credential(g,y){return Cr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:S}=g;if(!y||!S)return null;try{return _.credential(y,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function is(_,h){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signUp",_t(_,h))})).apply(this,arguments)}class ti{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,y,S=!1){return(0,u.Z)(function*(){const R=yield et._fromIdTokenResponse(h,y,S),Z=yd(y);return new ti({user:R,providerId:Z,_tokenResponse:y,operationType:g})})()}static _forOperation(h,g,y){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(y,!0);const S=yd(y);return new ti({user:h,providerId:S,_tokenResponse:y,operationType:g})})()}}function yd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function cn(){return(cn=(0,u.Z)(function*(_){var h;const g=nn(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new ti({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield is(g,{returnSecureToken:!0}),S=yield ti._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Pa extends P.ZR{constructor(h,g,y,S){var R;super(g.code,g.message),this.operationType=y,this.user=S,Object.setPrototypeOf(this,Pa.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(h,g,y,S){return new Pa(h,g,y,S)}}function Dd(_,h,g,y){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Pa._fromErrorAndOperation(_,R,h,y):R})}function Oi(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function xa(){return(xa=(0,u.Z)(function*(_,h){const g=(0,P.m9)(_);yield Mt(!0,g,h);const{providerUserInfo:y}=yield mi(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),S=Oi(y||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function rs(_,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(_,h,g=!1){const y=yield Bn(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return ti._forOperation(_,"link",y)})).apply(this,arguments)}function Mt(_,h,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(_,h,g){yield Lt(h);const S=!1===_?"provider-already-linked":"no-such-provider";U(Oi(h.providerData).has(g)===_,h.auth,S)})).apply(this,arguments)}function So(_,h){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(_,h,g=!1){var y;const{auth:S}=_,R="reauthenticate";try{const Z=yield Bn(_,Dd(S,R,h,_),g);U(Z.idToken,S,"internal-error");const le=Xe(Z.idToken);U(le,S,"internal-error");const{sub:Oe}=le;return U(_.uid===Oe,S,"user-mismatch"),ti._forOperation(_,R,Z)}catch(Z){throw"auth/user-not-found"===(null===(y=Z)||void 0===y?void 0:y.code)&&Ie(S,"user-mismatch"),Z}})).apply(this,arguments)}function zi(_,h){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(_,h,g=!1){const y="signIn",S=yield Dd(_,y,h),R=yield ti._fromIdTokenResponse(_,y,S);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function sn(_,h){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(_,h){return zi(nn(_),h)})).apply(this,arguments)}function Va(_,h){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,u.Z)(function*(_,h){const g=(0,P.m9)(_);return yield Mt(!1,g,h.providerId),rs(g,h)})).apply(this,arguments)}function Ba(_,h){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(_,h){return So((0,P.m9)(_),h)})).apply(this,arguments)}function xl(_,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(_,h){return pi(_,"POST","/v1/accounts:signInWithCustomToken",_t(_,h))})).apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(_,h){const g=nn(_),y=yield xl(g,{token:h,returnSecureToken:!0}),S=yield ti._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ee{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Tt._fromServerResponse(h,g):Ie(h,"internal-error")}}class Tt extends Ee{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Tt(g)}}function Ha(_,h,g){var y;U((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function un(){return(un=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_),S={requestType:"PASSWORD_RESET",email:h};g&&Ha(y,S,g),yield Hn(y,S)})).apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(_,h,g){yield Mn((0,P.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(_,h){yield Sl((0,P.m9)(_),{oobCode:h})})).apply(this,arguments)}function js(_,h){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(_,h){const g=(0,P.m9)(_),y=yield Mn(g,{oobCode:h}),S=y.requestType;switch(U(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(y.mfaInfo,g,"internal-error");default:U(y.email,g,"internal-error")}let R=null;return y.mfaInfo&&(R=Ee._fromServerResponse(nn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(_,h){const{data:g}=yield js((0,P.m9)(_),h);return g.email})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(_,h,g){const y=nn(_),S=yield is(y,{returnSecureToken:!0,email:h,password:g}),R=yield ti._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_),S={requestType:"EMAIL_SIGNIN",email:h};U(g.handleCodeInApp,y,"argument-error"),g&&Ha(y,S,g),yield Ma(y,S)})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_),S=sr.credentialWithLink(h,g||Me());return U(S._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),sn(y,S)})).apply(this,arguments)}function qh(_,h){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:createAuthUri",_t(_,h))})).apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(_,h){const y={identifier:h,continueUri:rt()?Me():"http://localhost"},{signinMethods:S}=yield qh((0,P.m9)(_),y);return S||[]})).apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(_,h){const g=(0,P.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Ha(g.auth,S,h);const{email:R}=yield vn(g.auth,S);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&Ha(y.auth,R,g);const{email:Z}=yield Al(y.auth,R);Z!==_.email&&(yield _.reload())})).apply(this,arguments)}function za(_,h){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(_,h){return jt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Gl(){return(Gl=(0,u.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const y=(0,P.m9)(_),R={idToken:yield y.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Z=yield Bn(y,za(y.auth,R));y.displayName=Z.displayName||null,y.photoURL=Z.photoUrl||null;const le=y.providerData.find(({providerId:Oe})=>"password"===Oe);le&&(le.displayName=y.displayName,le.photoURL=y.photoURL),yield y._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Mo(_,h,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(_,h,g){const{auth:y}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(R.email=h),g&&(R.password=g);const Z=yield Bn(_,Wt(y,R));yield _._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class yi{constructor(h,g,y={}){this.isNewUser=h,this.providerId=g,this.profile=y}}class Qt extends yi{constructor(h,g,y,S){super(h,g,y),this.username=S}}class Kc extends yi{constructor(h,g){super(h,"facebook.com",g)}}class Wl extends Qt{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class wd extends yi{constructor(h,g){super(h,"google.com",g)}}class zl extends Qt{constructor(h,g,y){super(h,"twitter.com",g,y)}}function Za(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function xn(_){var h,g;if(!_)return null;const{providerId:y}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const Z=null===(g=null===(h=Xe(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new yi(R,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!y)return null;switch(y){case"facebook.com":return new Kc(R,S);case"github.com":return new Wl(R,S);case"google.com":return new wd(R,S);case"twitter.com":return new zl(R,S,_.screenName||null);case"custom":case"anonymous":return new yi(R,null);default:return new yi(R,y,S)}}(g)}class Ro{constructor(h,g,y){this.type=h,this.credential=g,this.auth=y}static _fromIdtoken(h,g){return new Ro("enroll",h,g)}static _fromMfaPendingCredential(h){return new Ro("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,y;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ro._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(y=h.multiFactorSession)&&void 0!==y&&y.idToken)return Ro._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ya{constructor(h,g,y){this.session=h,this.hints=g,this.signInResolver=y}static _fromError(h,g){const y=nn(h),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(le=>Ee._fromServerResponse(y,le));U(S.mfaPendingCredential,y,"internal-error");const Z=Ro._fromMfaPendingCredential(S.mfaPendingCredential);return new Ya(Z,R,function(){var le=(0,u.Z)(function*(Oe){const $e=yield Oe._process(y,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const ct=Object.assign(Object.assign({},S),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(g.operationType){case"signIn":const it=yield ti._fromIdTokenResponse(y,g.operationType,ct);return yield y._updateCurrentUser(it.user),it;case"reauthenticate":return U(g.user,y,"internal-error"),ti._forOperation(g.user,g.operationType,ct);default:Ie(y,"internal-error")}});return function(Oe){return le.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,u.Z)(function*(){return g.signInResolver(h)})()}}function qa(_,h){return jt(_,"POST","/v2/accounts/mfaEnrollment:start",_t(_,h))}class Ed{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Ee._fromServerResponse(h.auth,y)))})}static _fromUser(h){return new Ed(h)}getSession(){var h=this;return(0,u.Z)(function*(){return Ro._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var y=this;return(0,u.Z)(function*(){const S=h,R=yield y.getSession(),Z=yield Bn(y.user,S._process(y.user.auth,R,g));return yield y.user._updateTokensIfNecessary(Z),y.user.reload()})()}unenroll(h){var g=this;return(0,u.Z)(function*(){var y;const S="string"==typeof h?h:h.uid,R=yield g.user.getIdToken(),Z=yield Bn(g.user,function Jc(_,h){return jt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(_,h))}(g.user.auth,{idToken:R,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:le})=>le!==S),yield g.user._updateTokensIfNecessary(Z);try{yield g.user.reload()}catch(le){if("auth/user-token-expired"!==(null===(y=le)||void 0===y?void 0:y.code))throw le}})()}}const cs=new WeakMap,Oo="__sak";class Qa{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zs=(()=>{class _ extends Qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ks(){const _=(0,P.z$)();return Sn(_)||Ht(_)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Co(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const S=this.storage.getItem(y),R=this.localCache[y];S!==R&&g(y,R,S)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((le,Oe,$e)=>{this.notifyListeners(le,$e)});const S=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(S);if(g.newValue!==le)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!y)return}const R=()=>{const le=this.storage.getItem(S);!y&&this.localCache[S]===le||this.notifyListeners(S,le)},Z=this.storage.getItem(S);!function On(){return(0,P.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,y){this.localCache[g]=y;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var S=()=>super._set,R=this;return(0,u.Z)(function*(){yield S().call(R,g,y),R.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,S=this;return(0,u.Z)(function*(){const R=yield y().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var y=()=>super._remove,S=this;return(0,u.Z)(function*(){yield y().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),lr=(()=>{class _ extends Qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let eu=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(R=>R.isListeningto(g));if(y)return y;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,u.Z)(function*(){const S=g,{eventId:R,eventType:Z,data:le}=S.data,Oe=y.handlersMap[Z];if(!Oe?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:Z});const $e=Array.from(Oe).map(function(){var it=(0,u.Z)(function*(Ln){return Ln(S.origin,le)});return function(Ln){return it.apply(this,arguments)}}()),ct=yield function qs(_){return Promise.all(_.map(function(){var h=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return h.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:R,eventType:Z,response:ct})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Js(_="",h=10){let g="";for(let y=0;y<h;y++)g+=Math.floor(10*Math.random());return _+g}class Zl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,y=50){var S=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Z,le;return new Promise((Oe,$e)=>{const ct=Js("",20);R.port1.start();const it=setTimeout(()=>{$e(new Error("unsupported_event"))},y);le={messageChannel:R,onMessage(Ln){const _r=Ln;if(_r.data.eventId===ct)switch(_r.data.status){case"ack":clearTimeout(it),Z=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Oe(_r.data.response);break;default:clearTimeout(it),clearTimeout(Z),$e(new Error("invalid_response"))}}},S.handlers.add(le),R.port1.addEventListener("message",le.onMessage),S.target.postMessage({eventType:h,eventId:ct,data:g},[R.port2])}).finally(()=>{le&&S.removeMessageHandler(le)})})()}}function yn(){return window}function Xa(){return typeof yn().WorkerGlobalScope<"u"&&"function"==typeof yn().importScripts}function Qs(){return(Qs=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xr="firebaseLocalStorageDb",eo="firebaseLocalStorage",Yl="fbase_key";class xo{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xs(_,h){return _.transaction([eo],h?"readwrite":"readonly").objectStore(eo)}function ds(){const _=indexedDB.open(Xr,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(eo,{keyPath:Yl})}catch(S){g(S)}}),_.addEventListener("success",(0,u.Z)(function*(){const y=_.result;y.objectStoreNames.contains(eo)?h(y):(y.close(),yield function nu(){const _=indexedDB.deleteDatabase(Xr);return new xo(_).toPromise()}(),h(yield ds()))}))})}function Ar(_,h,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(_,h,g){const y=Xs(_,!0).put({[Yl]:h,value:g});return new xo(y).toPromise()})).apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(_,h){const g=Xs(_,!1).get(h),y=yield new xo(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function ko(_,h){const g=Xs(_,!0).delete(h);return new xo(g).toPromise()}const hs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield ds()),g.db})()}_withRetries(g){var y=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const R=yield y._openDb();return yield g(R)}catch(R){if(S++>3)throw R;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Xa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=eu._getInstance(function tl(){return Xa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,u.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,u.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var y,S;if(g.activeServiceWorker=yield function Po(){return Qs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Zl(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(y=R[0])||void 0===y?void 0:y.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,u.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function el(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ds();return yield Ar(g,Oo,"1"),yield ko(g,Oo),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,u.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(R=>Ar(R,g,y)),S.localCache[g]=y,S.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,u.Z)(function*(){const S=yield y._withRetries(R=>function nl(_,h){return ea.apply(this,arguments)}(R,g));return y.localCache[g]=S,S})()}_remove(g){var y=this;return(0,u.Z)(function*(){return y._withPendingWrite((0,u.Z)(function*(){return yield y._withRetries(S=>ko(S,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const y=yield g._withRetries(Z=>{const le=Xs(Z,!1).getAll();return new xo(le).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:Z,value:le}of y)R.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(le)&&(g.notifyListeners(Z,le),S.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!R.has(Z)&&(g.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(g,y){this.localCache[g]=y;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function fs(_,h){return jt(_,"POST","/v2/accounts/mfaSignIn:start",_t(_,h))}function to(){return(to=(0,u.Z)(function*(_){return(yield jt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gs(_){return new Promise((h,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=h,y.onerror=S=>{const R=ge("internal-error");R.customData=S,g(R)},y.type="text/javascript",y.charset="UTF-8",function ps(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(y)})}function ol(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ta=1e12;class Yt{constructor(h){this.auth=h,this.counter=ta,this._widgets=new Map}render(h,g){const y=this.counter;return this._widgets.set(y,new Jh(h,this.auth.name,g||{})),this.counter++,y}reset(h){var g;const y=h||ta;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ta))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,u.Z)(function*(){var y;return null===(y=g._widgets.get(h||ta))||void 0===y||y.execute(),""})()}}class Jh{constructor(h,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;U(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function tg(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qh=ol("rcb"),ng=new $t(3e4,6e4);class Td{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=yn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return U(function tv(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(yn().grecaptcha):new Promise((y,S)=>{const R=yn().setTimeout(()=>{S(ge(h,"network-request-failed"))},ng.get());yn()[Qh]=()=>{yn().clearTimeout(R),delete yn()[Qh];const le=yn().grecaptcha;if(!le)return void S(ge(h,"internal-error"));const Oe=le.render;le.render=($e,ct)=>{const it=Oe($e,ct);return this.counter++,it},this.hostLanguage=g,y(le)},gs(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Qh,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(ge(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=yn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ql{load(h){return(0,u.Z)(function*(){return new Yt(h)})()}clearedOneInstance(){}}const rg="recaptcha",og={theme:"light",type:"image"};class Gn{constructor(h,g=Object.assign({},og),y){this.parameters=g,this.type=rg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(y),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;U(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ql:new Td,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),y=h.getAssertedRecaptcha();return y.getResponse(g)||new Promise(R=>{const Z=le=>{!le||(h.tokenChangeListeners.delete(Z),R(le))};h.tokenChangeListeners.add(Z),h.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof h)h(g);else if("string"==typeof h){const y=yn()[h];"function"==typeof y&&y(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){U(rt()&&!Xa(),h.auth,"internal-error"),yield function rn(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function bi(_){return to.apply(this,arguments)}(h.auth);U(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Di{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=qr._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function qt(){return(qt=(0,u.Z)(function*(_,h,g){const y=nn(_),S=yield no(y,h,(0,P.m9)(g));return new Di(S,R=>sn(y,R))})).apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_);yield Mt(!1,y,"phone");const S=yield no(y.auth,h,(0,P.m9)(g));return new Di(S,R=>Va(y,R))})).apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_),S=yield no(y.auth,h,(0,P.m9)(g));return new Di(S,R=>Ba(y,R))})).apply(this,arguments)}function no(_,h,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(_,h,g){var y;const S=yield g.verify();try{let R;if(U("string"==typeof S,_,"argument-error"),U(g.type===rg,_,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const Z=R.session;if("phoneNumber"in R)return U("enroll"===Z.type,_,"internal-error"),(yield qa(_,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{U("signin"===Z.type,_,"internal-error");const le=(null===(y=R.multiFactorHint)||void 0===y?void 0:y.uid)||R.multiFactorUid;return U(le,_,"missing-multi-factor-info"),(yield fs(_,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Wh(_,{phoneNumber:R.phoneNumber,recaptchaToken:S});return Z}}finally{g._reset()}})).apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(_,h){yield rs((0,P.m9)(_),h)})).apply(this,arguments)}let ia=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=nn(g)}verifyPhoneNumber(g,y){return no(this.auth,g,(0,P.m9)(y))}static credential(g,y){return qr._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:S}=g;return y&&S?qr._fromTokenResponse(y,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function _s(_,h){return h?oe(h):(U(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Rr extends Kn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Pn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Pn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Pn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function We(_){return zi(_.auth,new Rr(_),_.bypassAuthState)}function ra(_){const{auth:h,user:g}=_;return U(g,h,"internal-error"),So(g,new Rr(_),_.bypassAuthState)}function io(_){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(_){const{auth:h,user:g}=_;return U(g,h,"internal-error"),rs(g,new Rr(_),_.bypassAuthState)})).apply(this,arguments)}class ys{constructor(h,g,y,S,R=!1){this.auth=h,this.resolver=y,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,u.Z)(function*(y,S){h.pendingPromise={resolve:y,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(y,S){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,u.Z)(function*(){const{urlResponse:y,sessionId:S,postBody:R,tenantId:Z,error:le,type:Oe}=h;if(le)return void g.reject(le);const $e={auth:g.auth,requestUri:y,sessionId:S,tenantId:Z||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)($e))}catch(ct){g.reject(ct)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return We;case"linkViaPopup":case"linkViaRedirect":return io;case"reauthViaPopup":case"reauthViaRedirect":return ra;default:Ie(this.auth,"internal-error")}}resolve(h){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xt=new $t(2e3,1e4);function ro(){return(ro=(0,u.Z)(function*(_,h,g){const y=nn(_);xe(_,h,wr);const S=_s(y,g);return new cr(y,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_);xe(y.auth,h,wr);const S=_s(y.auth,g);return new cr(y.auth,"reauthViaPopup",h,S,y).executeNotNull()})).apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_);xe(y.auth,h,wr);const S=_s(y.auth,g);return new cr(y.auth,"linkViaPopup",h,S,y).executeNotNull()})).apply(this,arguments)}let cr=(()=>{class _ extends ys{constructor(g,y,S,R,Z){super(g,y,R,Z),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const y=yield g.execute();return U(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,u.Z)(function*(){Y(1===g.filter.length,"Popup operations only handle one event");const y=Js();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,S;this.pollId=null!==(S=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Xt.get())};g()}}return _.currentPopupAction=null,_})();const Yi=new Map;class nc extends ys{constructor(h,g,y=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,u.Z)(function*(){let y=Yi.get(g.auth._key());if(!y){try{const R=(yield function Ci(_,h){return wi.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;y=()=>Promise.resolve(R)}catch(S){y=()=>Promise.reject(S)}Yi.set(g.auth._key(),y)}return g.bypassAuthState||Yi.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,y=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(y,h);if("unknown"!==h.type){if(h.eventId){const S=yield y.auth._redirectUserForId(h.eventId);if(S)return y.user=S,g().call(y,h);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function wi(){return(wi=(0,u.Z)(function*(_,h){const g=an(h),y=Or(_);if(!(yield y._isAvailable()))return!1;const S="true"===(yield y._get(g));return yield y._remove(g),S})).apply(this,arguments)}function qi(_,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(_,h){return Or(_)._set(an(h),"true")})).apply(this,arguments)}function oo(_,h){Yi.set(_._key(),h)}function Or(_){return oe(_._redirectPersistence)}function an(_){return Rn("pendingRedirect",_.config.apiKey,_.name)}function w(){return(w=(0,u.Z)(function*(_,h,g){const y=nn(_);xe(_,h,wr);const S=_s(y,g);return yield qi(S,y),S._openRedirect(y,h,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_);xe(y.auth,h,wr);const S=_s(y.auth,g);yield qi(S,y.auth);const R=yield nt(y);return S._openRedirect(y.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function be(){return(be=(0,u.Z)(function*(_,h,g){const y=(0,P.m9)(_);xe(y.auth,h,wr);const S=_s(y.auth,g);yield Mt(!1,y,h.providerId),yield qi(S,y.auth);const R=yield nt(y);return S._openRedirect(y.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(_,h){return yield nn(_)._initializationPromise,lt(_,h,!1)})).apply(this,arguments)}function lt(_,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(_,h,g=!1){const y=nn(_),S=_s(y,h),Z=yield new nc(y,S,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield y._persistUserIfCurrent(Z.user),yield y._setRedirectUser(null,h)),Z})).apply(this,arguments)}function nt(_){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(_){const h=Js(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Lo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(h,y)&&(g=!0,this.sendToConsumer(h,y),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function dr(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pt(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var y;if(h.error&&!pt(h)){const S=(null===(y=h.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,S))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const y=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&y}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(h))}saveEventToCache(h){this.cachedEventUids.add(so(h)),this.lastProcessedEventTime=Date.now()}}function so(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function pt({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function ao(_){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(_,h={}){return jt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const bs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vo=/^https?/;function Id(){return(Id=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield ao(_);for(const g of h)try{if(tf(g))return}catch{}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function tf(_){const h=Me(),{protocol:g,hostname:y}=new URL(h);if(_.startsWith("chrome-extension://")){const Z=new URL(_);return""===Z.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===y}if(!Vo.test(g))return!1;if(bs.test(_))return y===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(y)}const nf=new $t(3e4,6e4);function sg(){const _=yn().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let hr=null;function Sd(_){return hr=hr||function Fn(_){return new Promise((h,g)=>{var y,S,R;function Z(){sg(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sg(),g(ge(_,"network-request-failed"))},timeout:nf.get()})}if(null!==(S=null===(y=yn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==S&&S.Iframe)h(gapi.iframes.getContext());else{if(null===(R=yn().gapi)||void 0===R||!R.load){const le=ol("iframefcb");return yn()[le]=()=>{gapi.load?Z():g(ge(_,"network-request-failed"))},gs(`https://apis.google.com/js/api.js?onload=${le}`).catch(Oe=>g(Oe))}Z()}}).catch(h=>{throw hr=null,h})}(_),hr}const rf=new $t(5e3,15e3),ag={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sf(_){const h=_.config;U(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?gn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,y={apiKey:h.apiKey,appName:_.name,v:se.SDK_VERSION},S=Ad.get(_.config.apiHost);S&&(y.eid=S);const R=_._getFrameworks();return R.length&&(y.fw=R.join(",")),`${g}?${(0,P.xO)(y).slice(1)}`}function sa(){return sa=(0,u.Z)(function*(_){const h=yield Sd(_),g=yn().gapi;return U(g,_,"internal-error"),h.open({where:document.body,url:sf(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ag,dontclear:!0},y=>new Promise(function(){var S=(0,u.Z)(function*(R,Z){yield y.restyle({setHideOnLeave:!1});const le=ge(_,"network-request-failed"),Oe=yn().setTimeout(()=>{Z(le)},rf.get());function $e(){yn().clearTimeout(Oe),R(y)}y.ping($e).then($e,()=>{Z(le)})});return function(R,Z){return S.apply(this,arguments)}}()))}),sa.apply(this,arguments)}const iu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ic{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function su(_,h,g,y,S,R){U(_.config.authDomain,_,"auth-domain-config-required"),U(_.config.apiKey,_,"invalid-api-key");const Z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:se.SDK_VERSION,eventId:S};if(h instanceof wr){h.setDefaultLanguage(_.languageCode),Z.providerId=h.providerId||"",(0,P.xb)(h.getCustomParameters())||(Z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Oe,$e]of Object.entries(R||{}))Z[Oe]=$e}if(h instanceof Er){const Oe=h.getScopes().filter($e=>""!==$e);Oe.length>0&&(Z.scopes=Oe.join(","))}_.tenantId&&(Z.tid=_.tenantId);const le=Z;for(const Oe of Object.keys(le))void 0===le[Oe]&&delete le[Oe];return`${function au({config:_}){return _.emulator?gn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(le).slice(1)}`}const la="webStorageSupport";class fr extends class lg{constructor(h){this.factorId=h}_process(h,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,y);case"signin":return this._finalizeSignIn(h,g.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new fr(h)}_finalizeEnroll(h,g,y){return function Ja(_,h){return jt(_,"POST","/v2/accounts/mfaEnrollment:finalize",_t(_,h))}(h,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function rl(_,h){return jt(_,"POST","/v2/accounts/mfaSignIn:finalize",_t(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ds=(()=>{class _{constructor(){}static assertion(g){return fr._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Rd="@firebase/auth";class iv{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(y=>{var S;h((null===(S=y)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cs(){return window}function Od(){return(Od=(0,u.Z)(function*(_,h,g){var y;const{BuildInfo:S}=Cs();Y(h.sessionId,"AuthEvent did not contain a session ID");const R=yield hg(h.sessionId),Z={};return Ht()?Z.ibi=S.packageName:Nn()?Z.apn=S.packageName:Ie(_,"operation-not-supported-in-this-environment"),S.displayName&&(Z.appDisplayName=S.displayName),Z.sessionId=R,su(_,g,h.type,void 0,null!==(y=h.eventId)&&void 0!==y?y:void 0,Z)})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(_){const{BuildInfo:h}=Cs(),g={};Ht()?g.iosBundleId=h.packageName:Nn()?g.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield ao(_,g)})).apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(_,h,g){const{cordova:y}=Cs();let S=()=>{};try{yield new Promise((R,Z)=>{let le=null;function Oe(){var it;R();const Ln=null===(it=y.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof Ln&&Ln(),"function"==typeof g?.close&&g.close()}function $e(){le||(le=window.setTimeout(()=>{Z(ge(_,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===document?.visibilityState&&$e()}h.addPassiveListener(Oe),document.addEventListener("resume",$e,!1),Nn()&&document.addEventListener("visibilitychange",ct,!1),S=()=>{h.removePassiveListener(Oe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",ct,!1),le&&window.clearTimeout(le)}})}finally{S()}})).apply(this,arguments)}function hg(_){return hf.apply(this,arguments)}function hf(){return(hf=(0,u.Z)(function*(_){const h=sv(_),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sv(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),g=new Uint8Array(h);for(let y=0;y<_.length;y++)g[y]=_.charCodeAt(y);return g}!function ov(_){(0,se._registerComponent)(new ae.wA("auth",(h,{options:g})=>{const y=h.getProvider("app").getImmediate(),S=h.getProvider("heartbeat"),{apiKey:R,authDomain:Z}=y.options;return((le,Oe)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:le.name}),U(!Z?.includes(":"),"argument-error",{appName:le.name});const $e={apiKey:R,authDomain:Z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wr(_)},ct=new yt(le,Oe,$e);return function Re(_,h){const g=h?.persistence||[],y=(Array.isArray(g)?g:[g]).map(oe);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(y,h?.popupRedirectResolver)}(ct,g),ct})(y,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,y)=>{h.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ae.wA("auth-internal",h=>{const g=nn(h.getProvider("auth").getImmediate());return new iv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Rd,"0.20.7",function rv(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(Rd,"0.20.7","esm2017")}("Browser");class ua extends Lo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,u.Z)(function*(){yield h.initPromise})()}}function ff(_){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(_){const h=yield Pd()._get(xd(_));return h&&(yield Pd()._remove(xd(_))),h})).apply(this,arguments)}function cl(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const y=Math.floor(Math.random()*h.length);_.push(h.charAt(y))}return _.join("")}function Pd(){return oe(Zs)}function xd(_){return Rn("authEvent",_.config.apiKey,_.name)}function ul(_){if(!_?.includes("?"))return{};const[h,...g]=_.split("?");return(0,P.zd)(g.join("?"))}function gf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Pr(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Ld(_=(0,P.z$)()){return!("file:"!==Pr()&&"ionic:"!==Pr()&&"capacitor:"!==Pr()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function hu(){try{const _=self.localStorage,h=Js();if(_)return _.setItem(h,"1"),_.removeItem(h),!function lc(_=(0,P.z$)()){return function lv(){return(0,P.w1)()&&11===document?.documentMode}()||function cv(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch{return fu()&&(0,P.hl)()}return!1}function fu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pu(){return(function du(){return"http:"===Pr()||"https:"===Pr()}()||(0,P.ru)()||Ld())&&!function pg(){return(0,P.b$)()||(0,P.UG)()}()&&hu()&&!fu()}function Vd(){return Ld()&&typeof document<"u"}function gu(){return(gu=(0,u.Z)(function*(){return!!Vd()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const ui={LOCAL:"local",NONE:"none",SESSION:"session"},mu=U,Bd="persistence";function dl(_){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(_){yield _._initializationPromise;const h=Ud(),g=Rn(Bd,_.config.apiKey,_.name);h&&h.setItem(g,_._getPersistence())})).apply(this,arguments)}function Ud(){var _;try{return(null===(_=function _f(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const _u=U;class xr{constructor(){this.browserResolver=oe(class cf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=lt,this._overrideRedirectResult=oo}_openPopup(h,g,y,S){var R=this;return(0,u.Z)(function*(){var Z;Y(null===(Z=R.eventManagers[h._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=su(h,g,y,Me(),S);return function Uo(_,h,g,y=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-y)/2,0).toString();let le="";const Oe=Object.assign(Object.assign({},iu),{width:y.toString(),height:S.toString(),top:R,left:Z}),$e=(0,P.z$)().toLowerCase();g&&(le=ir($e)?"_blank":g),tn($e)&&(h=h||"http://localhost",Oe.scrollbars="yes");const ct=Object.entries(Oe).reduce((Ln,[_r,fl])=>`${Ln}${_r}=${fl},`,"");if(function Gi(_=(0,P.z$)()){var h;return Ht(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}($e)&&"_self"!==le)return function lf(_,h){const g=document.createElement("a");g.href=_,g.target=h;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(h||"",le),new ic(null);const it=window.open(h||"",le,ct);U(it,_,"popup-blocked");try{it.focus()}catch{}return new ic(it)}(h,le,Js())})()}_openRedirect(h,g,y,S){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(h),function Ki(_){yn().location.href=_}(su(h,g,y,Me(),S)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(Y(R,"If manager is not set, promise should be"),R)}const y=this.initAndGetManager(h);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(h){var g=this;return(0,u.Z)(function*(){const y=yield function af(_){return sa.apply(this,arguments)}(h),S=new Lo(h);return y.register("authEvent",R=>(U(R?.authEvent,h,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:S},g.iframes[h._key()]=y,S})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(la,{type:la},S=>{var R;const Z=null===(R=S?.[0])||void 0===R?void 0:R[la];void 0!==Z&&g(!!Z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ji(_){return Id.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Co()||Sn()||Ht()}}),this.cordovaResolver=oe(class fg{constructor(){this._redirectPersistence=lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lt,this._overrideRedirectResult=oo}_initialize(h){var g=this;return(0,u.Z)(function*(){const y=h._key();let S=g.eventManagers.get(y);return S||(S=new ua(h),g.eventManagers.set(y,S),g.attachCallbackListeners(h,S)),S})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,y,S){var R=this;return(0,u.Z)(function*(){!function lu(_){var h,g,y,S,R,Z,le,Oe,$e,ct;const it=Cs();U("function"==typeof(null===(h=it?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=it?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(S=null===(y=it?.cordova)||void 0===y?void 0:y.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Oe=null===(le=null===(Z=it?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===le?void 0:le.browsertab)||void 0===Oe?void 0:Oe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(ct=null===($e=it?.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===ct?void 0:ct.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Z=yield R._initialize(h);yield Z.initialized(),Z.resetRedirect(),function kn(){Yi.clear()}(),yield R._originValidation(h);const le=function da(_,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:cl(),postBody:null,tenantId:_.tenantId,error:ge(_,"no-auth-event")}}(h,y,S);yield function sc(_,h){return Pd()._set(xd(_),h)}(h,le);const Oe=yield function ug(_,h,g){return Od.apply(this,arguments)}(h,le,g),$e=yield function pr(_){const{cordova:h}=Cs();return new Promise(g=>{h.plugins.browsertab.isAvailable(y=>{let S=null;y?h.plugins.browsertab.openUrl(_):S=h.InAppBrowser.open(_,function Mi(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Oe);return function oc(_,h,g){return lo.apply(this,arguments)}(h,Z,$e)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function dg(_){return ca.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:y,handleOpenURL:S,BuildInfo:R}=Cs(),Z=setTimeout((0,u.Z)(function*(){yield ff(h),g.onEvent(gf())}),500),le=function(){var ct=(0,u.Z)(function*(it){clearTimeout(Z);const Ln=yield ff(h);let _r=null;Ln&&it?.url&&(_r=function pf(_,h){var g,y;const S=function cu(_){const h=ul(_),g=h.link?decodeURIComponent(h.link):void 0,y=ul(g).link,S=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ul(S).link||S||y||g||_}(h);if(S.includes("/__/auth/callback")){const R=ul(S),Z=R.firebaseError?function kd(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,le=null===(y=null===(g=Z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===y?void 0:y[1],Oe=le?ge(le):null;return Oe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Ln,it.url)),g.onEvent(_r||gf())});return function(Ln){return ct.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,le);const Oe=S,$e=`${R.packageName.toLowerCase()}://`;Cs().handleOpenURL=function(){var ct=(0,u.Z)(function*(it){if(it.toLowerCase().startsWith($e)&&le({url:it}),"function"==typeof Oe)try{Oe(it)}catch(Ln){console.error(Ln)}});return function(it){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lr,this._completeRedirectFn=lt,this._overrideRedirectResult=oo}_initialize(h){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,y,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,g,y,S)})()}_openRedirect(h,g,y,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,g,y,S)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Vd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _u(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,u.Z)(function*(){if(h.underlyingResolver)return;const g=yield function gg(){return gu.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function ws(_){return _.unwrap()}function yu(_){return bu(_)}function bu(_){const{_tokenResponse:h}=_ instanceof P.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ia.credentialFromResult(_);const g=h.providerId;if(!g||"password"===g)return null;let y;switch(g){case"google.com":y=Oa;break;case"facebook.com":y=Bs;break;case"github.com":y=Ol;break;case"twitter.com":y=vi;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:Z,pendingToken:le,nonce:Oe}=h;return R||Z||S||le?le?g.startsWith("saml.")?jn._create(g,le):Cr._fromParams({providerId:g,signInMethod:g,pendingToken:le,idToken:S,accessToken:R}):new Io(g).credential({idToken:S,accessToken:R,rawNonce:Oe}):null}return _ instanceof P.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function Yn(_,h){return h.catch(g=>{throw g instanceof P.ZR&&function uo(_,h){var g,y;const S=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(y=h)||void 0===y?void 0:y.code))h.resolver=new Cu(_,function hn(_,h){var g;const y=(0,P.m9)(_),S=h;return U(h.customData.operationType,y,"argument-error"),U(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),Ya._fromError(y,S)}(_,h));else if(S){const R=bu(h),Z=h;R&&(Z.credential=R,Z.tenantId=S.tenantId||void 0,Z.email=S.email||void 0,Z.phoneNumber=S.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:yu(g),additionalUserInfo:Za(g),user:ki.getOrCreate(S)}})}function Du(_,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(_,h){const g=yield h;return{verificationId:g.verificationId,confirm:y=>Yn(_,g.confirm(y))}})).apply(this,arguments)}class Cu{constructor(h,g){this.resolver=g,this.auth=function vu(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Yn(ws(this.auth),this.resolver.resolveSignIn(h))}}class ki{constructor(h){this._delegate=h,this.multiFactor=function us(_){const h=(0,P.m9)(_);return cs.has(h)||cs.set(h,Ed._fromUser(h)),cs.get(h)}(h)}static getOrCreate(h){return ki.USER_MAP.has(h)||ki.USER_MAP.set(h,new ki(h)),ki.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,u.Z)(function*(){return Yn(g.auth,Va(g._delegate,h))})()}linkWithPhoneNumber(h,g){var y=this;return(0,u.Z)(function*(){return Du(y.auth,function Bt(_,h,g){return Zi.apply(this,arguments)}(y._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,u.Z)(function*(){return Yn(g.auth,function al(_,h,g){return oa.apply(this,arguments)}(g._delegate,h,xr))})()}linkWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield dl(nn(g.auth)),function J(_,h,g){return function ie(_,h,g){return be.apply(this,arguments)}(_,h,g)}(g._delegate,h,xr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,u.Z)(function*(){return Yn(g.auth,Ba(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Du(this.auth,function na(_,h,g){return bn.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Yn(this.auth,function ef(_,h,g){return tc.apply(this,arguments)}(this._delegate,h,xr))}reauthenticateWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield dl(nn(g.auth)),function E(_,h,g){return function N(_,h,g){return L.apply(this,arguments)}(_,h,g)}(g._delegate,h,xr)})()}sendEmailVerification(h){return function Ul(_,h){return zs.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,u.Z)(function*(){return yield function li(_,h){return xa.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function zc(_,h){return Mo((0,P.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Ao(_,h){return Mo((0,P.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Xh(_,h){return Xl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function $l(_,h){return Gl.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Hl(_,h,g){return Wa.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ki.USER_MAP=new WeakMap;const Ho=U;let vf=(()=>{class _{constructor(g,y){if(this.app=g,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Ho(S,"invalid-api-key",{appName:g.name}),Ho(S,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?xr:void 0;this._delegate=y.initialize({options:{persistence:Hd(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ki.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,y){!function Tl(_,h,g){const y=nn(_);U(y._canInitEmulator,y,"emulator-config-failed"),U(/^https?:\/\//.test(h),y,"invalid-emulator-scheme");const S=!!g?.disableWarnings,R=rr(h),{host:Z,port:le}=function An(_){const h=rr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(y);if(S){const R=S[1];return{host:R,port:zr(y.substr(R.length+1))}}{const[R,Z]=y.split(":");return{host:R,port:zr(Z)}}}(h);y.config.emulator={url:`${R}//${Z}${null===le?"":`:${le}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:Z,port:le,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Kr(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,y)}applyActionCode(g){return function Pi(_,h){return Hs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return js(this._delegate,g)}confirmPasswordReset(g,y){return function $a(_,h,g){return os.apply(this,arguments)}(this._delegate,g,y)}createUserWithEmailAndPassword(g,y){var S=this;return(0,u.Z)(function*(){return Yn(S._delegate,function $s(_,h,g){return dn.apply(this,arguments)}(S._delegate,g,y))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Ga(_,h){return Ws.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Nr(_,h){return"EMAIL_SIGNIN"===Ra.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Ho(pu(),g._delegate,"operation-not-supported-in-this-environment");const y=yield function Ae(_,h){return Ke.apply(this,arguments)}(g._delegate,xr);return y?Yn(g._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function mf(_,h){nn(_)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,y,S){const{next:R,error:Z,complete:le}=yf(g,y,S);return this._delegate.onAuthStateChanged(R,Z,le)}onIdTokenChanged(g,y,S){const{next:R,error:Z,complete:le}=yf(g,y,S);return this._delegate.onIdTokenChanged(R,Z,le)}sendSignInLinkToEmail(g,y){return function Vl(_,h,g){return No.apply(this,arguments)}(this._delegate,g,y)}sendPasswordResetEmail(g,y){return function ja(_,h,g){return un.apply(this,arguments)}(this._delegate,g,y||void 0)}setPersistence(g){var y=this;return(0,u.Z)(function*(){let S;switch(function cc(_,h){mu(Object.values(ui).includes(h),_,"invalid-persistence-type"),(0,P.b$)()?mu(h!==ui.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?mu(h===ui.NONE,_,"unsupported-persistence-type"):fu()?mu(h===ui.NONE||h===ui.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):mu(h===ui.NONE||hu(),_,"unsupported-persistence-type")}(y._delegate,g),g){case ui.SESSION:S=lr;break;case ui.LOCAL:S=(yield oe(hs)._isAvailable())?hs:Zs;break;case ui.NONE:S=Vt;break;default:return Ie("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Yn(this._delegate,function bd(_){return cn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Yn(this._delegate,sn(this._delegate,g))}signInWithCustomToken(g){return Yn(this._delegate,function kl(_,h){return Us.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,y){return Yn(this._delegate,function ar(_,h,g){return sn((0,P.m9)(_),sr.credential(h,g))}(this._delegate,g,y))}signInWithEmailLink(g,y){return Yn(this._delegate,function Yh(_,h,g){return Gs.apply(this,arguments)}(this._delegate,g,y))}signInWithPhoneNumber(g,y){return Du(this._delegate,function Ze(_,h,g){return qt.apply(this,arguments)}(this._delegate,g,y))}signInWithPopup(g){var y=this;return(0,u.Z)(function*(){return Ho(pu(),y._delegate,"operation-not-supported-in-this-environment"),Yn(y._delegate,function ec(_,h,g){return ro.apply(this,arguments)}(y._delegate,g,xr))})()}signInWithRedirect(g){var y=this;return(0,u.Z)(function*(){return Ho(pu(),y._delegate,"operation-not-supported-in-this-environment"),yield dl(y._delegate),function It(_,h,g){return function ll(_,h,g){return w.apply(this,arguments)}(_,h,g)}(y._delegate,g,xr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ll(_,h){return Wc.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ui,_})();function yf(_,h,g){let y=_;"function"!=typeof _&&({next:y,error:h,complete:g}=_);const S=y;return{next:Z=>S(Z&&ki.getOrCreate(Z)),error:h,complete:g}}function Hd(_,h){const g=function mr(_,h){const g=Ud();if(!g)return[];const y=Rn(Bd,_,h);switch(g.getItem(y)){case ui.NONE:return[Vt];case ui.LOCAL:return[hs,lr];case ui.SESSION:return[lr];default:return[]}}(_,h);if(typeof self<"u"&&!g.includes(hs)&&g.push(hs),typeof window<"u")for(const y of[Zs,lr])g.includes(y)||g.push(y);return g.includes(Vt)||g.push(Vt),g}class hl{constructor(){this.providerId="phone",this._delegate=new ia(ws(X.Z.auth()))}static credential(h,g){return ia.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}hl.PHONE_SIGN_IN_METHOD=ia.PHONE_SIGN_IN_METHOD,hl.PROVIDER_ID=ia.PROVIDER_ID;const bf=U;class jd{constructor(h,g,y=X.Z.app()){var S;bf(null===(S=y.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Gn(h,g,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cf(_){_.INTERNAL.registerComponent(new ae.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),y=h.getProvider("auth");return new vf(g,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:sr,FacebookAuthProvider:Bs,GithubAuthProvider:Ol,GoogleAuthProvider:Oa,OAuthProvider:Io,SAMLAuthProvider:Ri,PhoneAuthProvider:hl,PhoneMultiFactorGenerator:Ds,RecaptchaVerifier:jd,TwitterAuthProvider:vi,Auth:vf,AuthCredential:Kn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.20")}(X.Z)},9751:(Qe,Ce,x)=>{x.d(Ce,{y:()=>ue});var u=x(930),X=x(727),P=x(8822),se=x(9635),re=x(2416),ce=x(576),ae=x(2806);let ue=(()=>{class q{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const _e=new q;return _e.source=this,_e.operator=Se,_e}subscribe(Se,_e,Ge){const pe=function $(q){return q&&q instanceof u.Lv||function H(q){return q&&(0,ce.m)(q.next)&&(0,ce.m)(q.error)&&(0,ce.m)(q.complete)}(q)&&(0,X.Nn)(q)}(Se)?Se:new u.Hp(Se,_e,Ge);return(0,ae.x)(()=>{const{operator:de,source:je}=this;pe.add(de?de.call(pe,je):je?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Se){try{return this._subscribe(Se)}catch(_e){Se.error(_e)}}forEach(Se,_e){return new(_e=he(_e))((Ge,pe)=>{const de=new u.Hp({next:je=>{try{Se(je)}catch(qe){pe(qe),de.unsubscribe()}},error:pe,complete:Ge});this.subscribe(de)})}_subscribe(Se){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Se)}[P.L](){return this}pipe(...Se){return(0,se.U)(Se)(this)}toPromise(Se){return new(Se=he(Se))((_e,Ge)=>{let pe;this.subscribe(de=>pe=de,de=>Ge(de),()=>_e(pe))})}}return q.create=Pe=>new q(Pe),q})();function he(q){var Pe;return null!==(Pe=q??re.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(Qe,Ce,x)=>{x.d(Ce,{x:()=>ae});var u=x(9751),X=x(727);const se=(0,x(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=x(8737),ce=x(2806);let ae=(()=>{class he extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const q=new ue(this,this);return q.operator=$,q}_throwIfClosed(){if(this.closed)throw new se}next($){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next($)}})}error($){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:q}=this;for(;q.length;)q.shift().error($)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:q,isStopped:Pe,observers:Se}=this;return q||Pe?X.Lc:(this.currentObservers=null,Se.push($),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Se,$)}))}_checkFinalizedStatuses($){const{hasError:q,thrownError:Pe,isStopped:Se}=this;q?$.error(Pe):Se&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return he.create=(H,$)=>new ue(H,$),he})();class ue extends ae{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===q||q.call($,H)}error(H){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===q||q.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,q;return null!==(q=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==q?q:X.Lc}}},930:(Qe,Ce,x)=>{x.d(Ce,{Hp:()=>Ge,Lv:()=>q});var u=x(576),X=x(727),P=x(2416),se=x(7849),re=x(5032);const ce=he("C",void 0,void 0);function he(Ie,ge,De){return{kind:Ie,value:ge,error:De}}var H=x(3410),$=x(2806);class q extends X.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,X.Nn)(ge)&&ge.add(this)):this.destination=qe}static create(ge,De,xe){return new Ge(ge,De,xe)}next(ge){this.isStopped?je(function ue(Ie){return he("N",Ie,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?je(function ae(Ie){return he("E",void 0,Ie)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?je(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Se(Ie,ge){return Pe.call(Ie,ge)}class _e{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:De}=this;if(De.next)try{De.next(ge)}catch(xe){pe(xe)}}error(ge){const{partialObserver:De}=this;if(De.error)try{De.error(ge)}catch(xe){pe(xe)}else pe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(De){pe(De)}}}class Ge extends q{constructor(ge,De,xe){let Ve;if(super(),(0,u.m)(ge)||!ge)Ve={next:ge??void 0,error:De??void 0,complete:xe??void 0};else{let U;this&&P.v.useDeprecatedNextContext?(U=Object.create(ge),U.unsubscribe=()=>this.unsubscribe(),Ve={next:ge.next&&Se(ge.next,U),error:ge.error&&Se(ge.error,U),complete:ge.complete&&Se(ge.complete,U)}):Ve=ge}this.destination=new _e(Ve)}}function pe(Ie){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ie):(0,se.h)(Ie)}function je(Ie,ge){const{onStoppedNotification:De}=P.v;De&&H.z.setTimeout(()=>De(Ie,ge))}const qe={closed:!0,next:re.Z,error:function de(Ie){throw Ie},complete:re.Z}},727:(Qe,Ce,x)=>{x.d(Ce,{Lc:()=>ce,w0:()=>re,Nn:()=>ae});var u=x(576);const P=(0,x(3888).d)(he=>function($){he(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((q,Pe)=>`${Pe+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var se=x(8737);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Se of $)Se.remove(this);else $.remove(this);const{initialTeardown:q}=this;if((0,u.m)(q))try{q()}catch(Se){H=Se instanceof P?Se.errors:[Se]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Se of Pe)try{ue(Se)}catch(_e){H=H??[],_e instanceof P?H=[...H,..._e.errors]:H.push(_e)}}if(H)throw new P(H)}}add(H){var $;if(H&&H!==this)if(this.closed)ue(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,se.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,se.P)($,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const he=new re;return he.closed=!0,he})();const ce=re.EMPTY;function ae(he){return he instanceof re||he&&"closed"in he&&(0,u.m)(he.remove)&&(0,u.m)(he.add)&&(0,u.m)(he.unsubscribe)}function ue(he){(0,u.m)(he)?he():he.unsubscribe()}},2416:(Qe,Ce,x)=>{x.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Qe,Ce,x)=>{x.d(Ce,{E:()=>X});const X=new(x(9751).y)(re=>re.complete())},8996:(Qe,Ce,x)=>{x.d(Ce,{D:()=>ge});var u=x(8421),X=x(5363),P=x(9468),ce=x(9751),ue=x(2202),he=x(576),H=x(9672);function q(De,xe){if(!De)throw new Error("Iterable cannot be null");return new ce.y(Ve=>{(0,H.f)(Ve,xe,()=>{const U=De[Symbol.asyncIterator]();(0,H.f)(Ve,xe,()=>{U.next().then(fe=>{fe.done?Ve.complete():Ve.next(fe.value)})},0,!0)})})}var Pe=x(3670),Se=x(8239),_e=x(1144),Ge=x(6495),pe=x(2206),de=x(4532),je=x(3260);function ge(De,xe){return xe?function Ie(De,xe){if(null!=De){if((0,Pe.c)(De))return function se(De,xe){return(0,u.Xf)(De).pipe((0,P.R)(xe),(0,X.Q)(xe))}(De,xe);if((0,_e.z)(De))return function ae(De,xe){return new ce.y(Ve=>{let U=0;return xe.schedule(function(){U===De.length?Ve.complete():(Ve.next(De[U++]),Ve.closed||this.schedule())})})}(De,xe);if((0,Se.t)(De))return function re(De,xe){return(0,u.Xf)(De).pipe((0,P.R)(xe),(0,X.Q)(xe))}(De,xe);if((0,pe.D)(De))return q(De,xe);if((0,Ge.T)(De))return function $(De,xe){return new ce.y(Ve=>{let U;return(0,H.f)(Ve,xe,()=>{U=De[ue.h](),(0,H.f)(Ve,xe,()=>{let fe,Y;try{({value:fe,done:Y}=U.next())}catch(ee){return void Ve.error(ee)}Y?Ve.complete():Ve.next(fe)},0,!0)}),()=>(0,he.m)(U?.return)&&U.return()})}(De,xe);if((0,je.L)(De))return function qe(De,xe){return q((0,je.Q)(De),xe)}(De,xe)}throw(0,de.z)(De)}(De,xe):(0,u.Xf)(De)}},8421:(Qe,Ce,x)=>{x.d(Ce,{Xf:()=>Pe});var u=x(655),X=x(1144),P=x(8239),se=x(9751),re=x(3670),ce=x(2206),ae=x(4532),ue=x(6495),he=x(3260),H=x(576),$=x(7849),q=x(8822);function Pe(Ie){if(Ie instanceof se.y)return Ie;if(null!=Ie){if((0,re.c)(Ie))return function Se(Ie){return new se.y(ge=>{const De=Ie[q.L]();if((0,H.m)(De.subscribe))return De.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,X.z)(Ie))return function _e(Ie){return new se.y(ge=>{for(let De=0;De<Ie.length&&!ge.closed;De++)ge.next(Ie[De]);ge.complete()})}(Ie);if((0,P.t)(Ie))return function Ge(Ie){return new se.y(ge=>{Ie.then(De=>{ge.closed||(ge.next(De),ge.complete())},De=>ge.error(De)).then(null,$.h)})}(Ie);if((0,ce.D)(Ie))return de(Ie);if((0,ue.T)(Ie))return function pe(Ie){return new se.y(ge=>{for(const De of Ie)if(ge.next(De),ge.closed)return;ge.complete()})}(Ie);if((0,he.L)(Ie))return function je(Ie){return de((0,he.Q)(Ie))}(Ie)}throw(0,ae.z)(Ie)}function de(Ie){return new se.y(ge=>{(function qe(Ie,ge){var De,xe,Ve,U;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Ie);!(xe=yield De.next()).done;)if(ge.next(xe.value),ge.closed)return}catch(fe){Ve={error:fe}}finally{try{xe&&!xe.done&&(U=De.return)&&(yield U.call(De))}finally{if(Ve)throw Ve.error}}ge.complete()})})(Ie,ge).catch(De=>ge.error(De))})}},6451:(Qe,Ce,x)=>{x.d(Ce,{T:()=>ce});var u=x(8189),X=x(8421),P=x(515),se=x(3269),re=x(8996);function ce(...ae){const ue=(0,se.yG)(ae),he=(0,se._6)(ae,1/0),H=ae;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,u.J)(he)((0,re.D)(H,ue)):P.E}},5403:(Qe,Ce,x)=>{x.d(Ce,{x:()=>X});var u=x(930);function X(se,re,ce,ae,ue){return new P(se,re,ce,ae,ue)}class P extends u.Lv{constructor(re,ce,ae,ue,he,H){super(re),this.onFinalize=he,this.shouldUnsubscribe=H,this._next=ce?function($){try{ce($)}catch(q){re.error(q)}}:super._next,this._error=ue?function($){try{ue($)}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch($){re.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Qe,Ce,x)=>{x.d(Ce,{U:()=>P});var u=x(4482),X=x(5403);function P(se,re){return(0,u.e)((ce,ae)=>{let ue=0;ce.subscribe((0,X.x)(ae,he=>{ae.next(se.call(re,he,ue++))}))})}},8189:(Qe,Ce,x)=>{x.d(Ce,{J:()=>P});var u=x(5577),X=x(4671);function P(se=1/0){return(0,u.z)(X.y,se)}},5577:(Qe,Ce,x)=>{x.d(Ce,{z:()=>ue});var u=x(4004),X=x(8421),P=x(4482),se=x(9672),re=x(5403),ae=x(576);function ue(he,H,$=1/0){return(0,ae.m)(H)?ue((q,Pe)=>(0,u.U)((Se,_e)=>H(q,Se,Pe,_e))((0,X.Xf)(he(q,Pe))),$):("number"==typeof H&&($=H),(0,P.e)((q,Pe)=>function ce(he,H,$,q,Pe,Se,_e,Ge){const pe=[];let de=0,je=0,qe=!1;const Ie=()=>{qe&&!pe.length&&!de&&H.complete()},ge=xe=>de<q?De(xe):pe.push(xe),De=xe=>{Se&&H.next(xe),de++;let Ve=!1;(0,X.Xf)($(xe,je++)).subscribe((0,re.x)(H,U=>{Pe?.(U),Se?ge(U):H.next(U)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(de--;pe.length&&de<q;){const U=pe.shift();_e?(0,se.f)(H,_e,()=>De(U)):De(U)}Ie()}catch(U){H.error(U)}}))};return he.subscribe((0,re.x)(H,ge,()=>{qe=!0,Ie()})),()=>{Ge?.()}}(q,Pe,he,$)))}},5363:(Qe,Ce,x)=>{x.d(Ce,{Q:()=>se});var u=x(9672),X=x(4482),P=x(5403);function se(re,ce=0){return(0,X.e)((ae,ue)=>{ae.subscribe((0,P.x)(ue,he=>(0,u.f)(ue,re,()=>ue.next(he),ce),()=>(0,u.f)(ue,re,()=>ue.complete(),ce),he=>(0,u.f)(ue,re,()=>ue.error(he),ce)))})}},3099:(Qe,Ce,x)=>{x.d(Ce,{B:()=>re});var u=x(8421),X=x(7579),P=x(930),se=x(4482);function re(ae={}){const{connector:ue=(()=>new X.x),resetOnError:he=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=ae;return q=>{let Pe,Se,_e,Ge=0,pe=!1,de=!1;const je=()=>{Se?.unsubscribe(),Se=void 0},qe=()=>{je(),Pe=_e=void 0,pe=de=!1},Ie=()=>{const ge=Pe;qe(),ge?.unsubscribe()};return(0,se.e)((ge,De)=>{Ge++,!de&&!pe&&je();const xe=_e=_e??ue();De.add(()=>{Ge--,0===Ge&&!de&&!pe&&(Se=ce(Ie,$))}),xe.subscribe(De),!Pe&&Ge>0&&(Pe=new P.Hp({next:Ve=>xe.next(Ve),error:Ve=>{de=!0,je(),Se=ce(qe,he,Ve),xe.error(Ve)},complete:()=>{pe=!0,je(),Se=ce(qe,H),xe.complete()}}),(0,u.Xf)(ge).subscribe(Pe))})(q)}}function ce(ae,ue,...he){if(!0===ue)return void ae();if(!1===ue)return;const H=new P.Hp({next:()=>{H.unsubscribe(),ae()}});return ue(...he).subscribe(H)}},9468:(Qe,Ce,x)=>{x.d(Ce,{R:()=>X});var u=x(4482);function X(P,se=0){return(0,u.e)((re,ce)=>{ce.add(P.schedule(()=>re.subscribe(ce),se))})}},8505:(Qe,Ce,x)=>{x.d(Ce,{b:()=>re});var u=x(576),X=x(4482),P=x(5403),se=x(4671);function re(ce,ae,ue){const he=(0,u.m)(ce)||ae||ue?{next:ce,error:ae,complete:ue}:ce;return he?(0,X.e)((H,$)=>{var q;null===(q=he.subscribe)||void 0===q||q.call(he);let Pe=!0;H.subscribe((0,P.x)($,Se=>{var _e;null===(_e=he.next)||void 0===_e||_e.call(he,Se),$.next(Se)},()=>{var Se;Pe=!1,null===(Se=he.complete)||void 0===Se||Se.call(he),$.complete()},Se=>{var _e;Pe=!1,null===(_e=he.error)||void 0===_e||_e.call(he,Se),$.error(Se)},()=>{var Se,_e;Pe&&(null===(Se=he.unsubscribe)||void 0===Se||Se.call(he)),null===(_e=he.finalize)||void 0===_e||_e.call(he)}))}):se.y}},4408:(Qe,Ce,x)=>{x.d(Ce,{o:()=>re});var u=x(727);class X extends u.w0{constructor(ae,ue){super()}schedule(ae,ue=0){return this}}const P={setInterval(ce,ae,...ue){const{delegate:he}=P;return he?.setInterval?he.setInterval(ce,ae,...ue):setInterval(ce,ae,...ue)},clearInterval(ce){const{delegate:ae}=P;return(ae?.clearInterval||clearInterval)(ce)},delegate:void 0};var se=x(8737);class re extends X{constructor(ae,ue){super(ae,ue),this.scheduler=ae,this.work=ue,this.pending=!1}schedule(ae,ue=0){if(this.closed)return this;this.state=ae;const he=this.id,H=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(H,he,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(H,this.id,ue),this}requestAsyncId(ae,ue,he=0){return P.setInterval(ae.flush.bind(ae,this),he)}recycleAsyncId(ae,ue,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ue;P.clearInterval(ue)}execute(ae,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ae,ue);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ue){let H,he=!1;try{this.work(ae)}catch($){he=!0,H=$||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ae,scheduler:ue}=this,{actions:he}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(he,this),null!=ae&&(this.id=this.recycleAsyncId(ue,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qe,Ce,x)=>{x.d(Ce,{v:()=>P});var u=x(6063);class X{constructor(re,ce=X.now){this.schedulerActionCtor=re,this.now=ce}schedule(re,ce=0,ae){return new this.schedulerActionCtor(this,re).schedule(ae,ce)}}X.now=u.l.now;class P extends X{constructor(re,ce=X.now){super(re,ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:ce}=this;if(this._active)return void ce.push(re);let ae;this._active=!0;do{if(ae=re.execute(re.state,re.delay))break}while(re=ce.shift());if(this._active=!1,ae){for(;re=ce.shift();)re.unsubscribe();throw ae}}}},4986:(Qe,Ce,x)=>{x.d(Ce,{P:()=>se,z:()=>P});var u=x(4408);const P=new(x(7565).v)(u.o),se=P},6063:(Qe,Ce,x)=>{x.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Qe,Ce,x)=>{x.d(Ce,{z:()=>u});const u={setTimeout(X,P,...se){const{delegate:re}=u;return re?.setTimeout?re.setTimeout(X,P,...se):setTimeout(X,P,...se)},clearTimeout(X){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(Qe,Ce,x)=>{x.d(Ce,{h:()=>X});const X=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qe,Ce,x)=>{x.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Qe,Ce,x)=>{x.d(Ce,{_6:()=>ce,jO:()=>se,yG:()=>re});var u=x(576),X=x(3532);function P(ae){return ae[ae.length-1]}function se(ae){return(0,u.m)(P(ae))?ae.pop():void 0}function re(ae){return(0,X.K)(P(ae))?ae.pop():void 0}function ce(ae,ue){return"number"==typeof P(ae)?ae.pop():ue}},8737:(Qe,Ce,x)=>{function u(X,P){if(X){const se=X.indexOf(P);0<=se&&X.splice(se,1)}}x.d(Ce,{P:()=>u})},3888:(Qe,Ce,x)=>{function u(X){const se=X(re=>{Error.call(re),re.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}x.d(Ce,{d:()=>u})},2806:(Qe,Ce,x)=>{x.d(Ce,{O:()=>se,x:()=>P});var u=x(2416);let X=null;function P(re){if(u.v.useDeprecatedSynchronousErrorHandling){const ce=!X;if(ce&&(X={errorThrown:!1,error:null}),re(),ce){const{errorThrown:ae,error:ue}=X;if(X=null,ae)throw ue}}else re()}function se(re){u.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},9672:(Qe,Ce,x)=>{function u(X,P,se,re=0,ce=!1){const ae=P.schedule(function(){se(),ce?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ae),!ce)return ae}x.d(Ce,{f:()=>u})},4671:(Qe,Ce,x)=>{function u(X){return X}x.d(Ce,{y:()=>u})},1144:(Qe,Ce,x)=>{x.d(Ce,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Qe,Ce,x)=>{x.d(Ce,{D:()=>X});var u=x(576);function X(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(Qe,Ce,x)=>{function u(X){return"function"==typeof X}x.d(Ce,{m:()=>u})},3670:(Qe,Ce,x)=>{x.d(Ce,{c:()=>P});var u=x(8822),X=x(576);function P(se){return(0,X.m)(se[u.L])}},6495:(Qe,Ce,x)=>{x.d(Ce,{T:()=>P});var u=x(2202),X=x(576);function P(se){return(0,X.m)(se?.[u.h])}},8239:(Qe,Ce,x)=>{x.d(Ce,{t:()=>X});var u=x(576);function X(P){return(0,u.m)(P?.then)}},3260:(Qe,Ce,x)=>{x.d(Ce,{L:()=>se,Q:()=>P});var u=x(655),X=x(576);function P(re){return(0,u.FC)(this,arguments,function*(){const ae=re.getReader();try{for(;;){const{value:ue,done:he}=yield(0,u.qq)(ae.read());if(he)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ue)}}finally{ae.releaseLock()}})}function se(re){return(0,X.m)(re?.getReader)}},3532:(Qe,Ce,x)=>{x.d(Ce,{K:()=>X});var u=x(576);function X(P){return P&&(0,u.m)(P.schedule)}},4482:(Qe,Ce,x)=>{x.d(Ce,{A:()=>X,e:()=>P});var u=x(576);function X(se){return(0,u.m)(se?.lift)}function P(se){return re=>{if(X(re))return re.lift(function(ce){try{return se(ce,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Qe,Ce,x)=>{function u(){}x.d(Ce,{Z:()=>u})},9635:(Qe,Ce,x)=>{x.d(Ce,{U:()=>P,z:()=>X});var u=x(4671);function X(...se){return P(se)}function P(se){return 0===se.length?u.y:1===se.length?se[0]:function(ce){return se.reduce((ae,ue)=>ue(ae),ce)}}},7849:(Qe,Ce,x)=>{x.d(Ce,{h:()=>P});var u=x(2416),X=x(3410);function P(se){X.z.setTimeout(()=>{const{onUnhandledError:re}=u.v;if(!re)throw se;re(se)})}},4532:(Qe,Ce,x)=>{function u(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ce,{z:()=>u})},655:(Qe,Ce,x)=>{function se(Y,ee){var oe={};for(var ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&ee.indexOf(ne)<0&&(oe[ne]=Y[ne]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ne=Object.getOwnPropertySymbols(Y);Re<ne.length;Re++)ee.indexOf(ne[Re])<0&&Object.prototype.propertyIsEnumerable.call(Y,ne[Re])&&(oe[ne[Re]]=Y[ne[Re]])}return oe}function ue(Y,ee,oe,ne){return new(oe||(oe=Promise))(function(Me,rt){function At($t){try{Ue(ne.next($t))}catch(gn){rt(gn)}}function wt($t){try{Ue(ne.throw($t))}catch(gn){rt(gn)}}function Ue($t){$t.done?Me($t.value):function Re(Me){return Me instanceof oe?Me:new oe(function(rt){rt(Me)})}($t.value).then(At,wt)}Ue((ne=ne.apply(Y,ee||[])).next())})}function pe(Y){return this instanceof pe?(this.v=Y,this):new pe(Y)}function de(Y,ee,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ne=oe.apply(Y,ee||[]),Me=[];return Re={},rt("next"),rt("throw"),rt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function rt(xt){ne[xt]&&(Re[xt]=function(kt){return new Promise(function(ri,_t){Me.push([xt,kt,ri,_t])>1||At(xt,kt)})})}function At(xt,kt){try{!function wt(xt){xt.value instanceof pe?Promise.resolve(xt.value.v).then(Ue,$t):gn(Me[0][2],xt)}(ne[xt](kt))}catch(ri){gn(Me[0][3],ri)}}function Ue(xt){At("next",xt)}function $t(xt){At("throw",xt)}function gn(xt,kt){xt(kt),Me.shift(),Me.length&&At(Me[0][0],Me[0][1])}}function qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=Y[Symbol.asyncIterator];return ee?ee.call(Y):(Y=function q(Y){var ee="function"==typeof Symbol&&Symbol.iterator,oe=ee&&Y[ee],ne=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ne>=Y.length&&(Y=void 0),{value:Y&&Y[ne++],done:!Y}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},ne("next"),ne("throw"),ne("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ne(Me){oe[Me]=Y[Me]&&function(rt){return new Promise(function(At,wt){!function Re(Me,rt,At,wt){Promise.resolve(wt).then(function(Ue){Me({value:Ue,done:At})},rt)}(At,wt,(rt=Y[Me](rt)).done,rt.value)})}}}x.d(Ce,{FC:()=>de,KL:()=>qe,_T:()=>se,mG:()=>ue,qq:()=>pe})},4650:(Qe,Ce,x)=>{x.d(Ce,{$8M:()=>rl,$Z:()=>$f,AFp:()=>BE,AaK:()=>ue,CHM:()=>Ha,CRH:()=>J0,CZH:()=>t_,CqO:()=>Wu,D6c:()=>qo,EJc:()=>cb,EpF:()=>pp,F$t:()=>Ny,F4k:()=>Sc,FYo:()=>Oe,FiY:()=>Ae,G48:()=>Cb,Gf:()=>Gm,GfV:()=>Ln,Gpc:()=>$,Hsn:()=>Ay,Ikx:()=>Nm,JOm:()=>Es,KtG:()=>ja,LFG:()=>It,LMc:()=>Bp,LSH:()=>uu,Lbi:()=>OS,Lck:()=>tS,MAs:()=>YC,MGl:()=>gp,MMx:()=>kc,NdJ:()=>pm,OlP:()=>Yt,PXZ:()=>mb,Q6J:()=>Ty,QGY:()=>Ic,QP$:()=>ir,Qsj:()=>$e,QtT:()=>bh,R0b:()=>_o,RDi:()=>sf,Rgc:()=>Np,SBq:()=>R,SDv:()=>S0,Sil:()=>xp,Suo:()=>Wm,TTD:()=>Er,TgZ:()=>kr,Tol:()=>Em,Udp:()=>Oc,VKq:()=>Vm,W1O:()=>tb,WLB:()=>Yu,X6Q:()=>US,XFs:()=>He,Xpm:()=>W,Xts:()=>hu,Y36:()=>Ru,YKP:()=>O0,YNc:()=>ZC,Yjl:()=>Et,Yz7:()=>kt,Z0I:()=>es,ZZ4:()=>Sb,_Bn:()=>R0,_UZ:()=>fp,_Vd:()=>g,_c5:()=>pT,_uU:()=>$y,aQg:()=>Nb,c2e:()=>PS,cJS:()=>_t,cg1:()=>Am,dDg:()=>c_,dqk:()=>Gt,eFA:()=>XE,ekj:()=>vp,eoX:()=>u_,f3M:()=>w,g9A:()=>HE,h0i:()=>zo,hGG:()=>Mb,hij:()=>bp,iGM:()=>q0,ifc:()=>Xe,ip1:()=>VE,jDz:()=>P0,kEZ:()=>wh,kL8:()=>h0,lG2:()=>Rn,lqb:()=>uo,lri:()=>l_,n5z:()=>Mr,oAB:()=>et,oxw:()=>Sy,pQV:()=>N0,q4F:()=>_r,qLn:()=>$d,qOj:()=>ch,qZA:()=>hp,rWj:()=>Lp,s9C:()=>vm,sBO:()=>HS,sIi:()=>cp,s_b:()=>jm,soG:()=>n_,tb:()=>jE,tp0:()=>lt,uIk:()=>dm,vHH:()=>_e,vpe:()=>ba,wAp:()=>ut,xp6:()=>Bv,z2F:()=>m_,zSh:()=>_u,zs3:()=>_c});var u=x(7579),X=x(727),P=x(9751),se=x(6451),re=x(3099);function ce(r){for(let o in r)if(r[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function ae(r,o){for(const a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a])}function ue(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ue).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function he(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const H=ce({__forward_ref__:ce});function $(r){return r.__forward_ref__=$,r.toString=function(){return ue(this())},r}function q(r){return Pe(r)?r():r}function Pe(r){return"function"==typeof r&&r.hasOwnProperty(H)&&r.__forward_ref__===$}class _e extends Error{constructor(o,a){super(function Ge(r,o){return`NG0${Math.abs(r)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function pe(r){return"string"==typeof r?r:null==r?"":String(r)}function ge(r,o){throw new _e(-201,!1)}function Ue(r,o,a,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}function kt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function _t(r){return{providers:r.providers||[],imports:r.imports||[]}}function jt(r){return fi(r,nr)||fi(r,Ni)}function es(r){return null!==jt(r)}function fi(r,o){return r.hasOwnProperty(o)?r[o]:null}function Gr(r){return r&&(r.hasOwnProperty(gi)||r.hasOwnProperty(ts))?r[gi]:null}const nr=ce({\u0275prov:ce}),gi=ce({\u0275inj:ce}),Ni=ce({ngInjectableDef:ce}),ts=ce({ngInjectorDef:ce});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let mi;function mn(r){const o=mi;return mi=r,o}function Ai(r,o,a){const l=jt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&He.Optional?null:void 0!==o?o:void ge(ue(r))}function _n(r){return{toString:r}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),Xe=(()=>{return(r=Xe||(Xe={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Xe;var r})();const Gt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),oi={},dt=[],Dr=ce({\u0275cmp:ce}),Lt=ce({\u0275dir:ce}),$i=ce({\u0275pipe:ce}),Ft=ce({\u0275mod:ce}),K=ce({\u0275fac:ce}),j=ce({__NG_ELEMENT_ID__:ce});let B=0;function W(r){return _n(()=>{const a=!0===r.standalone,l={},d={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||dt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Xe.Emulated,id:"c"+B++,styles:r.styles||dt,_:null,setInput:null,schemas:r.schemas||null,tView:null},p=r.dependencies,v=r.features;return d.inputs=Vt(r.inputs,l),d.outputs=Vt(r.outputs),v&&v.forEach(b=>b(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(we).filter(ke):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Sn).filter(ke):null,d})}function we(r){return vt(r)||tn(r)}function ke(r){return null!==r}function et(r){return _n(()=>({type:r.type,bootstrap:r.bootstrap||dt,declarations:r.declarations||dt,imports:r.imports||dt,exports:r.exports||dt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Vt(r,o){if(null==r)return oi;const a={};for(const l in r)if(r.hasOwnProperty(l)){let d=r[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}const Rn=W;function Et(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function vt(r){return r[Dr]||null}function tn(r){return r[Lt]||null}function Sn(r){return r[$i]||null}function ir(r){const o=vt(r)||tn(r)||Sn(r);return null!==o&&o.standalone}function si(r,o){const a=r[Ft]||null;if(!a&&!0===o)throw new Error(`Type ${ue(r)} does not have '\u0275mod' property.`);return a}function Hn(r){return Array.isArray(r)&&"object"==typeof r[1]}function ai(r){return Array.isArray(r)&&!0===r[1]}function Ma(r){return 0!=(8&r.flags)}function Vs(r){return 2==(2&r.flags)}function Al(r){return 1==(1&r.flags)}function ei(r){return null!==r.template}function gd(r){return 0!=(256&r[2])}function sr(r,o){return r.hasOwnProperty(K)?r[K]:null}class wr{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Er(){return Io}function Io(r){return r.type.prototype.ngOnChanges&&(r.setInput=Oa),Bs}function Bs(){const r=vd(this),o=r?.current;if(o){const a=r.previous;if(a===oi)r.previous=o;else for(let l in o)a[l]=o[l];r.current=null,this.ngOnChanges(o)}}function Oa(r,o,a,l){const d=vd(r)||function jn(r,o){return r[Ol]=o}(r,{previous:oi,current:null}),p=d.current||(d.current={}),v=d.previous,b=this.declaredInputs[a],C=v[b];p[b]=new wr(C&&C.currentValue,o,v===oi),r[l]=o}Er.ngInherit=!0;const Ol="__ngSimpleChanges__";function vd(r){return r[Ol]||null}function cn(r){for(;Array.isArray(r);)r=r[0];return r}function Oi(r,o){return cn(o[r])}function li(r,o){return cn(o[r.index])}function rs(r,o){return r.data[o]}function Mt(r,o){const a=o[r];return Hn(a)?a:a[0]}function So(r){return 64==(64&r[2])}function zi(r,o){return null==o?null:r[o]}function La(r){r[18]=0}function sn(r,o){r[5]+=o;let a=r,l=r[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const ht={lFrame:$l(null),bindingsEnabled:!0};function Sr(){return ht.bindingsEnabled}function Ee(){return ht.lFrame.lView}function Tt(){return ht.lFrame.tView}function Ha(r){return ht.lFrame.contextLView=r,r[8]}function ja(r){return ht.lFrame.contextLView=null,r}function un(){let r=$a();for(;null!==r&&64===r.type;)r=r.parent;return r}function $a(){return ht.lFrame.currentTNode}function os(){const r=ht.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function Pi(r,o){const a=ht.lFrame;a.currentTNode=r,a.isParent=o}function Hs(){return ht.lFrame.isParent}function js(){ht.lFrame.isParent=!1}function dn(){const r=ht.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function No(){return ht.lFrame.bindingIndex++}function Nr(r){const o=ht.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,a}function Gs(r){ht.lFrame.inI18n=r}function qh(r,o){const a=ht.lFrame;a.bindingIndex=a.bindingRootIndex=r,Ga(o)}function Ga(r){ht.lFrame.currentDirectiveIndex=r}function Ul(){return ht.lFrame.currentQueryIndex}function zs(r){ht.lFrame.currentQueryIndex=r}function Hl(r){const o=r[1];return 2===o.type?o.declTNode:1===o.type?r[6]:null}function Wa(r,o,a){if(a&He.SkipSelf){let d=o,p=r;for(;!(d=d.parent,null!==d||a&He.Host||(d=Hl(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,r=p}const l=ht.lFrame=jl();return l.currentTNode=o,l.lView=r,!0}function za(r){const o=jl(),a=r[1];ht.lFrame=o,o.currentTNode=a.firstChild,o.lView=r,o.tView=a,o.contextLView=r,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function jl(){const r=ht.lFrame,o=null===r?null:r.child;return null===o?$l(r):o}function $l(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Gl(){const r=ht.lFrame;return ht.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const zc=Gl;function Ao(){const r=Gl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function xn(){return ht.lFrame.selectedIndex}function yi(r){ht.lFrame.selectedIndex=r}function Qt(){const r=ht.lFrame;return rs(r.tView,r.selectedIndex)}function Kl(r,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:A}=p;v&&(r.contentHooks||(r.contentHooks=[])).push(-a,v),b&&((r.contentHooks||(r.contentHooks=[])).push(a,b),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,b)),C&&(r.viewHooks||(r.viewHooks=[])).push(-a,C),I&&((r.viewHooks||(r.viewHooks=[])).push(a,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,I)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(a,A)}}function ss(r,o,a){ls(r,o,3,a)}function as(r,o,a,l){(3&r[2])===a&&ls(r,o,a,l)}function Yc(r,o){let a=r[2];(3&a)===o&&(a&=2047,a+=1,r[2]=a)}function ls(r,o,a,l){const p=l??-1,v=o.length-1;let b=0;for(let C=void 0!==l?65535&r[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=l&&b>=l)break}else o[C]<0&&(r[18]+=65536),(b<p||-1==p)&&(qc(r,a,o,C),r[18]=(4294901760&r[18])+C+2),C++}function qc(r,o,a,l){const d=a[l]<0,p=a[l+1],b=r[d?-a[l]:a[l]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===o){r[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Qr{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function us(r,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],v=a[l++],b=a[l++];r.setAttribute(o,v,b,p)}else{const p=d,v=a[++l];Qa(p)?r.setProperty(o,p,v):r.setAttribute(o,p,v),l++}}return l}function Oo(r){return 3===r||4===r||6===r}function Qa(r){return 64===r.charCodeAt(0)}function Ks(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Qc(r,a,d,null,-1===a||2===a?o[++l]:null)}}return r}function Qc(r,o,a,l,d){let p=0,v=r.length;if(-1===o)v=-1;else for(;p<r.length;){const b=r[p++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=p-1;break}}}for(;p<r.length;){const b=r[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(r[p+1]=d));if(l===r[p+1])return void(r[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==v&&(r.splice(v,0,o),p=v+1),r.splice(p++,0,a),null!==l&&r.splice(p++,0,l),null!==d&&r.splice(p++,0,d)}function Xc(r){return-1!==r}function $n(r){return 32767&r}function Ys(r,o){let a=function Zs(r){return r>>16}(r),l=o;for(;a>0;)l=l[15],a--;return l}let lr=!0;function qs(r){const o=lr;return lr=r,o}let yn=0;const Ki={};function Po(r,o){const a=el(r,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(r.injectorIndex=o.length,Qs(l.data,r),Qs(o,null),Qs(l.blueprint,null));const d=tl(r,o),p=r.injectorIndex;if(Xc(d)){const v=$n(d),b=Ys(d,o),C=b[1].data;for(let I=0;I<8;I++)o[p+I]=b[v+I]|C[v+I]}return o[p+8]=d,p}function Qs(r,o){r.push(0,0,0,0,0,0,0,0,o)}function el(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function tl(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=fs(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Xr(r,o,a){!function Xa(r,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(j)&&(l=a[j]),null==l&&(l=a[j]=yn++);const d=255&l;o.data[r+(d>>5)]|=1<<d}(r,o,a)}function eo(r,o,a){if(a&He.Optional||void 0!==r)return r;ge()}function Yl(r,o,a,l){if(a&He.Optional&&void 0===l&&(l=null),0==(a&(He.Self|He.Host))){const d=r[9],p=mn(void 0);try{return d?d.get(o,l,a&He.Optional):Ai(o,l,a&He.Optional)}finally{mn(p)}}return eo(l,0,a)}function xo(r,o,a,l=He.Default,d){if(null!==r){if(1024&o[2]){const v=function hs(r,o,a,l,d){let p=r,v=o;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const b=Xs(p,v,a,l|He.Self,Ki);if(b!==Ki)return b;let C=p.parent;if(!C){const I=v[21];if(I){const A=I.get(a,Ki,l);if(A!==Ki)return A}C=fs(v),v=v[15]}p=C}return d}(r,o,a,l,Ki);if(v!==Ki)return v}const p=Xs(r,o,a,l,Ki);if(p!==Ki)return p}return Yl(o,a,l,d)}function Xs(r,o,a,l,d){const p=function ql(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(j)?r[j]:void 0;return"number"==typeof o?o>=0?255&o:Jl:o}(a);if("function"==typeof p){if(!Wa(o,r,l))return l&He.Host?eo(d,0,l):Yl(o,a,l,d);try{const v=p(l);if(null!=v||l&He.Optional)return v;ge()}finally{zc()}}else if("number"==typeof p){let v=null,b=el(r,o),C=-1,I=l&He.Host?o[16][6]:null;for((-1===b||l&He.SkipSelf)&&(C=-1===b?tl(r,o):o[b+8],-1!==C&&ea(l,!1)?(v=o[1],b=$n(C),o=Ys(C,o)):b=-1);-1!==b;){const A=o[1];if(nl(p,b,A.data)){const k=nu(b,o,a,v,l,I);if(k!==Ki)return k}C=o[b+8],-1!==C&&ea(l,o[1].data[b+8]===I)&&nl(p,b,o)?(v=A,b=$n(C),o=Ys(C,o)):b=-1}}return d}function nu(r,o,a,l,d,p){const v=o[1],b=v.data[r+8],A=ds(b,v,a,null==l?Vs(b)&&lr:l!=v&&0!=(3&b.type),d&He.Host&&p===b);return null!==A?Ar(o,v,A,b):Ki}function ds(r,o,a,l,d){const p=r.providerIndexes,v=o.data,b=1048575&p,C=r.directiveStart,A=p>>20,G=d?b+A:r.directiveEnd;for(let te=l?b:b+A;te<G;te++){const me=v[te];if(te<C&&a===me||te>=C&&me.type===a)return te}if(d){const te=v[C];if(te&&ei(te)&&te.type===a)return C}return null}function Ar(r,o,a,l){let d=r[a];const p=o.data;if(function Ro(r){return r instanceof Qr}(d)){const v=d;v.resolving&&function je(r,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new _e(-200,`Circular dependency in DI detected for ${r}${a}`)}(function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():pe(r)}(p[a]));const b=qs(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?mn(v.injectImpl):null;Wa(r,l,He.Default);try{d=r[a]=v.factory(void 0,p,r,l),o.firstCreatePass&&a>=l.directiveStart&&function Zc(r,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const v=Io(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,p))}(a,p[a],o)}finally{null!==C&&mn(C),qs(b),v.resolving=!1,zc()}}return d}function nl(r,o,a){return!!(a[o+(r>>5)]&1<<r)}function ea(r,o){return!(r&He.Self||r&He.Host&&o)}class ko{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return xo(this._tNode,this._lView,o,l,a)}}function Jl(){return new ko(un(),Ee())}function Mr(r){return _n(()=>{const o=r.prototype.constructor,a=o[K]||il(o),l=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==l;){const p=d[K]||il(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function il(r){return Pe(r)?()=>{const o=il(q(r));return o&&o()}:sr(r)}function fs(r){const o=r[1],a=o.type;return 2===a?o.declTNode:1===a?r[6]:null}function rl(r){return function tu(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const a=r.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(Oo(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(un(),r)}const to="__parameters__";function ms(r,o,a){return _n(()=>{const l=function ol(r){return function(...a){if(r){const l=r(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const v=new d(...p);return b.annotation=v,b;function b(C,I,A){const k=C.hasOwnProperty(to)?C[to]:Object.defineProperty(C,to,{value:[]})[to];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Yt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bt(r,o){void 0===o&&(o=r);for(let a=0;a<r.length;a++){let l=r[a];Array.isArray(l)?(o===r&&(o=r.slice(0,a)),Bt(l,o)):o!==r&&o.push(l)}return o}function Zi(r,o){r.forEach(a=>Array.isArray(a)?Zi(a,o):o(a))}function na(r,o,a){o>=r.length?r.push(a):r.splice(o,0,a)}function bn(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function no(r,o){const a=[];for(let l=0;l<r;l++)a.push(o);return a}function We(r,o,a){let l=io(r,o);return l>=0?r[1|l]=a:(l=~l,function Xl(r,o,a,l){let d=r.length;if(d==o)r.push(a,l);else if(1===d)r.push(l,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>o;)r[d]=r[d-2],d--;r[o]=a,r[o+1]=l}}(r,l,o,a)),l}function ra(r,o){const a=io(r,o);if(a>=0)return r[1|a]}function io(r,o){return function ys(r,o,a){let l=0,d=r.length>>a;for(;d!==l;){const p=l+(d-l>>1),v=r[p<<a];if(o===v)return p<<a;v>o?d=p:l=p+1}return~(d<<a)}(r,o,1)}const Yi={},nc="__NG_DI_FLAG__",Ci="ngTempTokenPath",qi=/\n/gm,kn="__source";let oo;function Or(r){const o=oo;return oo=r,o}function an(r,o=He.Default){if(void 0===oo)throw new _e(-203,!1);return null===oo?Ai(r,void 0,o):oo.get(r,o&He.Optional?null:void 0,o)}function It(r,o=He.Default){return(function br(){return mi}()||an)(q(r),o)}function w(r,o=He.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),It(r,o)}function E(r){const o=[];for(let a=0;a<r.length;a++){const l=q(r[a]);if(Array.isArray(l)){if(0===l.length)throw new _e(900,!1);let d,p=He.Default;for(let v=0;v<l.length;v++){const b=l[v],C=L(b);"number"==typeof C?-1===C?d=b.token:p|=C:d=b}o.push(It(d,p))}else o.push(It(l))}return o}function N(r,o){return r[nc]=o,r.prototype[nc]=o,r}function L(r){return r[nc]}const Ae=N(ms("Optional"),8),lt=N(ms("SkipSelf"),4);let Ad,sa;function sf(r){Ad=r}function Bo(r){return function iu(){if(void 0===sa&&(sa=null,Gt.trustedTypes))try{sa=Gt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return sa}()?.createHTML(r)||r}class su{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function fr(r){return r instanceof su?r.changingThisBreaksApplicationSecurity:r}class cg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Bo(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class ug{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Bo(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Bo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const v=a.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const dg=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ca(r){return(r=String(r)).match(dg)?r:"unsafe:"+r}function pr(r){const o={};for(const a of r.split(","))o[a]=!0;return o}function oc(...r){const o={};for(const a of r)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const lo=pr("area,br,col,hr,img,wbr"),lu=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hg=pr("rp,rt"),ua=oc(lo,oc(lu,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oc(hg,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oc(hg,lu)),da=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ac=oc(da,pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function uu(r){const o=function lc(){const r=Ee();return r&&r[12]}();return o?o.sanitize(Dn.URL,r)||"":function Ds(r,o){const a=function Rd(r){return r instanceof su&&r.getTypeName()||null}(r);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(r,"URL")?fr(r):ca(pe(r))}const hu=new Yt("ENVIRONMENT_INITIALIZER"),fu=new Yt("INJECTOR",-1),pu=new Yt("INJECTOR_DEF_TYPES");class Vd{get(o,a=Yi){if(a===Yi){const l=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw l.name="NullInjectorError",l}return a}}function gg(...r){return{\u0275providers:gu(0,r)}}function gu(r,...o){const a=[],l=new Set;let d;return Zi(o,p=>{const v=p;ui(v,a,[],l)&&(d||(d=[]),d.push(v))}),void 0!==d&&_f(d,a),a}function _f(r,o){for(let a=0;a<r.length;a++){const{providers:d}=r[a];Zi(d,p=>{o.push(p)})}}function ui(r,o,a,l){if(!(r=q(r)))return!1;let d=null,p=Gr(r);const v=!p&&vt(r);if(p||v){if(v&&!v.standalone)return!1;d=r}else{const C=r.ngModule;if(p=Gr(C),!p)return!1;d=C}const b=l.has(d);if(v){if(b)return!1;if(l.add(d),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of C)ui(I,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let I;l.add(d);try{Zi(p.imports,A=>{ui(A,o,a,l)&&(I||(I=[]),I.push(A))})}finally{}void 0!==I&&_f(I,o)}if(!b){const I=sr(d)||(()=>new d);o.push({provide:d,useFactory:I,deps:dt},{provide:pu,useValue:d,multi:!0},{provide:hu,useValue:()=>It(d),multi:!0})}const C=p.providers;null==C||b||Zi(C,A=>{o.push(A)})}}return d!==r&&void 0!==r.providers}const Bd=ce({provide:String,useValue:ce});function cc(r){return null!==r&&"object"==typeof r&&Bd in r}function mr(r){return"function"==typeof r}const _u=new Yt("Set Injector scope."),xr={},ws={};let vu;function yu(){return void 0===vu&&(vu=new Vd),vu}class uo{}class bu extends uo{constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hl(o,v=>this.processProvider(v)),this.records.set(fu,ki(void 0,this)),d.has("environment")&&this.records.set(uo,ki(void 0,this));const p=this.records.get(_u);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(pu.multi,dt,He.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Or(this),l=mn(void 0);try{return o()}finally{Or(a),mn(l)}}get(o,a=Yi,l=He.Default){this.assertNotDestroyed();const d=Or(this),p=mn(void 0);try{if(!(l&He.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function yf(r){return"function"==typeof r||"object"==typeof r&&r instanceof Yt}(o)&&jt(o);b=C&&this.injectableDefInScope(C)?ki(Yn(o),xr):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&He.Self?yu():this.parent).get(o,a=l&He.Optional&&a===Yi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Ci]=v[Ci]||[]).unshift(ue(o)),d)throw v;return function J(r,o,a,l){const d=r[Ci];throw o[kn]&&d.unshift(o[kn]),r.message=function ie(r,o,a,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ue(o);if(Array.isArray(o))d=o.map(ue).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];p.push(v+":"+("string"==typeof b?JSON.stringify(b):ue(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${r.replace(qi,"\n  ")}`}("\n"+r.message,d,a,l),r.ngTokenPath=d,r[Ci]=null,r}(v,o,"R3InjectorError",this.source)}throw v}finally{mn(p),Or(d)}}resolveInjectorInitializers(){const o=Or(this),a=mn(void 0);try{const l=this.get(hu.multi,dt,He.Self);for(const d of l)d()}finally{Or(o),mn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ue(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(o){let a=mr(o=q(o))?o:q(o&&o.provide);const l=function uc(r){return cc(r)?ki(void 0,r.useValue):ki(Cu(r),xr)}(o);if(mr(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=ki(void 0,xr,!0),d.factory=()=>E(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===xr&&(a.value=ws,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vf(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Yn(r){const o=jt(r),a=null!==o?o.factory:sr(r);if(null!==a)return a;if(r instanceof Yt)throw new _e(204,!1);if(r instanceof Function)return function Du(r){const o=r.length;if(o>0)throw no(o,"?"),new _e(204,!1);const a=function Xn(r){const o=r&&(r[nr]||r[Ni]);if(o){const a=function pi(r){if(r.hasOwnProperty("name"))return r.name;const o=(""+r).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new _e(204,!1)}function Cu(r,o,a){let l;if(mr(r)){const d=q(r);return sr(d)||Yn(d)}if(cc(r))l=()=>q(r.useValue);else if(function gr(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...E(r.deps||[]));else if(function dl(r){return!(!r||!r.useExisting)}(r))l=()=>It(q(r.useExisting));else{const d=q(r&&(r.useClass||r.provide));if(!function Ho(r){return!!r.deps}(r))return sr(d)||Yn(d);l=()=>new d(...E(r.deps))}return l}function ki(r,o,a=!1){return{factory:r,value:o,multi:a?[]:void 0}}function Hd(r){return!!r.\u0275providers}function hl(r,o){for(const a of r)Array.isArray(a)?hl(a,o):Hd(a)?hl(a.\u0275providers,o):o(a)}class jd{}class h{resolveComponentFactory(o){throw function Df(r){const o=Error(`No component factory found for ${ue(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let g=(()=>{class r{}return r.NULL=new h,r})();function y(){return S(un(),Ee())}function S(r,o){return new R(li(r,o))}let R=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=y,r})();function Z(r){return r instanceof R?r.nativeElement:r}class Oe{}let $e=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function ct(){const r=Ee(),a=Mt(un().index,r);return(Hn(a)?a:r)[11]}(),r})(),it=(()=>{class r{}return r.\u0275prov=kt({token:r,providedIn:"root",factory:()=>null}),r})();class Ln{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const _r=new Ln("14.2.2"),fl={};function yg(r){return r.ngOriginalError}class $d{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&yg(o);for(;a&&yg(a);)a=yg(a);return a||null}}const ND=/^>|^->|<!--|-->|--!>|<!-$/g,Z1=/(<|>)/;const bg=new Map;let OD=0;const Nf="__ngContext__";function di(r,o){Hn(o)?(r[Nf]=o[20],function xD(r){bg.set(r[20],r)}(o)):r[Nf]=o}function pa(r){return r instanceof Function?r():r}var Es=(()=>((Es=Es||{})[Es.Important=1]="Important",Es[Es.DashCase=2]="DashCase",Es))();let Eg;function Tg(r,o){return Eg(r,o)}function Au(r){const o=r[3];return ai(o)?o[3]:o}function Rf(r){return Cv(r[13])}function Of(r){return Cv(r[4])}function Cv(r){for(;null!==r&&!ai(r);)r=r[4];return r}function Mu(r,o,a,l,d){if(null!=l){let p,v=!1;ai(l)?p=l:Hn(l)&&(v=!0,l=l[0]);const b=cn(l);0===r&&null!==a?null==d?Av(o,a,b):Ts(o,a,b,d||null,!0):1===r&&null!==a?Ts(o,a,b,d||null,!0):2===r?ZD(o,b,v):3===r&&o.destroyNode(b),null!=p&&function eI(r,o,a,l,d){const p=a[7];p!==cn(a)&&Mu(o,r,l,p,d);for(let b=10;b<a.length;b++){const C=a[b];gc(C[1],C,r,o,l,p)}}(o,r,p,a,d)}}function Sg(r,o){return r.createText(o)}function wv(r,o,a){r.setValue(o,a)}function GD(r,o){return r.createComment(function Tf(r){return r.replace(ND,o=>o.replace(Z1,"\u200b$1\u200b"))}(o))}function Pf(r,o,a){return r.createElement(o,a)}function Iv(r,o){const a=r[9],l=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,sn(d,-1)),a.splice(l,1)}function Ag(r,o){if(r.length<=10)return;const a=10+o,l=r[a];if(l){const d=l[17];null!==d&&d!==r&&Iv(d,l),o>0&&(r[a-1][4]=l[4]);const p=bn(r,10+o);!function Ng(r,o){gc(r,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=p[19];null!==v&&v.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function zd(r,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&gc(r,o,a,3,null,null),function Q1(r){let o=r[13];if(!o)return xf(r[1],r);for(;o;){let a=null;if(Hn(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==r;)Hn(o)&&xf(o[1],o),o=o[3];null===o&&(o=r),Hn(o)&&xf(o[1],o),a=o&&o[4]}o=a}}(o)}}function xf(r,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Rg(r,o){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Qr)){const p=a[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const b=d[p[v]],C=p[v+1];try{C.call(b)}finally{}}else try{p.call(d)}finally{}}}}(r,o),function Mg(r,o){const a=r.cleanup,l=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],b="function"==typeof v?v(o):cn(o[v]),C=l[d=a[p+2]],I=a[p+3];"boolean"==typeof I?b.removeEventListener(a[p],C,I):I>=0?l[d=I]():l[d=-I].unsubscribe(),p+=2}else{const v=l[d=a[p+1]];a[p].call(v)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();o[7]=null}}(r,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&ai(o[3])){a!==o[3]&&Iv(a,o);const l=o[19];null!==l&&l.detachView(r)}!function kD(r){bg.delete(r[20])}(o)}}function Sv(r,o,a){return Nv(r,o.parent,a)}function Nv(r,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=r.data[l.directiveStart].encapsulation;if(d===Xe.None||d===Xe.Emulated)return null}return li(l,a)}function Ts(r,o,a,l,d){r.insertBefore(o,a,l,d)}function Av(r,o,a){r.appendChild(o,a)}function Mv(r,o,a,l,d){null!==l?Ts(r,o,a,l,d):Av(r,o,a)}function kf(r,o){return r.parentNode(o)}function hi(r,o,a){return Og(r,o,a)}function Ov(r,o,a){return 40&r.type?li(r,a):null}let Kd,Og=Ov;function Zd(r,o){Og=r,Kd=o}function Ff(r,o,a,l){const d=Sv(r,l,o),p=o[11],b=hi(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)Mv(p,d,a[C],b,!1);else Mv(p,d,a,b,!1);void 0!==Kd&&Kd(p,l,o,a,d)}function Lf(r,o){if(null!==o){const a=o.type;if(3&a)return li(o,r);if(4&a)return Pv(-1,r[o.index]);if(8&a){const l=o.child;if(null!==l)return Lf(r,l);{const d=r[o.index];return ai(d)?Pv(-1,d):cn(d)}}if(32&a)return Tg(o,r)()||cn(r[o.index]);{const l=Pg(r,o);return null!==l?Array.isArray(l)?l[0]:Lf(Au(r[16]),l):Lf(r,o.next)}}return null}function Pg(r,o){return null!==o?r[16][6].projection[o.projection]:null}function Pv(r,o){const a=10+r+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Lf(l,d)}return o[7]}function ZD(r,o,a){const l=kf(r,o);l&&function KD(r,o,a,l){r.removeChild(o,a,l)}(r,l,o,a)}function xg(r,o,a,l,d,p,v){for(;null!=a;){const b=l[a.index],C=a.type;if(v&&0===o&&(b&&di(cn(b),l),a.flags|=4),64!=(64&a.flags))if(8&C)xg(r,o,a.child,l,d,p,!1),Mu(o,r,d,b,p);else if(32&C){const I=Tg(a,l);let A;for(;A=I();)Mu(o,r,d,A,p);Mu(o,r,d,b,p)}else 16&C?Yd(r,o,l,a,d,p):Mu(o,r,d,b,p);a=v?a.projectionNext:a.next}}function gc(r,o,a,l,d,p){xg(a,l,r.firstChild,o,d,p,!1)}function Yd(r,o,a,l,d,p){const v=a[16],C=v[6].projection[l.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Mu(o,r,d,C[I],p);else xg(r,o,C,v[3],d,p,!0)}function mc(r,o,a){r.setAttribute(o,"style",a)}function qd(r,o,a){""===a?r.removeAttribute(o,"class"):r.setAttribute(o,"class",a)}function YD(r,o,a){let l=r.length;for(;;){const d=r.indexOf(o,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||r.charCodeAt(d+p)<=32)return d}a=d+1}}const kg="ng-template";function Fg(r,o,a){let l=0;for(;l<r.length;){let d=r[l++];if(a&&"class"===d){if(d=r[l],-1!==YD(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<r.length&&"string"==typeof(d=r[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Fv(r){return 4===r.type&&r.value!==kg}function JD(r,o,a){return o===(4!==r.type||a?r.value:kg)}function QD(r,o,a){let l=4;const d=r.attrs||[],p=function tI(r){for(let o=0;o<r.length;o++)if(Oo(r[o]))return o;return r.length}(d);let v=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!v)if(4&l){if(l=2|1&l,""!==C&&!JD(r,C,a)||""===C&&1===o.length){if(ho(l))return!1;v=!0}}else{const I=8&l?C:o[++b];if(8&l&&null!==r.attrs){if(!Fg(r.attrs,I,a)){if(ho(l))return!1;v=!0}continue}const k=XD(8&l?"class":C,d,Fv(r),a);if(-1===k){if(ho(l))return!1;v=!0;continue}if(""!==I){let G;G=k>p?"":d[k+1].toLowerCase();const te=8&l?G:null;if(te&&-1!==YD(te,I,0)||2&l&&I!==G){if(ho(l))return!1;v=!0}}}}else{if(!v&&!ho(l)&&!ho(C))return!1;if(v&&ho(C))continue;v=!1,l=C|1&l}}return ho(l)||v}function ho(r){return 0==(1&r)}function XD(r,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const v=o[d];if(v===r)return d;if(3===v||6===v)p=!0;else{if(1===v||2===v){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=p?1:2}return-1}return function Lv(r,o){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const l=r[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,r)}function eC(r,o,a=!1){for(let l=0;l<o.length;l++)if(QD(r,o[l],a))return!0;return!1}function tC(r,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(r.length===l.length){for(let d=0;d<r.length;d++)if(r[d]!==l[d])continue e;return!0}}return!1}function Vv(r,o){return r?":not("+o.trim()+")":o}function Lg(r){let o=r[0],a=1,l=2,d="",p=!1;for(;a<r.length;){let v=r[a];if("string"==typeof v)if(2&l){const b=r[++a];d+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!ho(v)&&(o+=Vv(p,d),d=""),l=v,p=p||!ho(l);a++}return""!==d&&(o+=Vv(p,d)),o}const bt={};function Bv(r){Uv(Tt(),Ee(),xn()+r,!1)}function Uv(r,o,a,l){if(!l)if(3==(3&o[2])){const p=r.preOrderCheckHooks;null!==p&&ss(o,p,a)}else{const p=r.preOrderHooks;null!==p&&as(o,p,0,a)}yi(a)}function Vi(r,o=null,a=null,l){const d=Bg(r,o,a,l);return d.resolveInjectorInitializers(),d}function Bg(r,o=null,a=null,l,d=new Set){const p=[a||dt,gg(r)];return l=l||("object"==typeof r?void 0:ue(r)),new bu(p,o||yu(),l||null,d)}let _c=(()=>{class r{static create(a,l){if(Array.isArray(a))return Vi({name:""},l,a,"");{const d=a.name??"";return Vi({name:d},a.parent,a.providers,d)}}}return r.THROW_IF_NOT_FOUND=Yi,r.NULL=new Vd,r.\u0275prov=kt({token:r,providedIn:"any",factory:()=>It(fu)}),r.__NG_ELEMENT_ID__=-1,r})();function Ru(r,o=He.Default){const a=Ee();return null===a?It(r,o):xo(un(),a,q(r),o)}function $f(){throw new Error("invalid")}function jo(r,o){return r<<17|o<<2}function po(r){return r>>17&32767}function $g(r){return 2|r}function _l(r){return(131068&r)>>2}function Gf(r,o){return-131069&r|o<<2}function Wf(r){return 1|r}function Qv(r,o){const a=r.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const v=r.data[p];zs(d),v.contentQueries(2,o[p],p)}}}function qf(r,o,a,l,d,p,v,b,C,I,A){const k=o.blueprint.slice();return k[0]=d,k[2]=76|l,(null!==A||r&&1024&r[2])&&(k[2]|=1024),La(k),k[3]=k[15]=r,k[8]=a,k[10]=v||r&&r[10],k[11]=b||r&&r[11],k[12]=C||r&&r[12]||null,k[9]=I||r&&r[9]||null,k[6]=p,k[20]=function PD(){return OD++}(),k[21]=A,k[16]=2==o.type?r[16]:k,k}function ku(r,o,a,l,d){let p=r.data[o];if(null===p)p=nh(r,o,a,l,d),function Yh(){return ht.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const v=os();p.injectorIndex=null===v?-1:v.injectorIndex}return Pi(p,!0),p}function nh(r,o,a,l,d){const p=$a(),v=Hs(),C=r.data[o]=function gI(r,o,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,l,d);return null===r.firstChild&&(r.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}function Ss(r,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),r.blueprint.push(l),r.data.push(null);return d}function Fu(r,o,a){za(o);try{const l=r.viewQuery;null!==l&&uy(1,l,a);const d=r.template;null!==d&&Lu(r,o,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Qv(r,o),r.staticViewQueries&&uy(2,r.viewQuery,a);const p=r.components;null!==p&&function NC(r,o){for(let a=0;a<o.length;a++)cy(r,o[a])}(o,p)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{o[2]&=-5,Ao()}}function ga(r,o,a,l){const d=o[2];if(128!=(128&d)){za(o);try{La(o),function Vl(r){return ht.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Lu(r,o,a,2,l);const v=3==(3&d);if(v){const I=r.preOrderCheckHooks;null!==I&&ss(o,I,null)}else{const I=r.preOrderHooks;null!==I&&as(o,I,0,null),Yc(o,0)}if(function nm(r){for(let o=Rf(r);null!==o;o=Of(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(512&d[2])&&sn(p,1),d[2]|=512}}}(o),function sh(r){for(let o=Rf(r);null!==o;o=Of(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];So(l)&&ga(d,l,d.template,l[8])}}(o),null!==r.contentQueries&&Qv(r,o),v){const I=r.contentCheckHooks;null!==I&&ss(o,I)}else{const I=r.contentHooks;null!==I&&as(o,I,1),Yc(o,1)}!function pI(r,o){const a=r.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)yi(~d);else{const p=d,v=a[++l],b=a[++l];qh(v,p),b(2,o[p])}}}finally{yi(-1)}}(r,o);const b=r.components;null!==b&&function Xv(r,o){for(let a=0;a<o.length;a++)ly(r,o[a])}(o,b);const C=r.viewQuery;if(null!==C&&uy(2,C,l),v){const I=r.viewCheckHooks;null!==I&&ss(o,I)}else{const I=r.viewHooks;null!==I&&as(o,I,2),Yc(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,sn(o[3],-1))}finally{Ao()}}}function Lu(r,o,a,l,d){const p=xn(),v=2&l;try{yi(-1),v&&o.length>22&&Uv(r,o,22,!1),a(l,d)}finally{yi(p)}}function Qf(r,o,a){!Sr()||(function PC(r,o,a,l){const d=a.directiveStart,p=a.directiveEnd;r.firstCreatePass||Po(a,o),di(l,o);const v=a.initialInputs;for(let b=d;b<p;b++){const C=r.data[b],I=ei(C);I&&em(o,a,C);const A=Ar(o,r,b,a);di(A,o),null!==v&&tm(0,b-d,A,C,0,v),I&&(Mt(a.index,o)[8]=A)}}(r,o,a,li(a,o)),128==(128&a.flags)&&function iy(r,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,v=function Bl(){return ht.lFrame.currentDirectiveIndex}();try{yi(p);for(let b=l;b<d;b++){const C=r.data[b],I=o[b];Ga(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ry(C,I)}}finally{yi(-1),Ga(v)}}(r,o,a))}function ih(r,o,a=li){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],b=-1===v?a(o,r):r[v];r[d++]=b}}}function Jg(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Vu(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function Vu(r,o,a,l,d,p,v,b,C,I){const A=22+l,k=A+d,G=function ey(r,o){const a=[];for(let l=0;l<o;l++)a.push(l<r?null:bt);return a}(A,k),te="function"==typeof I?I():I;return G[1]={type:r,blueprint:G,template:a,queries:null,viewQuery:b,declTNode:o,data:G.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function Xf(r,o,a,l){const d=dy(o);null===a?d.push(l):(d.push(a),r.firstCreatePass&&rm(r).push(l,d.length-1))}function MC(r,o,a){for(let l in r)if(r.hasOwnProperty(l)){const d=r[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function ny(r,o){const l=o.directiveEnd,d=r.data,p=o.attrs,v=[];let b=null,C=null;for(let I=o.directiveStart;I<l;I++){const A=d[I],k=A.inputs,G=null===p||Fv(o)?null:FC(k,p);v.push(G),b=MC(k,I,b),C=MC(A.outputs,I,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=C}function Bi(r,o,a,l,d,p,v,b){const C=li(o,a);let A,I=o.inputs;!b&&null!=I&&(A=I[l])?(op(r,a,A,l,d),Vs(o)&&Bu(a,o.index)):3&o.type&&(l=function mI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),d=null!=v?v(d,o.value||"",l):d,p.setProperty(C,l,d))}function Bu(r,o){const a=Mt(o,r);16&a[2]||(a[2]|=32)}function rh(r,o,a,l){let d=!1;if(Sr()){const p=function oy(r,o,a){const l=r.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];eC(a,v.selectors,!1)&&(d||(d=[]),Xr(Po(a,o),r,v.type),ei(v)?(sy(r,a),d.unshift(v)):d.push(v))}return d}(r,o,a),v=null===l?null:{"":-1};if(null!==p){d=!0,Xg(a,r.data.length,p.length);for(let A=0;A<p.length;A++){const k=p[A];k.providersResolver&&k.providersResolver(k)}let b=!1,C=!1,I=Ss(r,o,p.length,null);for(let A=0;A<p.length;A++){const k=p[A];a.mergedAttrs=Ks(a.mergedAttrs,k.hostAttrs),kC(r,a,o,I,k),xC(I,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const G=k.type.prototype;!b&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),b=!0),!C&&(G.ngOnChanges||G.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),C=!0),I++}ny(r,a)}v&&function _I(r,o,a){if(o){const l=r.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new _e(-301,!1);l.push(o[d],p)}}}(a,l,v)}return a.mergedAttrs=Ks(a.mergedAttrs,a.attrs),d}function oh(r,o,a,l,d,p){const v=p.hostBindings;if(v){let b=r.hostBindingOpCodes;null===b&&(b=r.hostBindingOpCodes=[]);const C=~o.index;(function OC(r){let o=r.length;for(;o>0;){const a=r[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(l,d,v)}}function ry(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function sy(r,o){o.flags|=2,(r.components||(r.components=[])).push(o.index)}function xC(r,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=r;ei(o)&&(a[""]=r)}}function Xg(r,o,a){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+a,r.providerIndexes=o}function kC(r,o,a,l,d){r.data[l]=d;const p=d.factory||(d.factory=sr(d.type)),v=new Qr(p,ei(d),Ru);r.blueprint[l]=v,a[l]=v,oh(r,o,0,l,Ss(r,a,d.hostVars,bt),d)}function em(r,o,a){const l=li(o,r),d=Jg(a),p=r[10],v=ip(r,qf(r,d,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));r[o.index]=v}function tp(r,o,a,l,d,p,v){if(null==p)r.removeAttribute(o,d,a);else{const b=null==v?pe(p):v(p,l||"",d);r.setAttribute(o,d,b,a)}}function tm(r,o,a,l,d,p){const v=p[o];if(null!==v){const b=l.setInput;for(let C=0;C<v.length;){const I=v[C++],A=v[C++],k=v[C++];null!==b?l.setInput(a,k,I,A):a[A]=k}}}function FC(r,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,r[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function ay(r,o,a,l){return new Array(r,!0,!1,o,null,0,l,a,null,null)}function ly(r,o){const a=Mt(o,r);if(So(a)){const l=a[1];48&a[2]?ga(l,a,l.template,a[8]):a[5]>0&&np(a)}}function np(r){for(let l=Rf(r);null!==l;l=Of(l))for(let d=10;d<l.length;d++){const p=l[d];if(So(p))if(512&p[2]){const v=p[1];ga(v,p,v.template,p[8])}else p[5]>0&&np(p)}const a=r[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Mt(a[l],r);So(d)&&d[5]>0&&np(d)}}function cy(r,o){const a=Mt(o,r),l=a[1];(function vI(r,o){for(let a=o.length;a<r.blueprint.length;a++)o.push(r.blueprint[a])})(l,a),Fu(l,a,a[8])}function ip(r,o){return r[13]?r[14][4]=o:r[13]=o,r[14]=o,o}function rp(r){for(;r;){r[2]|=32;const o=Au(r);if(gd(r)&&!o)return r;r=o}return null}function im(r,o,a,l=!0){const d=o[10];d.begin&&d.begin();try{ga(r,o,r.template,a)}catch(v){throw l&&om(o,v),v}finally{d.end&&d.end()}}function uy(r,o,a){zs(0),o(r,a)}function dy(r){return r[7]||(r[7]=[])}function rm(r){return r.cleanup||(r.cleanup=[])}function om(r,o){const a=r[9],l=a?a.get($d,null):null;l&&l.handleError(o)}function op(r,o,a,l,d){for(let p=0;p<a.length;){const v=a[p++],b=a[p++],C=o[v],I=r.data[v];null!==I.setInput?I.setInput(C,d,l,b):C[b]=d}}function sp(r,o,a){let l=a?r.styles:null,d=a?r.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?p=b:1==p?d=he(d,b):2==p&&(l=he(l,b+": "+o[++v]+";"))}a?r.styles=l:r.stylesWithoutHost=l,a?r.classes=d:r.classesWithoutHost=d}function ah(r,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(cn(p)),ai(p))for(let b=10;b<p.length;b++){const C=p[b],I=C[1].firstChild;null!==I&&ah(C[1],C,I,l)}const v=a.type;if(8&v)ah(r,o,a.child,l);else if(32&v){const b=Tg(a,o);let C;for(;C=b();)l.push(C)}else if(16&v){const b=Pg(o,a);if(Array.isArray(b))l.push(...b);else{const C=Au(o[16]);ah(C[1],C,b,l,!0)}}a=d?a.projectionNext:a.next}return l}class lh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return ah(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Ag(o,l),bn(a,l))}this._attachedToViewContainer=!1}zd(this._lView[1],this._lView)}onDestroy(o){Xf(this._lView[1],this._lView,null,o)}markForCheck(){rp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){im(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tv(r,o){gc(r,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=o}}class yI extends lh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;im(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ap extends g{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=vt(o);return new Uu(a,this.ngModule)}}function fy(r){const o=[];for(let a in r)r.hasOwnProperty(a)&&o.push({propName:r[a],templateName:a});return o}class LC{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const d=this.injector.get(o,fl,l);return d!==fl||a===fl?d:this.parentInjector.get(o,a,l)}}class Uu extends jd{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function nC(r){return r.map(Lg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return fy(this.componentDef.inputs)}get outputs(){return fy(this.componentDef.outputs)}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof uo?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new LC(o,p):o,b=v.get(Oe,null);if(null===b)throw new _e(407,!1);const C=v.get(it,null),I=b.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",k=l?function ty(r,o,a){return r.selectRootElement(o,a===Xe.ShadowDom)}(I,l,this.componentDef.encapsulation):Pf(b.createRenderer(null,this.componentDef),A,function py(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),G=this.componentDef.onPush?288:272,te=Vu(0,null,null,1,0,null,null,null,null,null),me=qf(null,te,null,G,null,null,b,I,C,v,null);let Te,Le;za(me);try{const ze=function sm(r,o,a,l,d,p){const v=a[1];a[22]=r;const C=ku(v,22,2,"#host",null),I=C.mergedAttrs=o.hostAttrs;null!==I&&(sp(C,I,!0),null!==r&&(us(d,r,I),null!==C.classes&&qd(d,r,C.classes),null!==C.styles&&mc(d,r,C.styles)));const A=l.createRenderer(r,o),k=qf(a,Jg(o),null,o.onPush?32:16,a[22],C,l,A,p||null,null,null);return v.firstCreatePass&&(Xr(Po(C,a),v,o.type),sy(v,C),Xg(C,a.length,1)),ip(a,k),a[22]=k}(k,this.componentDef,me,b,I);if(k)if(l)us(I,k,["ng-version",_r.full]);else{const{attrs:Je,classes:ve}=function iC(r){const o=[],a=[];let l=1,d=2;for(;l<r.length;){let p=r[l];if("string"==typeof p)2===d?""!==p&&o.push(p,r[++l]):8===d&&a.push(p);else{if(!ho(d))break;d=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Je&&us(I,k,Je),ve&&ve.length>0&&qd(I,k,ve.join(" "))}if(Le=rs(te,22),void 0!==a){const Je=Le.projection=[];for(let ve=0;ve<this.ngContentSelectors.length;ve++){const ft=a[ve];Je.push(null!=ft?Array.from(ft):null)}}Te=function VC(r,o,a,l){const d=a[1],p=function RC(r,o,a){const l=un();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),kC(r,l,o,Ss(r,o,1,null),a),ny(r,l));const d=Ar(o,r,l.directiveStart,l);di(d,o);const p=li(l,o);return p&&di(p,o),d}(d,a,o);if(r[8]=a[8]=p,null!==l)for(const b of l)b(p,o);if(o.contentQueries){const b=un();o.contentQueries(1,p,b.directiveStart)}const v=un();return!d.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(yi(v.index),oh(a[1],v,0,v.directiveStart,v.directiveEnd,o),ry(o,p)),p}(ze,this.componentDef,me,[am]),Fu(te,me,null)}finally{Ao()}return new my(this.componentType,Te,S(Le,me),me,Le)}}class my extends class bf{}{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new yI(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const p=this._rootLView;op(p[1],p,d,o,a),Bu(p,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function am(){const r=un();Kl(Ee()[1],r)}function ch(r){let o=function _y(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const l=[r];for(;o;){let d;if(ei(r))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new _e(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const v=r;v.inputs=lm(r.inputs),v.declaredInputs=lm(r.declaredInputs),v.outputs=lm(r.outputs);const b=d.hostBindings;b&&by(r,b);const C=d.viewQuery,I=d.contentQueries;if(C&&yy(r,C),I&&BC(r,I),ae(r.inputs,d.inputs),ae(r.declaredInputs,d.declaredInputs),ae(r.outputs,d.outputs),ei(d)&&d.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let v=0;v<p.length;v++){const b=p[v];b&&b.ngInherit&&b(r),b===ch&&(a=!1)}}o=Object.getPrototypeOf(o)}!function vy(r){let o=0,a=null;for(let l=r.length-1;l>=0;l--){const d=r[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Ks(d.hostAttrs,a=Ks(a,d.hostAttrs))}}(l)}function lm(r){return r===oi?{}:r===dt?[]:r}function yy(r,o){const a=r.viewQuery;r.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function BC(r,o){const a=r.contentQueries;r.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function by(r,o){const a=r.hostBindings;r.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let lp=null;function vl(){if(!lp){const r=Gt.Symbol;if(r&&r.iterator)lp=r.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(lp=l)}}}return lp}function cp(r){return!!up(r)&&(Array.isArray(r)||!(r instanceof Map)&&vl()in r)}function up(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ui(r,o,a){return r[o]=a}function Ti(r,o,a){return!Object.is(r[o],a)&&(r[o]=a,!0)}function Dc(r,o,a,l){const d=Ti(r,o,a);return Ti(r,o+1,l)||d}function dm(r,o,a,l){const d=Ee();return Ti(d,No(),o)&&(Tt(),function Ns(r,o,a,l,d,p){const v=li(r,o);tp(o[11],v,p,r.value,a,l,d)}(Qt(),d,r,o,a,l)),dm}function Cc(r,o,a,l){return Ti(r,No(),a)?o+pe(a)+l:bt}function ZC(r,o,a,l,d,p,v,b){const C=Ee(),I=Tt(),A=r+22,k=I.firstCreatePass?function EI(r,o,a,l,d,p,v,b,C){const I=o.consts,A=ku(o,r,4,v||null,zi(I,b));rh(o,a,A,zi(I,C)),Kl(o,A);const k=A.tViews=Vu(2,A,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,A),k.queries=o.queries.embeddedTView(A)),A}(A,I,C,o,a,l,d,p,v):I.data[A];Pi(k,!1);const G=C[11].createComment("");Ff(I,C,G,k),di(G,C),ip(C,C[A]=ay(G,C,G,k)),Al(k)&&Qf(I,C,k),null!=v&&ih(C,k,b)}function YC(r){return function Ir(r,o){return r[o]}(function Ll(){return ht.lFrame.contextLView}(),22+r)}function Ty(r,o,a){const l=Ee();return Ti(l,No(),o)&&Bi(Tt(),Qt(),l,r,o,l[11],a,!1),Ty}function fm(r,o,a,l,d){const v=d?"class":"style";op(r,a,o.inputs[v],v,l)}function kr(r,o,a,l){const d=Ee(),p=Tt(),v=22+r,b=d[11],C=d[v]=Pf(b,o,function Za(){return ht.lFrame.currentNamespace}()),I=p.firstCreatePass?function dp(r,o,a,l,d,p,v){const b=o.consts,I=ku(o,r,2,d,zi(b,p));return rh(o,a,I,zi(b,v)),null!==I.attrs&&sp(I,I.attrs,!1),null!==I.mergedAttrs&&sp(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(v,p,d,0,o,a,l):p.data[v];Pi(I,!0);const A=I.mergedAttrs;null!==A&&us(b,C,A);const k=I.classes;null!==k&&qd(b,C,k);const G=I.styles;return null!==G&&mc(b,C,G),64!=(64&I.flags)&&Ff(p,d,C,I),0===function Ba(){return ht.lFrame.elementDepthCount}()&&di(C,d),function Ua(){ht.lFrame.elementDepthCount++}(),Al(I)&&(Qf(p,d,I),function Jf(r,o,a){if(Ma(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const v=r.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,I,d)),null!==l&&ih(d,I),kr}function hp(){let r=un();Hs()?js():(r=r.parent,Pi(r,!1));const o=r;!function xl(){ht.lFrame.elementDepthCount--}();const a=Tt();return a.firstCreatePass&&(Kl(a,r),Ma(r)&&a.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Ja(r){return 0!=(16&r.flags)}(o)&&fm(a,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Jc(r){return 0!=(32&r.flags)}(o)&&fm(a,o,Ee(),o.stylesWithoutHost,!1),hp}function fp(r,o,a,l){return kr(r,o,a,l),hp(),fp}function pp(){return Ee()}function Ic(r){return!!r&&"function"==typeof r.then}function Sc(r){return!!r&&"function"==typeof r.subscribe}const Wu=Sc;function pm(r,o,a,l){const d=Ee(),p=Tt(),v=un();return function Iy(r,o,a,l,d,p,v,b){const C=Al(l),A=r.firstCreatePass&&rm(r),k=o[8],G=dy(o);let te=!0;if(3&l.type||b){const Le=li(l,o),ze=b?b(Le):Le,Je=G.length,ve=b?Ut=>b(cn(Ut[l.index])):l.index;let ft=null;if(!b&&C&&(ft=function hh(r,o,a,l){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const v=d[p];if(v===a&&d[p+1]===l){const b=o[7],C=d[p+2];return b.length>C?b[C]:null}"string"==typeof v&&(p+=2)}return null}(r,o,d,l.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=p,ft.__ngLastListenerFn__=p,te=!1;else{p=_m(l,o,k,p,!1);const Ut=a.listen(ze,d,p);G.push(p,Ut),A&&A.push(d,ve,Je,Je+1)}}else p=_m(l,o,k,p,!1);const me=l.outputs;let Te;if(te&&null!==me&&(Te=me[d])){const Le=Te.length;if(Le)for(let ze=0;ze<Le;ze+=2){const Cn=o[Te[ze]][Te[ze+1]].subscribe(p),er=G.length;G.push(p,Cn),A&&A.push(d,l.index,er,-(er+1))}}}(p,d,d[11],v,r,o,0,l),pm}function mm(r,o,a,l){try{return!1!==a(l)}catch(d){return om(r,d),!1}}function _m(r,o,a,l,d){return function p(v){if(v===Function)return l;rp(2&r.flags?Mt(r.index,o):o);let C=mm(o,0,l,v),I=p.__ngNextListenerFn__;for(;I;)C=mm(o,0,I,v)&&C,I=I.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Sy(r=1){return function Mo(r){return(ht.lFrame.contextLView=function Ka(r,o){for(;r>0;)o=o[15],r--;return o}(r,ht.lFrame.contextLView))[8]}(r)}function qC(r,o){let a=null;const l=function Vf(r){const o=r.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(r);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===l?eC(r,p,!0):tC(l,p))return d}else a=d}return a}function Ny(r){const o=Ee()[16][6];if(!o.projection){const l=o.projection=no(r?r.length:1,null),d=l.slice();let p=o.child;for(;null!==p;){const v=r?qC(p,r):0;null!==v&&(d[v]?d[v].projectionNext=p:l[v]=p,d[v]=p),p=p.next}}}function Ay(r,o=0,a){const l=Ee(),d=Tt(),p=ku(d,22+r,16,null,a||null);null===p.projection&&(p.projection=o),js(),64!=(64&p.flags)&&function xv(r,o,a){Yd(o[11],0,o,a,Sv(r,a,o),hi(a.parent||o[6],a,o))}(d,l,p)}function vm(r,o,a){return gp(r,"",o,"",a),vm}function gp(r,o,a,l,d){const p=Ee(),v=Cc(p,o,a,l);return v!==bt&&Bi(Tt(),Qt(),p,r,v,p[11],d,!1),gp}function Mc(r,o,a,l,d){const p=r[a+1],v=null===o;let b=l?po(p):_l(p),C=!1;for(;0!==b&&(!1===C||v);){const A=r[b+1];ym(r[b],o)&&(C=!0,r[b+1]=l?Wf(A):$g(A)),b=l?po(A):_l(A)}C&&(r[a+1]=l?$g(p):Wf(p))}function ym(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&io(r,o)>=0}const qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rc(r){return r.substring(qn.key,qn.keyEnd)}function xy(r,o){const a=qn.textEnd;return a===o?-1:(o=qn.keyEnd=function Cm(r,o,a){for(;o<a&&r.charCodeAt(o)>32;)o++;return o}(r,qn.key=o,a),va(r,o,a))}function va(r,o,a){for(;o<a&&r.charCodeAt(o)<=32;)o++;return o}function Oc(r,o,a){return Go(r,o,a,!1),Oc}function vp(r,o){return Go(r,o,null,!0),vp}function Em(r){!function Hi(r,o,a,l){const d=Tt(),p=Nr(2);d.firstUpdatePass&&Tm(d,null,p,l);const v=Ee();if(a!==bt&&Ti(v,p,a)){const b=d.data[xn()];if(jy(b,l)&&!yp(d,p)){let C=l?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(a=he(C,a||"")),fm(d,b,v,a,l)}else!function ew(r,o,a,l,d,p,v,b){d===bt&&(d=dt);let C=0,I=0,A=0<d.length?d[0]:null,k=0<p.length?p[0]:null;for(;null!==A||null!==k;){const G=C<d.length?d[C+1]:void 0,te=I<p.length?p[I+1]:void 0;let Te,me=null;A===k?(C+=2,I+=2,G!==te&&(me=k,Te=te)):null===k||null!==A&&A<k?(C+=2,me=A):(I+=2,me=k,Te=te),null!==me&&Ku(r,o,a,l,me,Te,v,b),A=C<d.length?d[C]:null,k=I<p.length?p[I]:null}}(d,b,v,v[11],v[p+1],v[p+1]=function XC(r,o,a){if(null==a||""===a)return dt;const l=[],d=fr(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(l,p,d[p]);else"string"==typeof d&&o(l,d);return l}(r,o,a),l,p)}}(We,As,r,!0)}function As(r,o){for(let a=function Dm(r){return function $o(r){qn.key=0,qn.keyEnd=0,qn.value=0,qn.valueEnd=0,qn.textEnd=r.length}(r),xy(r,va(r,0,qn.textEnd))}(o);a>=0;a=xy(o,a))We(r,Rc(o),!0)}function Go(r,o,a,l){const d=Ee(),p=Tt(),v=Nr(2);p.firstUpdatePass&&Tm(p,r,v,l),o!==bt&&Ti(d,v,o)&&Ku(p,p.data[xn()],d,d[11],r,d[v+1]=function tw(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=ue(fr(r)))),r}(o,a),l,v)}function yp(r,o){return o>=r.expandoStartIndex}function Tm(r,o,a,l){const d=r.data;if(null===d[a+1]){const p=d[xn()],v=yp(r,a);jy(p,l)&&null===o&&!v&&(o=!1),o=function Ly(r,o,a,l){const d=function Ws(r){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=fh(a=Sm(null,r,o,a,l),o.attrs,l),p=null);else{const v=o.directiveStylingLast;if(-1===v||r[v]!==d)if(a=Sm(d,r,o,a,l),null===p){let C=function Vy(r,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==_l(l))return r[po(l)]}(r,o,l);void 0!==C&&Array.isArray(C)&&(C=Sm(null,r,o,C[1],l),C=fh(C,o.attrs,l),function By(r,o,a,l){r[po(a?o.classBindings:o.styleBindings)]=l}(r,o,l,C))}else p=function Im(r,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=fh(l,r[p].hostAttrs,a);return fh(l,o.attrs,a)}(r,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function Ac(r,o,a,l,d,p){let v=p?o.classBindings:o.styleBindings,b=po(v),C=_l(v);r[l]=a;let A,I=!1;if(Array.isArray(a)){const k=a;A=k[1],(null===A||io(k,A)>0)&&(I=!0)}else A=a;if(d)if(0!==C){const G=po(r[b+1]);r[l+1]=jo(G,b),0!==G&&(r[G+1]=Gf(r[G+1],l)),r[b+1]=function ml(r,o){return 131071&r|o<<17}(r[b+1],l)}else r[l+1]=jo(b,0),0!==b&&(r[b+1]=Gf(r[b+1],l)),b=l;else r[l+1]=jo(C,0),0===b?b=l:r[C+1]=Gf(r[C+1],l),C=l;I&&(r[l+1]=$g(r[l+1])),Mc(r,A,l,!0),Mc(r,A,l,!1),function _p(r,o,a,l,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof o&&io(p,o)>=0&&(a[l+1]=Wf(a[l+1]))}(o,A,r,l,p),v=jo(b,C),p?o.classBindings=v:o.styleBindings=v}(d,p,o,a,v,l)}}function Sm(r,o,a,l,d){let p=null;const v=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<v&&(p=o[b],l=fh(l,p.hostAttrs,d),p!==r);)b++;return null!==r&&(a.directiveStylingLast=b),l}function fh(r,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?d=v:d===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),We(r,v,!!a||o[++p]))}return void 0===r?null:r}function Ku(r,o,a,l,d,p,v,b){if(!(3&o.type))return;const C=r.data,I=C[b+1];Zu(function Gg(r){return 1==(1&r)}(I)?Hy(C,o,a,d,_l(I),v):void 0)||(Zu(p)||function Ei(r){return 2==(2&r)}(I)&&(p=Hy(C,null,a,d,b,v)),function kv(r,o,a,l,d){if(o)d?r.addClass(a,l):r.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Es.DashCase;null==d?r.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Es.Important),r.setStyle(a,l,d,p))}}(l,v,Oi(xn(),a),d,p))}function Hy(r,o,a,l,d,p){const v=null===o;let b;for(;d>0;){const C=r[d],I=Array.isArray(C),A=I?C[1]:C,k=null===A;let G=a[d+1];G===bt&&(G=k?dt:void 0);let te=k?ra(G,l):A===l?G:void 0;if(I&&!Zu(te)&&(te=ra(C,l)),Zu(te)&&(b=te,v))return b;const me=r[d+1];d=v?po(me):_l(me)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(b=ra(C,l))}return b}function Zu(r){return void 0!==r}function jy(r,o){return 0!=(r.flags&(o?16:32))}function $y(r,o=""){const a=Ee(),l=Tt(),d=r+22,p=l.firstCreatePass?ku(l,d,1,o,null):l.data[d],v=a[d]=Sg(a[11],o);Ff(l,a,v,p),Pi(p,!1)}function bp(r,o,a){const l=Ee(),d=Cc(l,r,o,a);return d!==bt&&function ma(r,o,a){const l=Oi(o,r);wv(r[11],l,a)}(l,xn(),d),bp}function Nm(r,o,a){const l=Ee();return Ti(l,No(),o)&&Bi(Tt(),Qt(),l,r,o,l[11],a,!0),Nm}const Pc=void 0;var gw=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pw(r){const a=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let ph={};function Am(r){const o=function PI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=f0(o);if(a)return a;const l=o.split("-")[0];if(a=f0(l),a)return a;if("en"===l)return gw;throw new _e(701,!1)}function h0(r){return Am(r)[ut.PluralCase]}function f0(r){return r in ph||(ph[r]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[r]),ph[r]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const xI=["zero","one","two","few","many"],gh="en-US",Cp={marker:"element"},wp={marker:"ICU"};var Wn=(()=>((Wn=Wn||{})[Wn.SHIFT=2]="SHIFT",Wn[Wn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Wn[Wn.COMMENT=2]="COMMENT",Wn))();let _w=gh;function vw(r){(function wt(r,o){null==r&&Ue(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(_w=r.toLowerCase().replace(/_/g,"-"))}function p0(r,o,a){const l=o.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?Ov(r,0,a):cn(a[d])}function g0(r,o,a,l,d){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=l,b=null;if(3&o.type||(b=v,v=d),null!==v&&0==(2&o.flags))for(let C=1;C<p.length;C++)Ts(r,v,a[p[C]],b,!1)}}function yw(r,o){if(r.push(o),r.length>1)for(let a=r.length-2;a>=0;a--){const l=r[a];bw(l)||LI(l,o)&&null===VI(l)&&Dw(l,o.index)}}function bw(r){return!(64&r.type)}function LI(r,o){return bw(o)||r.index>o.index}function VI(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Dw(r,o){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=o:(Zd(p0,g0),r.insertBeforeIndex=o)}function mh(r,o){const a=r.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function ww(r,o,a){const l=nh(r,a,64,null,null);return yw(o,l),l}function Ep(r,o){const a=o[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function m0(r){return r>>>17}function _0(r){return(131070&r)>>>1}let _h=0,vh=0;function v0(r,o,a,l){const d=a[11];let v,p=null;for(let b=0;b<o.length;b++){const C=o[b];if("string"==typeof C){const I=o[++b];null===a[I]&&(a[I]=Sg(d,C))}else if("number"==typeof C)switch(1&C){case 0:const I=m0(C);let A,k;if(null===p&&(p=I,v=kf(d,l)),I===p?(A=l,k=v):(A=null,k=cn(a[I])),null!==k){const Te=_0(C);Ts(d,k,a[Te],A,!1);const ze=mh(r,Te);if(null!==ze&&"object"==typeof ze){const Je=Ep(ze,a);null!==Je&&v0(r,ze.create[Je],a,a[ze.anchorIdx])}}break;case 1:const te=o[++b],me=o[++b];tp(d,Oi(C>>>1,a),null,null,te,me,null)}else switch(C){case wp:const I=o[++b],A=o[++b];null===a[A]&&di(a[A]=GD(d,I),a);break;case Cp:const k=o[++b],G=o[++b];null===a[G]&&di(a[G]=Pf(d,k,null),a)}}}function y0(r,o,a,l,d){for(let p=0;p<a.length;p++){const v=a[p],b=a[++p];if(v&d){let C="";for(let I=p+1;I<=p+b;I++){const A=a[I];if("string"==typeof A)C+=A;else if("number"==typeof A)if(A<0)C+=pe(o[l-A]);else{const k=A>>>2;switch(3&A){case 1:const G=a[++I],te=a[++I],me=r.data[k];"string"==typeof me?tp(o[11],o[k],null,me,G,C,te):Bi(r,me,o,G,C,o[11],te,!1);break;case 0:const Te=o[k];null!==Te&&wv(o[11],Te,C);break;case 2:Aw(r,mh(r,k),o,C);break;case 3:b0(r,mh(r,k),l,o)}}}}else{const C=a[p+1];if(C>0&&3==(3&C)){const A=mh(r,C>>>2);o[A.currentCaseLViewIndex]<0&&b0(r,A,l,o)}}p+=b}}function b0(r,o,a,l){let d=l[o.currentCaseLViewIndex];if(null!==d){let p=_h;d<0&&(d=l[o.currentCaseLViewIndex]=~d,p=-1),y0(r,l,o.update[d],a,p)}}function Aw(r,o,a,l){const d=function Mw(r,o){let a=r.cases.indexOf(o);if(-1===a)switch(r.type){case 1:{const l=function kI(r,o){const a=h0(o)(parseInt(r,10)),l=xI[a];return void 0!==l?l:"other"}(o,function FI(){return _w}());a=r.cases.indexOf(l),-1===a&&"other"!==l&&(a=r.cases.indexOf("other"));break}case 0:a=r.cases.indexOf("other")}return-1===a?null:a}(o,l);if(Ep(o,a)!==d&&(D0(r,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const v=a[o.anchorIdx];v&&v0(r,o.create[d],a,v)}}function D0(r,o,a){let l=Ep(o,a);if(null!==l){const d=o.remove[l];for(let p=0;p<d.length;p++){const v=d[p];if(v>0){const b=Oi(v,a);null!==b&&ZD(a[11],b)}else D0(r,mh(r,~v),a)}}}function Rw(){const r=[];let a,l,o=-1;function p(b,C){o=0;const I=Ep(b,C);l=null!==I?b.remove[I]:dt}function v(){if(o<l.length){const b=l[o++];return b>0?a[b]:(r.push(o,l),p(a[1].data[~b],a),v())}return 0===r.length?null:(l=r.pop(),o=r.pop(),v())}return function d(b,C){for(a=C;r.length;)r.pop();return p(b.value,C),v}}const Tp=/\ufffd(\d+):?\d*\ufffd/gi,Pw=/\ufffd(\d+)\ufffd/,w0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,kw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Fw=/\uE500/g;function E0(r,o,a,l,d,p,v){const b=Ss(r,l,1,null);let C=b<<Wn.SHIFT,I=os();o===I&&(I=null),null===I&&(C|=Wn.APPEND_EAGERLY),v&&(C|=Wn.COMMENT,function jD(r){void 0===Eg&&(Eg=r())}(Rw)),d.push(C,null===p?"":p);const A=nh(r,b,v?32:1,null===p?"":p,null);yw(a,A);const k=A.index;return Pi(A,!1),null!==I&&o!==I&&function Cw(r,o){let a=r.insertBeforeIndex;null===a?(Zd(p0,g0),a=r.insertBeforeIndex=[null,o]):(function fe(r,o,a){r!=o&&Ue(a,r,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(I,k),A}function Bw(r,o,a,l,d,p,v){const b=v.match(Tp),C=E0(r,o,a,p,l,b?null:v,!1);b&&yh(d,v,C.index,null,0,null)}function yh(r,o,a,l,d,p){const v=r.length,b=v+1;r.push(null,null);const C=v+2,I=o.split(Tp);let A=0;for(let k=0;k<I.length;k++){const G=I[k];if(1&k){const te=d+parseInt(G,10);r.push(-1-te),A|=T0(te)}else""!==G&&r.push(G)}return r.push(a<<2|(l?1:0)),l&&r.push(l,p),r[v]=A,r[b]=r.length-C,A}function T0(r){return 1<<Math.min(r,31)}function $w(r){let o,p,a="",l=0,d=!1;for(;null!==(o=xw.exec(r));)d?o[0]===`\ufffd/*${p}\ufffd`&&(l=o.index,d=!1):(a+=r.substring(l,o.index+o[0].length),p=o[1],d=!0);return a+=r.slice(l),a}function Gw(r,o,a,l,d,p){let v=0;const b={type:d.type,currentCaseLViewIndex:Ss(r,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function KI(r,o,a){r.push(T0(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,p),function BI(r,o,a){const l=r.data[o];null===l?r.data[o]=a:l.value=a}(r,p,b);const C=d.values;for(let I=0;I<C.length;I++){const A=C[I],k=[];for(let G=0;G<A.length;G++){const te=A[G];if("string"!=typeof te){const me=k.push(te)-1;A[G]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}v=WI(r,b,o,a,l,d.cases[I],A.join(""),k)|v}v&&function Zw(r,o,a){r.push(o,1,a<<2|3)}(a,v,p)}function Ww(r){const o=[],a=[];let l=1,d=0;const p=I0(r=r.replace(w0,function(v,b,C){return l="select"===C?0:1,d=parseInt(b.slice(1),10),""}));for(let v=0;v<p.length;){let b=p[v++].trim();1===l&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const C=I0(p[v++]);o.length>a.length&&a.push(C)}return{type:l,mainBinding:d,cases:o,values:a}}function I0(r){if(!r)return[];let o=0;const a=[],l=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(r);){const b=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const C=r.substring(o,b);w0.test(C)?l.push(Ww(C)):l.push(C),o=b+1}}else{if(0==a.length){const C=r.substring(o,b);l.push(C),o=b+1}a.push("{")}}const v=r.substring(o);return l.push(v),l}function WI(r,o,a,l,d,p,v,b){const C=[],I=[],A=[];o.cases.push(p),o.create.push(C),o.remove.push(I),o.update.push(A);const G=function Cs(r){const o=new ug(r);return function Od(){try{return!!(new window.DOMParser).parseFromString(Bo(""),"text/html")}catch{return!1}}()?new cg(o):o}(function af(){return void 0!==Ad?Ad:typeof document<"u"?document:void 0}()).getInertBodyElement(v),te=function ha(r){return"content"in r&&function fg(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(G)||G;return te?zw(r,o,a,l,C,I,A,te,d,b,0):0}function zw(r,o,a,l,d,p,v,b,C,I,A){let k=0,G=b.firstChild;for(;G;){const te=Ss(r,a,1,null);switch(G.nodeType){case Node.ELEMENT_NODE:const me=G,Te=me.tagName.toLowerCase();if(ua.hasOwnProperty(Te)){Mm(d,Cp,Te,C,te),r.data[te]=Te;const ve=me.attributes;for(let ft=0;ft<ve.length;ft++){const Ut=ve.item(ft),Cn=Ut.name.toLowerCase();Ut.value.match(Tp)?ac.hasOwnProperty(Cn)&&yh(v,Ut.value,te,Ut.name,0,da[Cn]?ca:null):ZI(d,te,Ut)}k=zw(r,o,a,l,d,p,v,G,te,I,A+1)|k,Kw(p,te,A)}break;case Node.TEXT_NODE:const Le=G.textContent||"",ze=Le.match(Tp);Mm(d,null,ze?"":Le,C,te),Kw(p,te,A),ze&&(k=yh(v,Le,te,null,0,null)|k);break;case Node.COMMENT_NODE:const Je=Pw.exec(G.textContent||"");if(Je){const ft=I[parseInt(Je[1],10)];Mm(d,wp,"",C,te),Gw(r,a,l,C,ft,te),zI(p,te,A)}}G=G.nextSibling}return k}function Kw(r,o,a){0===a&&r.push(o)}function zI(r,o,a){0===a&&(r.push(~o),r.push(o))}function Mm(r,o,a,l,d){null!==o&&r.push(o),r.push(a,d,function Tw(r,o,a){return r|o<<17|a<<1}(0,l,d))}function ZI(r,o,a){r.push(o<<1|1,a.name,a.value)}function tE(r,o,a=-1){const l=Tt(),d=Ee(),p=22+r,v=zi(l.consts,o),b=os();l.firstCreatePass&&function Vw(r,o,a,l,d,p){const v=os(),b=[],C=[],I=[[]];d=function GI(r,o){if(function jw(r){return-1===r}(o))return $w(r);{const a=r.indexOf(`:${o}\ufffd`)+2+o.toString().length,l=r.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return $w(r.substring(a,l))}}(d,p);const A=function Lw(r){return r.replace(Fw," ")}(d).split(kw);for(let k=0;k<A.length;k++){let G=A[k];if(0==(1&k)){const te=I0(G);for(let me=0;me<te.length;me++){let Te=te[me];if(0==(1&me)){const Le=Te;""!==Le&&Bw(r,v,I[0],b,C,a,Le)}else{const Le=Te;if("object"!=typeof Le)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Gw(r,a,C,o,Le,E0(r,v,I[0],a,b,"",!0).index)}}}else{const te=47===G.charCodeAt(0),Te=(G.charCodeAt(te?1:0),22+Number.parseInt(G.substring(te?2:1)));if(te)I.shift(),Pi(os(),!1);else{const Le=ww(r,I[0],Te);I.unshift([]),Pi(Le,!0)}}}r.data[l]={create:b,update:C}}(l,null===b?0:b.index,d,p,v,a);const C=l.data[p],A=Nv(l,b===d[6]?null:b,d);(function Nw(r,o,a,l){const d=r[11];for(let p=0;p<o.length;p++){const v=o[p++],b=o[p],C=(v&Wn.COMMENT)===Wn.COMMENT,I=(v&Wn.APPEND_EAGERLY)===Wn.APPEND_EAGERLY,A=v>>>Wn.SHIFT;let k=r[A];null===k&&(k=r[A]=C?d.createComment(b):Sg(d,b)),I&&null!==a&&Ts(d,a,k,l,!1)}})(d,C.create,A,b&&8&b.type?d[b.index]:null),Gs(!0)}function S0(r,o,a){tE(r,o,a),function nE(){Gs(!1)}()}function N0(r){return function Iw(r){r&&(_h|=1<<Math.min(vh,31)),vh++}(Ti(Ee(),No(),r)),N0}function bh(r){!function Sw(r,o,a){if(vh>0){const l=r.data[a];y0(r,o,Array.isArray(l)?l:l.update,function ar(){return ht.lFrame.bindingIndex}()-vh-1,_h)}_h=0,vh=0}(Tt(),Ee(),r+22)}function Dh(r,o,a,l,d){if(r=q(r),Array.isArray(r))for(let p=0;p<r.length;p++)Dh(r[p],o,a,l,d);else{const p=Tt(),v=Ee();let b=mr(r)?r:q(r.provide),C=Cu(r);const I=un(),A=1048575&I.providerIndexes,k=I.directiveStart,G=I.providerIndexes>>20;if(mr(r)||!r.multi){const te=new Qr(C,d,Ru),me=ya(b,o,d?A:A+G,k);-1===me?(Xr(Po(I,v),p,b),Wo(p,r,o.length),o.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(te),v.push(te)):(a[me]=te,v[me]=te)}else{const te=ya(b,o,A+G,k),me=ya(b,o,A,A+G),Te=te>=0&&a[te],Le=me>=0&&a[me];if(d&&!Le||!d&&!Te){Xr(Po(I,v),p,b);const ze=function eS(r,o,a,l,d){const p=new Qr(r,a,Ru);return p.multi=[],p.index=o,p.componentProviders=0,Ip(p,d,l&&!a),p}(d?XI:A0,a.length,d,l,C);!d&&Le&&(a[me].providerFactory=ze),Wo(p,r,o.length,0),o.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(ze),v.push(ze)}else Wo(p,r,te>-1?te:me,Ip(a[d?me:te],C,!d&&l));!d&&l&&Le&&a[me].componentProviders++}}}function Wo(r,o,a,l){const d=mr(o),p=function Ud(r){return!!r.useClass}(o);if(d||p){const C=(p?q(o.useClass):o).prototype.ngOnDestroy;if(C){const I=r.destroyHooks||(r.destroyHooks=[]);if(!d&&o.multi){const A=I.indexOf(a);-1===A?I.push(a,[l,C]):I[A+1].push(l,C)}else I.push(a,C)}}}function Ip(r,o,a){return a&&r.componentProviders++,r.multi.push(o)-1}function ya(r,o,a,l){for(let d=a;d<l;d++)if(o[d]===r)return d;return-1}function A0(r,o,a,l){return M0(this.multi,[])}function XI(r,o,a,l){const d=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Ar(a,a[1],this.providerFactory.index,l);p=b.slice(0,v),M0(d,p);for(let C=v;C<b.length;C++)p.push(b[C])}else p=[],M0(d,p);return p}function M0(r,o){for(let a=0;a<r.length;a++)o.push((0,r[a])());return o}function R0(r,o=[]){return a=>{a.providersResolver=(l,d)=>function rE(r,o,a){const l=Tt();if(l.firstCreatePass){const d=ei(r);Dh(a,l.data,l.blueprint,d,!0),Dh(o,l.data,l.blueprint,d,!1)}}(l,d?d(r):r,o)}}class zo{}class O0{}function tS(r,o){return new Rm(r,o??null)}class Rm extends zo{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ap(this);const l=si(o);this._bootstrapComponents=pa(l.bootstrap),this._r3Injector=Bg(o,a,[{provide:zo,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],ue(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Om extends O0{constructor(o){super(),this.moduleType=o}create(o){return new Rm(this.moduleType,o)}}class oE extends zo{constructor(o,a,l){super(),this.componentFactoryResolver=new ap(this),this.instance=null;const d=new bu([...o,{provide:zo,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],a||yu(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function kc(r,o,a=null){return new oE(r,o,a).injector}let Qi=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=gu(0,a.type),d=l.length>0?kc([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=kt({token:r,providedIn:"environment",factory:()=>new r(It(uo))}),r})();function P0(r){r.getStandaloneInjector=o=>o.get(Qi).getOrCreateStandaloneInjector(r)}function Vm(r,o,a,l){return function hE(r,o,a,l,d,p){const v=o+a;return Ti(r,v,d)?Ui(r,v+1,p?l.call(p,d):l(d)):Ko(r,v+1)}(Ee(),dn(),r,o,a,l)}function Yu(r,o,a,l,d){return function Bm(r,o,a,l,d,p,v){const b=o+a;return Dc(r,b,d,p)?Ui(r,b+2,v?l.call(v,d,p):l(d,p)):Ko(r,b+2)}(Ee(),dn(),r,o,a,l,d)}function wh(r,o,a,l,d,p){return function fE(r,o,a,l,d,p,v,b){const C=o+a;return function dh(r,o,a,l,d){const p=Dc(r,o,a,l);return Ti(r,o+2,d)||p}(r,C,d,p,v)?Ui(r,C+3,b?l.call(b,d,p,v):l(d,p,v)):Ko(r,C+3)}(Ee(),dn(),r,o,a,l,d,p)}function Ko(r,o){const a=r[o];return a===bt?void 0:a}function j0(r){return o=>{setTimeout(r,void 0,o)}}const ba=class uS extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),v=l;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=j0(p),d&&(d=j0(d)),v&&(v=j0(v)));const b=super.subscribe({next:d,error:p,complete:v});return o instanceof X.w0&&o.add(b),b}};function mE(){return this._results[vl()]()}class Hm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=vl(),l=Hm.prototype;l[a]||(l[a]=mE)}get changes(){return this._changes||(this._changes=new ba)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Bt(o);(this._changesDetected=!function qt(r,o,a){if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++){let d=r[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Np=(()=>{class r{}return r.__NG_ELEMENT_ID__=fS,r})();const dS=Np,hS=class extends dS{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,d=qf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(l)),Fu(l,d,o),new lh(d)}};function fS(){return Ap(un(),Ee())}function Ap(r,o){return 4&r.type?new hS(o,r,S(r,o)):null}let jm=(()=>{class r{}return r.__NG_ELEMENT_ID__=pS,r})();function pS(){return bE(un(),Ee())}const _E=jm,vE=class extends _E{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return S(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const o=tl(this._hostTNode,this._hostLView);if(Xc(o)){const a=Ys(o,this._hostLView),l=$n(o);return new ko(a[1].data[l+8],a)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=yE(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,d),v}createComponent(o,a,l,d,p){const v=o&&!function Di(r){return"function"==typeof r}(o);let b;if(v)b=a;else{const k=a||{};b=k.index,l=k.injector,d=k.projectableNodes,p=k.environmentInjector||k.ngModuleRef}const C=v?o:new Uu(vt(o)),I=l||this.parentInjector;if(!p&&null==C.ngModule){const G=(v?I:this.parentInjector).get(uo,null);G&&(p=G)}const A=C.create(I,d,void 0,p);return this.insert(A.hostView,b),A}insert(o,a){const l=o._lView,d=l[1];if(function Fa(r){return ai(r[3])}(l)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const k=l[3],G=new vE(k,k[6],k[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function WD(r,o,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=o),l<p-10?(o[4]=a[d],na(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function zD(r,o){const a=r[9];o[16]!==o[3][3][16]&&(r[2]=!0),null===a?r[9]=[o]:a.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(r),o[2]|=64}(d,l,v,p);const b=Pv(p,v),C=l[11],I=kf(C,v[7]);return null!==I&&function Ev(r,o,a,l,d,p){l[0]=d,l[6]=o,gc(r,l,a,1,d,p)}(d,v[6],C,l,I,b),o.attachToViewContainerRef(),na($0(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=yE(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Ag(this._lContainer,a);l&&(bn($0(this._lContainer),a),zd(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Ag(this._lContainer,a);return l&&null!=bn($0(this._lContainer),a)?new lh(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function yE(r){return r[8]}function $0(r){return r[8]||(r[8]=[])}function bE(r,o){let a;const l=o[r.index];if(ai(l))a=l;else{let d;if(8&r.type)d=cn(l);else{const p=o[11];d=p.createComment("");const v=li(r,o);Ts(p,kf(p,v),d,function Rv(r,o){return r.nextSibling(o)}(p,v),!1)}o[r.index]=a=ay(l,o,d,r),ip(o,a)}return new vE(a,r,o)}class G0{constructor(o){this.queryList=o,this.matches=null}clone(){return new G0(this.queryList)}setDirty(){this.queryList.setDirty()}}class W0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const v=a.getByIndex(p);d.push(this.queries[v.indexInDeclarationView].clone())}return new W0(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==eb(o,a).matches&&this.queries[a].setDirty()}}class Jn{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class z0{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new z0(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class K0{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new K0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,mS(a,p)),this.matchTNodeWithReadOption(o,a,ds(a,o,p,!1,!1))}else l===Np?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ds(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===R||d===jm||d===Np&&4&a.type)this.addMatch(a.index,-2);else{const p=ds(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function mS(r,o){const a=r.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Mp(r,o,a,l){return-1===a?function _S(r,o){return 11&r.type?S(r,o):4&r.type?Ap(r,o):null}(o,r):-2===a?function Z0(r,o,a){return a===R?S(o,r):a===Np?Ap(o,r):a===jm?bE(o,r):void 0}(r,o,l):Ar(r,r[1],a,o)}function Y0(r,o,a,l){const d=o[19].queries[l];if(null===d.matches){const p=r.data,v=a.matches,b=[];for(let C=0;C<v.length;C+=2){const I=v[C];b.push(I<0?null:Mp(o,p[I],v[C+1],a.metadata.read))}d.matches=b}return d.matches}function $m(r,o,a,l){const d=r.queries.getByIndex(a),p=d.matches;if(null!==p){const v=Y0(r,o,d,a);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)l.push(v[b/2]);else{const I=p[b+1],A=o[-C];for(let k=10;k<A.length;k++){const G=A[k];G[17]===G[3]&&$m(G[1],G,I,l)}if(null!==A[9]){const k=A[9];for(let G=0;G<k.length;G++){const te=k[G];$m(te[1],te,I,l)}}}}}return l}function q0(r){const o=Ee(),a=Tt(),l=Ul();zs(l+1);const d=eb(a,l);if(r.dirty&&function ka(r){return 4==(4&r[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?$m(a,o,l,[]):Y0(a,o,d,l);r.reset(p,Z),r.notifyOnChanges()}return!0}return!1}function Gm(r,o,a){const l=Tt();l.firstCreatePass&&(X0(l,new Jn(r,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),Q0(l,Ee(),o)}function Wm(r,o,a,l){const d=Tt();if(d.firstCreatePass){const p=un();X0(d,new Jn(o,a,l),p.index),function wE(r,o){const a=r.contentQueries||(r.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,o)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}Q0(d,Ee(),a)}function J0(){return function CE(r,o){return r[19].queries[o].queryList}(Ee(),Ul())}function Q0(r,o,a){const l=new Hm(4==(4&a));Xf(r,o,l,l.destroy),null===o[19]&&(o[19]=new W0),o[19].queries.push(new G0(l))}function X0(r,o,a){null===r.queries&&(r.queries=new z0),r.queries.track(new K0(o,a))}function eb(r,o){return r.queries.getByIndex(o)}function tb(r,o){return Ap(r,o)}function Nh(...r){}const VE=new Yt("Application Initializer");let t_=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Nh,this.reject=Nh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Ic(p))a.push(p);else if(Wu(p)){const v=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(It(VE,8))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const BE=new Yt("AppId",{providedIn:"root",factory:function UE(){return`${lb()}${lb()}${lb()}`}});function lb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HE=new Yt("Platform Initializer"),OS=new Yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jE=new Yt("appBootstrapListener");let PS=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const n_=new Yt("LocaleId",{providedIn:"root",factory:()=>w(n_,He.Optional|He.SkipSelf)||function xS(){return typeof $localize<"u"&&$localize.locale||gh}()}),cb=new Yt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class i_{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let xp=(()=>{class r{compileModuleSync(a){return new Om(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=pa(si(a).declarations).reduce((v,b)=>{const C=vt(b);return C&&v.push(new Uu(C)),v},[]);return new i_(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const hb=(()=>Promise.resolve(0))();function o_(r){typeof Zone>"u"?hb.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class _o{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ah(){let r=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function zE(r){const o=()=>{!function WE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Gt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Fp(r),r.isCheckStableRunning=!0,s_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Fp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,v,b)=>{try{return fb(r),a.invokeTask(d,p,v,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&o(),a_(r)}},onInvoke:(a,l,d,p,v,b,C)=>{try{return fb(r),a.invoke(d,p,v,b,C)}finally{r.shouldCoalesceRunChangeDetection&&o(),a_(r)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,Fp(r),s_(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_o.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new _e(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+d,o,GE,Nh,Nh);try{return p.runTask(v,a,l)}finally{p.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const GE={};function s_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Fp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function fb(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function a_(r){r._nesting--,s_(r)}class KE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const l_=new Yt(""),Lp=new Yt("");let d_,c_=(()=>{class r{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d_||(function ZE(r){d_=r}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),o_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())o_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(It(_o),It(u_),It(Lp))},r.\u0275prov=kt({token:r,factory:r.\u0275fac}),r})(),u_=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return d_?.findTestabilityInTree(this,a,l)??null}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Rs=null;const YE=new Yt("AllowMultipleToken"),pb=new Yt("PlatformDestroyListeners");class mb{constructor(o,a){this.name=o,this.token=a}}function XE(r,o,a=[]){const l=`Platform: ${o}`,d=new Yt(l);return(p=[])=>{let v=p_();if(!v||v.injector.get(YE,!1)){const b=[...a,...p,{provide:d,useValue:!0}];r?r(b):function _b(r){if(Rs&&!Rs.get(YE,!1))throw new _e(400,!1);Rs=r;const o=r.get(yb);(function h_(r){const o=r.get(HE,null);o&&o.forEach(a=>a())})(r)}(function f_(r=[],o){return _c.create({name:o,providers:[{provide:_u,useValue:"platform"},{provide:pb,useValue:new Set([()=>Rs=null])},...r]})}(b,l))}return function LS(r){const o=p_();if(!o)throw new _e(401,!1);return o}()}}function p_(){return Rs?.get(yb)??null}let yb=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function g_(r,o){let a;return a="noop"===r?new KE:("zone.js"===r?void 0:r)||new _o(o),a}(l?.ngZone,function bb(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:_o,useValue:d}];return d.run(()=>{const v=_c.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(v),C=b.injector.get($d,null);if(!C)throw new _e(402,!1);return d.runOutsideAngular(()=>{const I=d.onError.subscribe({next:A=>{C.handleError(A)}});b.onDestroy(()=>{__(this._modules,b),I.unsubscribe()})}),function Db(r,o,a){try{const l=a();return Ic(l)?l.catch(d=>{throw o.runOutsideAngular(()=>r.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>r.handleError(l)),l}}(C,d,()=>{const I=b.injector.get(t_);return I.runInitializers(),I.donePromise.then(()=>(vw(b.injector.get(n_,gh)||gh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const d=eT({},l);return function qE(r,o,a){const l=new Om(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(m_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new _e(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(pb,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(It(_c))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function eT(r,o){return Array.isArray(o)?o.reduce(eT,r):{...r,...o}}let m_=(()=>{class r{constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new P.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),o_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),I.unsubscribe()}});this.isStable=(0,se.T)(p,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof jd;if(!this._injector.get(t_).done)throw!d&&ir(a),new _e(405,false);let v;v=d?a:this._injector.get(g).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const b=function gb(r){return r.isBoundToModule}(v)?void 0:this._injector.get(zo),I=v.create(_c.NULL,[],l||v.selector,b),A=I.location.nativeElement,k=I.injector.get(l_,null);return k?.registerApplication(A),I.onDestroy(()=>{this.detachView(I.hostView),__(this.components,I),k?.unregisterApplication(A)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;__(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(jE,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>__(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new _e(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(a){return new(a||r)(It(_o),It(uo),It($d))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function __(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}let v_=!0,nT=!1;function US(){return nT=!0,v_}function Cb(){if(nT)throw new Error("Cannot enable prod mode after platform setup.");v_=!1}let HS=(()=>{class r{}return r.__NG_ELEMENT_ID__=jS,r})();function jS(r){return function $S(r,o,a){if(Vs(r)&&!a){const l=Mt(r.index,o);return new lh(l,l)}return 47&r.type?new lh(o[16],o):null}(un(),Ee(),16==(16&r))}class sT{constructor(){}supports(o){return cp(o)}create(o){return new YS(o)}}const aT=(r,o)=>o;class YS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||aT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const v=!l||a&&a.currentIndex<C_(l,d,p)?a:l,b=C_(v,d,p),C=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{p||(p=[]);const I=b-d,A=C-d;if(I!=A){for(let G=0;G<I;G++){const te=G<p.length?p[G]:p[G]=0,me=te+G;A<=me&&me<I&&(p[G]=te+1)}p[v.previousIndex]=A-I}}b!==C&&o(v,b,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!cp(o))throw new _e(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],v=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,p,v,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,b),l=!0),a=a._next}else d=0,function jC(r,o){if(Array.isArray(r))for(let a=0;a<r.length;a++)o(r[a]);else{const a=r[vl()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{v=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,b,v,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new qS(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new lT),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lT),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class qS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class lT{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new JS,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C_(r,o,a){const l=r.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class cT{constructor(){}supports(o){return o instanceof Map||up(o)}create(){return new QS}}class QS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||up(o)))throw new _e(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,v=d._next;return p&&(p._next=v),v&&(v._prev=p),d._next=null,d._prev=null,d}const l=new XS(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class XS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uT(){return new Sb([new sT])}let Sb=(()=>{class r{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||uT()),deps:[[r,new lt,new Ae]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new _e(901,!1)}}return r.\u0275prov=kt({token:r,providedIn:"root",factory:uT}),r})();function dT(){return new Nb([new cT])}let Nb=(()=>{class r{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||dT()),deps:[[r,new lt,new Ae]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new _e(901,!1)}}return r.\u0275prov=kt({token:r,providedIn:"root",factory:dT}),r})();const pT=XE(null,"core",[]);let Mb=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(It(m_))},r.\u0275mod=et({type:r}),r.\u0275inj=_t({}),r})();function qo(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Bp(r,o){const a=vt(r),l=o.elementInjector||yu();return new Uu(a).create(l,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(Qe,Ce,x)=>{x.d(Ce,{Z:()=>_e});var u=x(2090),X=x(4859),P=x(9681),se=x(1877);class re{constructor(pe,de){this._delegate=pe,this.firebase=de,(0,P._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(pe,de=P._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(pe);return!qe.isInitialized()&&"EXPLICIT"===(null===(je=qe.getComponent())||void 0===je?void 0:je.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:de})}_removeServiceInstance(pe,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(de)}_addComponent(pe){(0,P._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,P._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function he(){const Ge=function ue(Ge){const pe={},de={__esModule:!0,initializeApp:function Ie(Ve,U={}){const fe=P.initializeApp(Ve,U);if((0,u.r3)(pe,fe.name))return pe[fe.name];const Y=new Ge(fe,de);return pe[fe.name]=Y,Y},app:qe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(Ve){const U=Ve.name,fe=U.replace("-compat","");if(P._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Y=(ee=qe())=>{if("function"!=typeof ee[fe])throw ae.create("invalid-app-argument",{appName:U});return ee[fe]()};void 0!==Ve.serviceProps&&(0,u.ZB)(Y,Ve.serviceProps),de[fe]=Y,Ge.prototype[fe]=function(...ee){return this._getService.bind(this,U).apply(this,Ve.multipleInstances?ee:[])}}return"PUBLIC"===Ve.type?de[fe]:null},removeApp:function je(Ve){delete pe[Ve]},useAsService:function xe(Ve,U){return"serverAuth"===U?null:U},modularAPIs:P}};function qe(Ve){if(!(0,u.r3)(pe,Ve=Ve||P._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ve});return pe[Ve]}return de.default=de,Object.defineProperty(de,"apps",{get:function ge(){return Object.keys(pe).map(Ve=>pe[Ve])}}),qe.App=Ge,de}(re);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(de){(0,u.ZB)(Ge,de)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ge}(),$=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=H;!function Se(Ge){(0,P.registerVersion)("@firebase/app-compat","0.1.34",Ge)}()},9681:(Qe,Ce,x)=>{x.r(Ce),x.d(Ce,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Gr,_DEFAULT_ENTRY_NAME:()=>wt,_addComponent:()=>xt,_addOrOverwriteComponent:()=>kt,_apps:()=>$t,_clearComponents:()=>es,_components:()=>gn,_getProvider:()=>_t,_registerComponent:()=>ri,_removeServiceInstance:()=>jt,deleteApp:()=>ts,getApp:()=>gi,getApps:()=>Ni,initializeApp:()=>nr,onLog:()=>br,registerVersion:()=>mi,setLogLevel:()=>mn});var u=x(5861),X=x(4859),P=x(1877),se=x(2090),re=x(8766);class ce{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function ae(B){return"VERSION"===B.getComponent()?.type}(z)){const we=z.getImmediate();return`${we.library}/${we.version}`}return null}).filter(z=>z).join(" ")}}const ue="@firebase/app",H=new P.Yd("@firebase/app"),wt="[DEFAULT]",Ue={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,gn=new Map;function xt(B,W){try{B.container.addComponent(W)}catch(z){H.debug(`Component ${W.name} failed to register with FirebaseApp ${B.name}`,z)}}function kt(B,W){B.container.addOrOverwriteComponent(W)}function ri(B){const W=B.name;if(gn.has(W))return H.debug(`There were multiple attempts to register component ${W}.`),!1;gn.set(W,B);for(const z of $t.values())xt(z,B);return!0}function _t(B,W){const z=B.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),B.container.getProvider(W)}function jt(B,W,z=wt){_t(B,W).clearInstance(z)}function es(){gn.clear()}const Xn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pi{constructor(W,z,we){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=we,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Gr="9.10.0";function nr(B,W={}){"object"!=typeof W&&(W={name:W});const z=Object.assign({name:wt,automaticDataCollectionEnabled:!1},W),we=z.name;if("string"!=typeof we||!we)throw Xn.create("bad-app-name",{appName:String(we)});const ke=$t.get(we);if(ke){if((0,se.vZ)(B,ke.options)&&(0,se.vZ)(z,ke.config))return ke;throw Xn.create("duplicate-app",{appName:we})}const et=new X.H0(we);for(const Vt of gn.values())et.addComponent(Vt);const Zt=new pi(B,z,et);return $t.set(we,Zt),Zt}function gi(B=wt){const W=$t.get(B);if(!W)throw Xn.create("no-app",{appName:B});return W}function Ni(){return Array.from($t.values())}function ts(B){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(B){const W=B.name;$t.has(W)&&($t.delete(W),yield Promise.all(B.container.getProviders().map(z=>z.delete())),B.isDeleted=!0)})).apply(this,arguments)}function mi(B,W,z){var we;let ke=null!==(we=Ue[B])&&void 0!==we?we:B;z&&(ke+=`-${z}`);const et=ke.match(/\s|\//),Zt=W.match(/\s|\//);if(et||Zt){const Vt=[`Unable to register library "${ke}" with version "${W}":`];return et&&Vt.push(`library name "${ke}" contains illegal characters (whitespace or "/")`),et&&Zt&&Vt.push("and"),Zt&&Vt.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void H.warn(Vt.join(" "))}ri(new X.wA(`${ke}-version`,()=>({library:ke,version:W}),"VERSION"))}function br(B,W){if(null!==B&&"function"!=typeof B)throw Xn.create("invalid-log-argument");(0,P.Am)(B,W)}function mn(B){(0,P.Ub)(B)}const _n="firebase-heartbeat-store";let In=null;function Kt(){return In||(In=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(B,W)=>{0===W&&B.createObjectStore(_n)}}).catch(B=>{throw Xn.create("idb-open",{originalErrorMessage:B.message})})),In}function Xe(){return(Xe=(0,u.Z)(function*(B){var W;try{return(yield Kt()).transaction(_n).objectStore(_n).get(Un(B))}catch(z){if(z instanceof se.ZR)H.warn(z.message);else{const we=Xn.create("idb-get",{originalErrorMessage:null===(W=z)||void 0===W?void 0:W.message});H.warn(we.message)}}})).apply(this,arguments)}function Gt(B,W){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(B,W){var z;try{const ke=(yield Kt()).transaction(_n,"readwrite");return yield ke.objectStore(_n).put(W,Un(B)),ke.done}catch(we){if(we instanceof se.ZR)H.warn(we.message);else{const ke=Xn.create("idb-set",{originalErrorMessage:null===(z=we)||void 0===z?void 0:z.message});H.warn(ke.message)}}})).apply(this,arguments)}function Un(B){return`${B.name}!${B.options.appId}`}class Dr{constructor(W){this.container=W,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new Ft(z),this._heartbeatsCachePromise=this._storage.read().then(we=>(this._heartbeatsCache=we,we))}triggerHeartbeat(){var W=this;return(0,u.Z)(function*(){const we=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ke=Lt();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==ke&&!W._heartbeatsCache.heartbeats.some(et=>et.date===ke))return W._heartbeatsCache.heartbeats.push({date:ke,agent:we}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(et=>{const Zt=new Date(et.date).valueOf();return Date.now()-Zt<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,u.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const z=Lt(),{heartbeatsToSend:we,unsentEntries:ke}=function $i(B,W=1024){const z=[];let we=B.slice();for(const ke of B){const et=z.find(Zt=>Zt.agent===ke.agent);if(et){if(et.dates.push(ke.date),K(z)>W){et.dates.pop();break}}else if(z.push({agent:ke.agent,dates:[ke.date]}),K(z)>W){z.pop();break}we=we.slice(1)}return{heartbeatsToSend:z,unsentEntries:we}}(W._heartbeatsCache.heartbeats),et=(0,se.L)(JSON.stringify({version:2,heartbeats:we}));return W._heartbeatsCache.lastSentHeartbeatDate=z,ke.length>0?(W._heartbeatsCache.heartbeats=ke,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),et})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,u.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function ot(B){return Xe.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var z=this;return(0,u.Z)(function*(){var we;if(yield z._canUseIndexedDBPromise){const et=yield z.read();return Gt(z.app,{lastSentHeartbeatDate:null!==(we=W.lastSentHeartbeatDate)&&void 0!==we?we:et.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var z=this;return(0,u.Z)(function*(){var we;if(yield z._canUseIndexedDBPromise){const et=yield z.read();return Gt(z.app,{lastSentHeartbeatDate:null!==(we=W.lastSentHeartbeatDate)&&void 0!==we?we:et.lastSentHeartbeatDate,heartbeats:[...et.heartbeats,...W.heartbeats]})}})()}}function K(B){return(0,se.L)(JSON.stringify({version:2,heartbeats:B})).length}!function j(B){ri(new X.wA("platform-logger",W=>new ce(W),"PRIVATE")),ri(new X.wA("heartbeat",W=>new Dr(W),"PRIVATE")),mi(ue,"0.7.33",B),mi(ue,"0.7.33","esm2017"),mi("fire-js","")}("")},4859:(Qe,Ce,x)=>{x.d(Ce,{H0:()=>ue,wA:()=>P,zt:()=>re});var u=x(5861),X=x(2090);class P{constructor(H,$,q){this.name=H,this.instanceFactory=$,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class re{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const q=new X.BH;if(this.instancesDeferred.set($,q),this.isInitialized($)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:$});Pe&&q.resolve(Pe)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const q=this.normalizeInstanceIdentifier(H?.identifier),Pe=null!==($=H?.optional)&&void 0!==$&&$;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Se){if(Pe)return null;throw Se}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ae(he){return"EAGER"===he.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[$,q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier($);try{const Se=this.getOrInitializeService({instanceIdentifier:Pe});q.resolve(Se)}catch{}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,u.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...$.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:q,options:$});for(const[Se,_e]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Se)&&_e.resolve(Pe);return Pe}onInit(H,$){var q;const Pe=this.normalizeInstanceIdentifier($),Se=null!==(q=this.onInitCallbacks.get(Pe))&&void 0!==q?q:new Set;Se.add(H),this.onInitCallbacks.set(Pe,Se);const _e=this.instances.get(Pe);return _e&&H(_e,Pe),()=>{Se.delete(H)}}invokeOnInitCallbacks(H,$){const q=this.onInitCallbacks.get($);if(q)for(const Pe of q)try{Pe(H,$)}catch{}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(he=H,he===se?void 0:he),options:$}),this.instances.set(H,q),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch{}var he;return q||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new re(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Qe,Ce,x)=>{x.d(Ce,{Am:()=>he,Ub:()=>ue,Yd:()=>ae,in:()=>X});const u=[];var X=(()=>{return(H=X||(X={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",X;var H})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},se=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ce=(H,$,...q)=>{if($<H.logLevel)return;const Pe=(new Date).toISOString(),Se=re[$];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Se](`[${Pe}]  ${H.name}:`,...q)};class ae{constructor($){this.name=$,this._logLevel=se,this._logHandler=ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function ue(H){u.forEach($=>{$.setLogLevel(H)})}function he(H,$){for(const q of u){let Pe=null;$&&$.level&&(Pe=P[$.level]),q.userLogHandler=null===H?null:(Se,_e,...Ge)=>{const pe=Ge.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");_e>=(Pe??Se.logLevel)&&H({level:X[_e].toLowerCase(),message:pe,args:Ge,type:Se.name})}}}},8766:(Qe,Ce,x)=>{x.d(Ce,{Lj:()=>Ie,X3:()=>qe});var u=x(5861);let P,se;const ae=new WeakMap,ue=new WeakMap,he=new WeakMap,H=new WeakMap,$=new WeakMap;let Se={get(U,fe,Y){if(U instanceof IDBTransaction){if("done"===fe)return ue.get(U);if("objectStoreNames"===fe)return U.objectStoreNames||he.get(U);if("store"===fe)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return de(U[fe])},set:(U,fe,Y)=>(U[fe]=Y,!0),has:(U,fe)=>U instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in U};function pe(U){return"function"==typeof U?function Ge(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...fe){return U.apply(je(this),fe),de(ae.get(this))}:function(...fe){return de(U.apply(je(this),fe))}:function(fe,...Y){const ee=U.call(je(this),fe,...Y);return he.set(ee,fe.sort?fe.sort():[fe]),de(ee)}}(U):(U instanceof IDBTransaction&&function Pe(U){if(ue.has(U))return;const fe=new Promise((Y,ee)=>{const oe=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Re),U.removeEventListener("abort",Re)},ne=()=>{Y(),oe()},Re=()=>{ee(U.error||new DOMException("AbortError","AbortError")),oe()};U.addEventListener("complete",ne),U.addEventListener("error",Re),U.addEventListener("abort",Re)});ue.set(U,fe)}(U),((U,fe)=>fe.some(Y=>U instanceof Y))(U,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Se):U)}function de(U){if(U instanceof IDBRequest)return function q(U){const fe=new Promise((Y,ee)=>{const oe=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Re)},ne=()=>{Y(de(U.result)),oe()},Re=()=>{ee(U.error),oe()};U.addEventListener("success",ne),U.addEventListener("error",Re)});return fe.then(Y=>{Y instanceof IDBCursor&&ae.set(Y,U)}).catch(()=>{}),$.set(fe,U),fe}(U);if(H.has(U))return H.get(U);const fe=pe(U);return fe!==U&&(H.set(U,fe),$.set(fe,U)),fe}const je=U=>$.get(U);function qe(U,fe,{blocked:Y,upgrade:ee,blocking:oe,terminated:ne}={}){const Re=indexedDB.open(U,fe),Me=de(Re);return ee&&Re.addEventListener("upgradeneeded",rt=>{ee(de(Re.result),rt.oldVersion,rt.newVersion,de(Re.transaction))}),Y&&Re.addEventListener("blocked",()=>Y()),Me.then(rt=>{ne&&rt.addEventListener("close",()=>ne()),oe&&rt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Me}function Ie(U,{blocked:fe}={}){const Y=indexedDB.deleteDatabase(U);return fe&&Y.addEventListener("blocked",()=>fe()),de(Y).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],xe=new Map;function Ve(U,fe){if(!(U instanceof IDBDatabase)||fe in U||"string"!=typeof fe)return;if(xe.get(fe))return xe.get(fe);const Y=fe.replace(/FromIndex$/,""),ee=fe!==Y,oe=De.includes(Y);if(!(Y in(ee?IDBIndex:IDBObjectStore).prototype)||!oe&&!ge.includes(Y))return;const ne=function(){var Re=(0,u.Z)(function*(Me,...rt){const At=this.transaction(Me,oe?"readwrite":"readonly");let wt=At.store;return ee&&(wt=wt.index(rt.shift())),(yield Promise.all([wt[Y](...rt),oe&&At.done]))[0]});return function(rt){return Re.apply(this,arguments)}}();return xe.set(fe,ne),ne}!function _e(U){Se=U(Se)}(U=>({...U,get:(fe,Y,ee)=>Ve(fe,Y)||U.get(fe,Y,ee),has:(fe,Y)=>!!Ve(fe,Y)||U.has(fe,Y)}))},5861:(Qe,Ce,x)=>{function u(P,se,re,ce,ae,ue,he){try{var H=P[ue](he),$=H.value}catch(q){return void re(q)}H.done?se($):Promise.resolve($).then(ce,ae)}function X(P){return function(){var se=this,re=arguments;return new Promise(function(ce,ae){var ue=P.apply(se,re);function he($){u(ue,ce,ae,he,H,"next",$)}function H($){u(ue,ce,ae,he,H,"throw",$)}he(void 0)})}}x.d(Ce,{Z:()=>X})}},Qe=>{Qe(Qe.s=876)}]);